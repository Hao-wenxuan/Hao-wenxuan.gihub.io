<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>zicon2loongarch</title>
      <link href="/article/1d88ba6c/"/>
      <url>/article/1d88ba6c/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/Hexancer/Zircon_Docker">https://github.com/Hexancer/Zircon_Docker</a></p><h4 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h4><ol><li><p>Download Docker Image</p><p>Link: <a href="https://pan.baidu.com/s/1UsXLN-3eO2wOOfe8SEDDVw?pwd=g9ux">https://pan.baidu.com/s/1UsXLN-3eO2wOOfe8SEDDVw?pwd=g9ux</a></p></li><li><p>Import Docker Image</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gunzip zircon.tar.gz</span><br><span class="line">docker import zircon.tar your_image_name:tag</span><br><span class="line">docker run --name your_container_name -d -it your_image_name /bin/bash</span><br></pre></td></tr></table></figure><p>Compile</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/geng/zircon/</span><br><span class="line">make build</span><br></pre></td></tr></table></figure><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240417165151525.png" alt="image-20240417165151525"></p></li><li><p>Run</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/geng/zircon/</span><br><span class="line">make runla64</span><br></pre></td></tr></table></figure></li></ol><p>é‡åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜</p><p>æ¶¦ä¸èµ·æ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/geng/zircon/scripts/run-zircon: line 403: /home/geng/qemu-loongarch-runenv/qemu/loongarch64/qemu-system-loongarch64: cannot execute binary file: Exec format error</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹qemuè·¯å¾„ä¸ºx86_64</p><p>æµ‹è¯•</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240424103358383.png" alt="image-20240424103358383"></p><ul><li><p>[x] alloc_cpp                        : Tests of the C++ AllocChecker</p></li><li><p>[ ] brwlock                          : brwlock tests</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Test brwlock [1 / 1]</span><br><span class="line">brwlock : Running 8 tests...</span><br><span class="line">  parallel readers(PI)      : PASSED (344973250 nSec)</span><br><span class="line">page fault: PC at 0, is_user 0, BADV 0</span><br><span class="line">iframe 0xffffff8103024da0:</span><br><span class="line">r0                    0 r1                    0 r2   0xffffff8090407890 r3   0xffffff8103025000</span><br><span class="line">r4   0xffffff8090407640 r5   0xffffff8103024fa0 r6   0xffffff8103020da8 r7                    0</span><br><span class="line">r8                0x415 r9   0xffffffff001370e8 r10          0x6d757478 r11                0x1e</span><br><span class="line">r12  0xffffff80904077b8 r13          0x6d757478 r14                   0 r15          0xffffffff</span><br><span class="line">r16  0xffffff8000000000 r17                   0 r18         0xa00000000 r19                   0</span><br><span class="line">r20  0xffffff8103020df0 r21  0xffffffff0018a000 r22                   0 r23                   0</span><br><span class="line">r24                   0 r25                   0 r26                   0 r27                   0</span><br><span class="line">r28                   0 r29                   0 rr                    0 rsp                   0</span><br><span class="line">crmd               0xb0 prmd                  0 epc                   0 ecfg              0x800</span><br><span class="line">estt            0x30000 badv                  0 badi         0x28c00061</span><br><span class="line">Fetch page invalid</span><br><span class="line">BUILDID git-557479fd0969d306fe6e2fa72c05cfd9983f56fa</span><br><span class="line"></span><br><span class="line">&#123;&#123;&#123;module:0:kernel:elf:6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00000000:0x103cec:load:0:rx:0xffffffff00000000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00104000:0x47000:load:0:r:0xffffffff00104000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014b000:0x1688:load:0:rw:0xffffffff0014b000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014d000:0x48000:load:0:rw:0xffffffff0014d000&#125;&#125;&#125;</span><br><span class="line">dso: id=6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11 base=0xffffffff00000000 name=zircon.elf</span><br><span class="line">bt#00: 0xffffff8103024da0</span><br><span class="line">bt#01: end</span><br><span class="line">&#123;&#123;&#123;bt:0:0xffffff8103024da0&#125;&#125;&#125;</span><br><span class="line">CRASH: starting debug shell... (reason = 2)</span><br></pre></td></tr></table></figure><ul><li>[x] dpc_tests                        : Tests of DPCs</li></ul><ul><li>[ ] mmu                              : mmu tests</li></ul><p>å´©æºƒ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Test mmu [1 / 1]</span><br><span class="line">mmu : Running 3 tests...</span><br><span class="line">  create large unaligned region and ensure it can be unmapped                 : panic (caller 0xffffffff00008fd4 frame 0xffffff</span><br><span class="line">8103020e80): DEBUG ASSERT FAILED at (../kernel/arch/loongarch64/mmu.cc:952): base + size &lt;= 1UL &lt;&lt; MMU_USER_SIZE_SHIFT</span><br><span class="line">BUILDID git-557479fd0969d306fe6e2fa72c05cfd9983f56fa</span><br><span class="line"></span><br><span class="line">&#123;&#123;&#123;module:0:kernel:elf:6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00000000:0x103cec:load:0:rx:0xffffffff00000000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00104000:0x47000:load:0:r:0xffffffff00104000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014b000:0x1688:load:0:rw:0xffffffff0014b000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014d000:0x48000:load:0:rw:0xffffffff0014d000&#125;&#125;&#125;</span><br><span class="line">dso: id=6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11 base=0xffffffff00000000 name=zircon.elf</span><br><span class="line">bt#00: 0xffffffff0011e510</span><br><span class="line">bt#01: end</span><br><span class="line">&#123;&#123;&#123;bt:0:0xffffffff0011e510&#125;&#125;&#125;</span><br><span class="line">CRASH: starting debug shell... (reason = 2)</span><br></pre></td></tr></table></figure><ul><li>[ ] pi                               : Priority inheritance tests for OwnedWaitQueues</li></ul><p>å´©æºƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">pi : Running 7 tests...</span><br><span class="line">  basic                 : PASSED (175092970 nSec)</span><br><span class="line">  changing priority     : </span><br><span class="line">        [FAILED]</span><br><span class="line">        bool &#123;anonymous&#125;::TestThread::WaitForBlocked():541:</span><br><span class="line">        :</span><br><span class="line">        expected now (176418137300) to be less-than actual deadline (176418121800)</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool &#123;anonymous&#125;::TestThread::BlockOnOwnedQueue(OwnedWaitQueue*, &#123;anonymous&#125;::TestThread*, Deadline):441:</span><br><span class="line">        : WaitForBlocked() is false</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool &#123;anonymous&#125;::pi_test_changing_priority():670:</span><br><span class="line">        : pressure_thread.BlockOnOwnedQueue(&amp;owq, &amp;blocking_thread) is false</span><br><span class="line">Failed to join thread 0xffffff809040ba18 (res -21); attempting to kill</span><br><span class="line">panic (caller 0xffffffff0000f084 frame 0xffffff8103020e20): Failed to stop thread during PI tests!! (res = -21)</span><br><span class="line">BUILDID git-557479fd0969d306fe6e2fa72c05cfd9983f56fa</span><br><span class="line"></span><br><span class="line">&#123;&#123;&#123;module:0:kernel:elf:6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00000000:0x103cec:load:0:rx:0xffffffff00000000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00104000:0x47000:load:0:r:0xffffffff00104000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014b000:0x1688:load:0:rw:0xffffffff0014b000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014d000:0x48000:load:0:rw:0xffffffff0014d000&#125;&#125;&#125;</span><br><span class="line">dso: id=6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11 base=0xffffffff00000000 name=zircon.elf</span><br><span class="line">bt#00: 0xffffffff001205d8</span><br><span class="line">bt#01: end</span><br><span class="line">&#123;&#123;&#123;bt:0:0xffffffff001205d8&#125;&#125;&#125;</span><br><span class="line">CRASH: starting debug shell... (reason = 2)</span><br></pre></td></tr></table></figure><ul><li>[x] popcount                         : Unit tests for popcount</li><li>[x] pow2                             : pow2 lib tests</li><li>[x] preempt_disable_tests            : preempt_disable_tests</li><li>[x] printf_tests                     : printf_tests</li><li>[x] resource                         : Tests for Resource bookkeeping</li><li>[x] sync_ipi_tests                   : sync_ipi_tests</li><li>[x] timer                            : timer tests</li><li>[x] global_prng                      : Validate global PRNG singleton</li><li><p>[x] prng                             : Test pseudo-random number generator implementation.</p><p>arenatests                       : Arena allocator test</p></li></ul><p>ç›´æ¥å´©æºƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Test arenatests [1 / 1]</span><br><span class="line">arenatests : Running 11 tests...</span><br><span class="line">  init_null_name_succeeds  : PASSED (2550910 nSec)</span><br><span class="line">  init_zero_ob_size_fails  : PASSED (193580 nSec)</span><br><span class="line">  init_large_ob_size_fails : PASSED (259180 nSec)</span><br><span class="line">  init_zero_count_fails    : PASSED (205450 nSec)</span><br><span class="line">  start_and_end_look_good  : PASSED (1327330 nSec)</span><br><span class="line">  in_range_tests           : PASSED (3416100 nSec)</span><br><span class="line">  out_of_memory            : PASSED (4980920 nSec)</span><br><span class="line">  committing_tests         : PASSED (5959950 nSec)</span><br><span class="line">  uncommitting_tests       : panic (caller 0xffffffff0001db88 frame 0xffffff8103020de0): DEBUG ASSERT FAILED at (../system/ulib</span><br><span class="line">/fbl/include/fbl/intrusive_single_list.h:326): head_ != nullptr</span><br><span class="line">BUILDID git-557479fd0969d306fe6e2fa72c05cfd9983f56fa</span><br><span class="line"></span><br><span class="line">&#123;&#123;&#123;module:0:kernel:elf:6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00000000:0x103cec:load:0:rx:0xffffffff00000000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff00104000:0x47000:load:0:r:0xffffffff00104000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014b000:0x1688:load:0:rw:0xffffffff0014b000&#125;&#125;&#125;</span><br><span class="line">&#123;&#123;&#123;mmap:0xffffffff0014d000:0x48000:load:0:rw:0xffffffff0014d000&#125;&#125;&#125;</span><br><span class="line">dso: id=6ccad1d4f3f46acb7b98d121ca5bd4cbfdf68c11 base=0xffffffff00000000 name=zircon.elf</span><br><span class="line">bt#00: 0xffffffff0011e510</span><br><span class="line">bt#01: end</span><br><span class="line">&#123;&#123;&#123;bt:0:0xffffffff0011e510&#125;&#125;&#125;</span><br><span class="line">CRASH: starting debug shell... (reason = 2)</span><br></pre></td></tr></table></figure><ul><li>[x] inlinearraytests                 : Inline array test</li><li>[x] nametests                        : Name test</li><li>[x] entropy_collector                : Test entropy collector implementation.</li><li>[x] buffer_chain                     : BufferChain tests</li><li>[x] exception                        : Exception tests</li><li>[x] handle                           : Handle test</li><li><p>[x] interrupt_event_dispatcher_tests : InterruptEventDispatcher tests</p></li><li><p>[x] job_policy                       : JobPolicy tests</p></li><li><p>[x] mbuf                             : MBuf test</p></li><li><p>[x] message_packet                   : MessagePacket tests</p></li><li><p>[x] statetracker                     : StateTracker test</p></li></ul><p>hypervisor                       : Hypervisor unit tests.</p><p>?</p><p>mutex                            : Mutex tests</p><p>semaphore                        : Semaphore tests</p><p>thread                           : thread tests</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Test thread [1 / 1]</span><br><span class="line">thread : Running 3 tests...</span><br><span class="line">  yield_deboost_test      : yield_deboost_test:111: going to join 129 threads</span><br><span class="line">PASSED (819033540 nSec)</span><br><span class="line">  set_affinity_self_test  : </span><br><span class="line">        [FAILED]</span><br><span class="line">        bool &#123;anonymous&#125;::set_affinity_self_test():125:</span><br><span class="line">        Expected at least one CPU to be online.:</span><br><span class="line">        expected online_cpus (0), 0u to differ, but they are the same 0</span><br><span class="line">  set_affinity_self_test  : FAILED (2088690 nSec)</span><br><span class="line">  set_affinity_other_test : </span><br><span class="line">        [FAILED]</span><br><span class="line">        bool &#123;anonymous&#125;::set_affinity_other_test():186:</span><br><span class="line">        Expected at least one CPU to be online.:</span><br><span class="line">        expected online_cpus (0), 0u to differ, but they are the same 0</span><br><span class="line">  set_affinity_other_test : FAILED (3288510 nSec)</span><br><span class="line">thread : Not all tests passed (1/3) in 825769950 nSec</span><br></pre></td></tr></table></figure><p>system-topology                  : Test parsing and validation of the flat system topology.</p><p>vmpl                             : VmPageList tests</p><p>pmm                              : Physical memory manager tests</p><p>vm                               : Virtual memory tests</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">Test vm [1 / 1]</span><br><span class="line">vm : Running 28 tests...</span><br><span class="line">  vmm_alloc_smoke_test                           : PASSED (19099490 nSec)</span><br><span class="line">  vmm_alloc_contiguous_smoke_test                : value at 0xffffff8103026000 (4096) is incorrect: 0x43f7eb81 vs 0xfc646f81</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool fill_and_test(void*, size_t):158:</span><br><span class="line">        testing region for corruption: result is false</span><br><span class="line">testing that region is contiguous</span><br><span class="line">  vmm_alloc_contiguous_smoke_test                : FAILED (9790620 nSec)</span><br><span class="line">  multiple_regions_test                          : PASSED (8173140 nSec)</span><br><span class="line">  vmm_alloc_zero_size_fails                      : PASSED (151330 nSec)</span><br><span class="line">  vmm_alloc_bad_specific_pointer_fails           : PASSED (695890 nSec)</span><br><span class="line">  vmm_alloc_contiguous_missing_flag_commit_fails : PASSED (151130 nSec)</span><br><span class="line">  vmm_alloc_contiguous_zero_size_fails           : PASSED (124060 nSec)</span><br><span class="line">  vmaspace_create_smoke_test                     : PASSED (1888490 nSec)</span><br><span class="line">  vmaspace_alloc_smoke_test                      : PASSED (1990110 nSec)</span><br><span class="line">  vmo_create_test                                : PASSED (630400 nSec)</span><br><span class="line">  vmo_create_maximum_size                        : PASSED (389590 nSec)</span><br><span class="line">  vmo_pin_test                                   : PASSED (15651590 nSec)</span><br><span class="line">  vmo_multiple_pin_test                          : PASSED (1600370 nSec)</span><br><span class="line">  vmo_commit_test                                : PASSED (1679720 nSec)</span><br><span class="line">  vmo_odd_size_commit_test                       : PASSED (10922370 nSec)</span><br><span class="line">  vmo_create_physical_test                       : PASSED (1984170 nSec)</span><br><span class="line">  vmo_create_contiguous_test                     : PASSED (2048430 nSec)</span><br><span class="line">  vmo_contiguous_decommit_test                   : PASSED (968970 nSec)</span><br><span class="line">  vmo_precommitted_map_test                      : PASSED (12230530 nSec)</span><br><span class="line">  vmo_demand_paged_map_test                      : PASSED (965250 nSec)</span><br><span class="line">  vmo_dropped_ref_test                           : PASSED (1625300 nSec)</span><br><span class="line">  vmo_remap_test                                 : PASSED (2860110 nSec)</span><br><span class="line">  vmo_double_remap_test                          : value at 0xffffff8103032000 (0) is incorrect: 0x0 vs 0xfcfddf81</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool vmo_double_remap_test():753:</span><br><span class="line">        testing region for corruption: result is false</span><br><span class="line">  vmo_double_remap_test                          : FAILED (33406200 nSec)</span><br><span class="line">  vmo_read_write_smoke_test                      : PASSED (21969740 nSec)</span><br><span class="line">  vmo_cache_test                                 : PASSED (3299460 nSec)</span><br><span class="line">  vmo_lookup_test                                : PASSED (2573390 nSec)</span><br><span class="line">  vmo_lookup_clone_test                          : PASSED (2104320 nSec)</span><br><span class="line">  arch_noncontiguous_map                         : MapPageTable:531: page table entry already in use, index 0xa, 0x40000000906b</span><br><span class="line">d011</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool arch_noncontiguous_map():1091:</span><br><span class="line">        double map</span><br><span class="line">:</span><br><span class="line">        expected (-26) (-26), actual status (-1)</span><br><span class="line">MapPageTable:531: page table entry already in use, index 0xc, 0x40000000906be011</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool arch_noncontiguous_map():1096:</span><br><span class="line">        double map</span><br><span class="line">:</span><br><span class="line">        expected (-26) (-26), actual status (-1)</span><br><span class="line">MapPageTable:531: page table entry already in use, index 0xa, 0x40000000906bd011</span><br><span class="line"></span><br><span class="line">        [FAILED]</span><br><span class="line">        bool arch_noncontiguous_map():1099:</span><br><span class="line">        double map</span><br><span class="line">:</span><br><span class="line">        expected (-26) (-26), actual status (-1)</span><br><span class="line">  arch_noncontiguous_map                         : FAILED (23313750 nSec)</span><br><span class="line">vm : Not all tests passed (25/28) in 211070170 nSec</span><br><span class="line"></span><br><span class="line">SUMMARY: Ran 1 test case: 1 failed</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[ä¸Šä¸‹å…¶æ‰‹]å®¿èˆç½‘ç»œç¯å¢ƒå°æ”¹</title>
      <link href="/article/62228609/"/>
      <url>/article/62228609/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>â€œæˆ‘ä»¥ä¸ºä½ ä¸ç”¨mstscæ˜¯å› ä¸ºä½ å–œæ¬¢ç”¨å‘*è‘µâ€¦â€</p><p>ä¹ƒå­å“¥å’Œç™½ä½¬å®¿èˆé‡Œéƒ½è‡ªå·±é…äº†è½¯è·¯ç”±ï¼Œå‡ºäºå¥½å¥‡å†åŠ ä¸Šè‡ªä»å®¿èˆæ”¾äº†å—æ˜¾ç¤ºå±ä¹‹åå±å®æœŸæœ›æ‘†è„±æ‰æ²‰å“¼å“¼åœ°èƒŒç€æ¸¸æˆæœ¬å’Œç”µæºåˆ°å¤„ä¹±è·‘çš„æ—¥å­ï¼Œäºæ˜¯æŸé±¼ä¸‹å•äº†å°äºŒæ‰‹åƒå…†å°ç±³4Aï¼Œåˆ·æœºç©ç©ã€‚</p><h2 id="ipv6"><a href="#ipv6" class="headerlink" title="ipv6"></a>ipv6</h2><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429003700200.png" alt="image-20240429003700200"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429003928608.png" alt="image-20240429003928608"></p><h1 id="NAS"><a href="#NAS" class="headerlink" title="NAS"></a>NAS</h1><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429014122907.png" alt="image-20240429014122907"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429023301473.png" alt="image-20240429023301473"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429024132179.png" alt="image-20240429024132179"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429025139771.png" alt="image-20240429025139771"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429141345898.png" alt="image-20240429141345898"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429142032186.png" alt="image-20240429142032186"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240429141811338.png" alt="image-20240429141811338"></p><h1 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h1><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240430133523497.png" alt="image-20240430133523497"></p>]]></content>
      
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> æ‰“æ´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è®¡ç®—æœºç½‘ç»œ]å¯é ä¼ è¾“åè®®è¿­ä»£è®¾è®¡-æ¥è·ŸğŸ‘´æ¡ä¸ªæ‰‹</title>
      <link href="/article/7948552/"/>
      <url>/article/7948552/</url>
      
        <content type="html"><![CDATA[<h1 id="bbä¸¤å¥">bbä¸¤å¥</h1><p>è¿™ä¸ªå®éªŒæ˜¯æˆ‘æµ·å¸¦æ´ªè€å¸ˆä¸ºè®¡ç½‘è¯¾ç¨‹è®¾è®¡çš„å¤§å®éªŒï¼Œè¿˜æ˜¯æ¯”è¾ƒå…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚å½“æ—¶è®¾ç½®çš„èµ‹åˆ†è¦æ±‚å¤§è‡´ä¸ºï¼š</p><table><thead><tr class="header"><th>æ ‡å‡†</th><th>å¾—åˆ†</th></tr></thead><tbody><tr class="odd"><td>RDT 2.0</td><td>3</td></tr><tr class="even"><td>RDT 2.2</td><td>6</td></tr><tr class="odd"><td>RDT 3.0</td><td>8</td></tr><tr class="even"><td>GB/SR/TCP</td><td>13</td></tr><tr class="odd"><td>TCP Tahoe</td><td>15</td></tr><tr class="even"><td>TCP Reno</td><td>16</td></tr><tr class="odd"><td>æœªå®Œæˆå…³é”®å›°éš¾</td><td>2</td></tr><tr class="even"><td>è¿­ä»£å¼€å‘</td><td>1</td></tr><tr class="odd"><td>å·²è§£å†³ä¸»è¦é—®é¢˜</td><td>1</td></tr><tr class="even"><td>å®éªŒç³»ç»Ÿå»ºè®®</td><td>1</td></tr><tr class="odd"><td>åˆè®¡</td><td>20</td></tr></tbody></table><p>äº‹å®ä¸Šï¼Œæ‹¿åˆ°æ‰‹çš„å®éªŒç¯å¢ƒjreåŒ…ä¸­ï¼Œå·²ç»å®Œæˆåˆ°äº†RDT2.1ç‰ˆæœ¬ï¼ˆä½†ä»éœ€è¦æ‰‹åŠ¨è¡¥å……æ ¡éªŒå’Œçš„è®¡ç®—ç±»ï¼‰ï¼Œå› æ­¤å¤´3åˆ†æ˜¯ç™½é€æ»´ã€‚</p><p>æˆ‘åœ¨è¿™ä¸ªå®éªŒä¸­æ‹¿äº†æ»¡åˆ†ï¼Œä¹Ÿå°±æ˜¯æˆ‘å®ç°äº†TCPRenoç‰ˆæœ¬ï¼Œå¹¶ä¸å®¹æ˜“ã€‚æˆ‘ç²—ç•¥ä¼°è®¡äº†ä¸€ä¸‹ï¼Œå®Œæˆåˆ°RDT4.0ä¹‹å‰çš„éƒ¨åˆ†ï¼Œæˆ‘å¤§çº¦èŠ±è´¹äº†10hå·¦å³ï¼Œç”±äºè¿™éƒ¨åˆ†è¿˜æœªæ¶‰åŠåˆ°æ»‘åŠ¨çª—å£çš„å¼•å…¥ï¼Œå› æ­¤è¿­ä»£çš„è¿‡ç¨‹ç›¸å¯¹å®¹æ˜“ï¼›ä½†åˆ°äº†å¼•å…¥æ»‘åŠ¨çª—å£çš„ç‰ˆæœ¬æ—¶ï¼ŒèŠ±è´¹æˆ‘å¤§çº¦åˆæ˜¯15hå·¦å³æ‰ç®—æœ€ç»ˆå®Œæˆæ•´ä¸ªå®éªŒï¼Œè¿™æ˜¯å› ä¸ºæˆ‘é€‰æ‹©çš„SRåˆ°Tahoeçš„è¿­ä»£è¿‡ç¨‹å‡ ä¹æ˜¯æ¨ç¿»äº†å‰é¢å‡ ä¸ªç‰ˆæœ¬ï¼Œé‡æ–°æ­å»ºç±»çš„æ¡†æ¶ã€‚</p><p>ç…§çŒ«ç”»è™æ¥å€’ä¹Ÿè½»æ¾ï¼Œéš¾åœ¨å¤ä¹ å‘¨çš„æ—¶é—´åŒ€å…‘ï¼Œåˆ†å¥´å˜›ï¼Œç”Ÿæ¥æ˜¯ç‰›é©¬ï¼Œç”¨è‚å­æ¢åˆ†å­ï¼Œä¸äºã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/5d8b93e923d7556ab40a2d8cb1cad5b.jpg" style="zoom:50%;"></p><h1 id="å®éªŒç¯å¢ƒ">å®éªŒç¯å¢ƒ</h1><ul><li><strong>OS</strong>: Windows 11</li><li><strong>Jdk</strong>: jdk-6u45-windows-i586</li><li><strong>Jre</strong>: jre-6</li><li><strong>IDE</strong>: Eclipse 4.29.0</li><li><strong>TCP-TestSys</strong>:TCP_TestSys_Linux.jar(å¹¶æ²¡æœ‰æä¾›windowsç‰ˆæœ¬ï¼Œä½†è¯¥ç‰ˆæœ¬åœ¨windowsä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œ)</li></ul><h1 id="ä»å¯é ä¿¡é“åˆ°ä¸å¯é ä¿¡é“çš„è¿­ä»£å¼€å‘è¿‡ç¨‹">ä»å¯é ä¿¡é“åˆ°ä¸å¯é ä¿¡é“çš„è¿­ä»£å¼€å‘è¿‡ç¨‹</h1><h2 id="rdt-2.02.1-ä¿¡é“ä¸Šå¯èƒ½å‡ºç°ä½é”™ç®¡ç†å‡ºé”™çš„acknak">RDT 2.0+2.1:ä¿¡é“ä¸Šå¯èƒ½å‡ºç°ä½é”™ã€ç®¡ç†å‡ºé”™çš„ACK/NAK</h2><h3 id="è®¾è®¡æ–¹æ¡ˆ">è®¾è®¡æ–¹æ¡ˆ</h3><ul><li><p>é”™è¯¯æ£€æµ‹ï¼šæ ¡éªŒå’Œæ£€æŸ¥</p></li><li><p>ä»é”™è¯¯ä¸­æ¢å¤ï¼šACKsã€NAKsï¼›è‹¥NAKåˆ™é‡ä¼ </p></li><li><p>ACK/NAKå‡ºé”™â€”â€”ç®¡ç†é‡å¤ï¼šsequence number</p></li></ul><h3 id="æ ¡éªŒå’Œæ£€æŸ¥å‡½æ•°checksum.java">æ ¡éªŒå’Œæ£€æŸ¥å‡½æ•°CheckSum.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CheckSum</span> &#123;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*è®¡ç®—TCPæŠ¥æ–‡æ®µæ ¡éªŒå’Œï¼šåªéœ€æ ¡éªŒTCPé¦–éƒ¨ä¸­çš„seqã€ackå’Œsumï¼Œä»¥åŠTCPæ•°æ®å­—æ®µ*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">short</span> <span class="title function_">computeChkSum</span><span class="params">(TCP_PACKET tcpPack)</span> &#123;</span><br><span class="line"><span class="type">long</span> <span class="variable">checkSum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">CRC32</span> <span class="variable">crc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CRC32</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ä»é¦–éƒ¨è·å–seqã€ackå’Œsum*/</span></span><br><span class="line"><span class="type">TCP_HEADER</span> <span class="variable">header</span> <span class="operator">=</span> tcpPack.getTcpH();</span><br><span class="line">crc.update(header.getTh_seq());</span><br><span class="line">crc.update(header.getTh_ack());</span><br><span class="line"><span class="comment">//crc.update(header.getTh_sum()); //åŠ ä¸Šsumåè€Œä¼šå¯¼è‡´é”™è¯¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*ä»æ•°æ®éƒ¨è·å–æ•°æ®*/</span></span><br><span class="line"><span class="type">TCP_SEGMENT</span> <span class="variable">segment</span> <span class="operator">=</span> tcpPack.getTcpS();</span><br><span class="line"><span class="type">int</span>[] data = segment.getData();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; data.length; i++) &#123;</span><br><span class="line">crc.update(data[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*è®¡ç®—æ ¡éªŒå’Œ*/</span></span><br><span class="line">checkSum = crc.getValue();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (<span class="type">short</span>) checkSum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="sender">Sender</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192544126.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">//å¯é å‘é€ï¼ˆåº”ç”¨å±‚è°ƒç”¨ï¼‰ï¼šå°è£…åº”ç”¨å±‚æ•°æ®ï¼Œäº§ç”ŸTCPæ•°æ®æŠ¥ï¼›éœ€è¦ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_send</span><span class="params">(<span class="type">int</span> dataIndex, <span class="type">int</span>[] appData)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”ŸæˆTCPæ•°æ®æŠ¥ï¼ˆè®¾ç½®åºå·å’Œæ•°æ®å­—æ®µ/æ ¡éªŒå’Œ),æ³¨æ„æ‰“åŒ…çš„é¡ºåº</span></span><br><span class="line">    tcpH.setTh_seq(dataIndex * appData.length + <span class="number">1</span>);<span class="comment">//åŒ…åºå·è®¾ç½®ä¸ºå­—èŠ‚æµå·ï¼š</span></span><br><span class="line">    tcpS.setData(appData);</span><br><span class="line">    tcpPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, destinAddr);       </span><br><span class="line">    <span class="comment">//æ›´æ–°å¸¦æœ‰checksumçš„TCP æŠ¥æ–‡å¤´      </span></span><br><span class="line">    tcpH.setTh_sum(CheckSum.computeChkSum(tcpPack));</span><br><span class="line">    tcpPack.setTcpH(tcpH);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘é€TCPæ•°æ®æŠ¥</span></span><br><span class="line">    udt_send(tcpPack);</span><br><span class="line">    flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç­‰å¾…ACKæŠ¥æ–‡</span></span><br><span class="line">    <span class="comment">//waitACK();</span></span><br><span class="line">    <span class="keyword">while</span> (flag==<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">//éœ€è¦ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">waitACK</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//å¾ªç¯æ£€æŸ¥ackQueue</span></span><br><span class="line">    <span class="comment">//å¾ªç¯æ£€æŸ¥ç¡®è®¤å·å¯¹åˆ—ä¸­æ˜¯å¦æœ‰æ–°æ”¶åˆ°çš„ACK       </span></span><br><span class="line">    <span class="keyword">if</span>(!ackQueue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> currentAck=ackQueue.poll();</span><br><span class="line">        <span class="comment">// System.out.println(&quot;CurrentAck: &quot;+currentAck);</span></span><br><span class="line">        <span class="keyword">if</span> (currentAck == tcpPack.getTcpH().getTh_seq())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Clear: &quot;</span>+tcpPack.getTcpH().getTh_seq());</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//break;</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; <span class="comment">//RDT2.1ä¸­æœ‰NAK(-1)ï¼Œæ”¶åˆ°-1(!=currentAck)åˆ™é‡å‘</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Retransmit: &quot;</span>+tcpPack.getTcpH().getTh_seq());</span><br><span class="line">            udt_send(tcpPack);</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">//æ¥æ”¶åˆ°ACKæŠ¥æ–‡ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œå°†ç¡®è®¤å·æ’å…¥acké˜Ÿåˆ—;NACKçš„ç¡®è®¤å·ä¸ºï¼1ï¼›ä¸éœ€è¦ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Receive ACK Numberï¼š &quot;</span>+ recvPack.getTcpH().getTh_ack());</span><br><span class="line">    ackQueue.add(recvPack.getTcpH().getTh_ack());</span><br><span class="line">    System.out.println();   </span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç†ACKæŠ¥æ–‡</span></span><br><span class="line">    waitACK();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="receiver">Receiver</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192554080.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">//æ¥æ”¶åˆ°æ•°æ®æŠ¥ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œè®¾ç½®å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">    <span class="comment">//æ£€æŸ¥æ ¡éªŒç ï¼Œç”ŸæˆACK</span></span><br><span class="line">    <span class="keyword">if</span>(CheckSum.computeChkSum(recvPack) == recvPack.getTcpH().getTh_sum()) &#123;</span><br><span class="line">        <span class="comment">//ç”ŸæˆACKæŠ¥æ–‡æ®µï¼ˆè®¾ç½®ç¡®è®¤å·ï¼‰</span></span><br><span class="line">        tcpH.setTh_ack(recvPack.getTcpH().getTh_seq());</span><br><span class="line">        ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">        tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">        <span class="comment">//å›å¤ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">        reply(ackPack);             </span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†æ¥æ”¶åˆ°çš„æ­£ç¡®æœ‰åºçš„æ•°æ®æ’å…¥dataé˜Ÿåˆ—ï¼Œå‡†å¤‡äº¤ä»˜</span></span><br><span class="line">        dataQueue.add(recvPack.getTcpS().getData());                    </span><br><span class="line">        sequence++;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Recieve Computed: &quot;</span>+CheckSum.computeChkSum(recvPack));</span><br><span class="line">        System.out.println(<span class="string">&quot;Recieved Packet&quot;</span>+recvPack.getTcpH().getTh_sum());</span><br><span class="line">        System.out.println(<span class="string">&quot;Problem: Packet Number: &quot;</span>+recvPack.getTcpH().getTh_seq()+<span class="string">&quot; + InnerSeq: &quot;</span>+sequence);</span><br><span class="line">        tcpH.setTh_ack(-<span class="number">1</span>); <span class="comment">//RDT2.1æ—¶ä»éœ€è¦åŒºåˆ†ACKå’ŒNAK</span></span><br><span class="line">        ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">        tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">        <span class="comment">//å›å¤ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">        reply(ackPack);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//äº¤ä»˜æ•°æ®ï¼ˆæ¯20ç»„æ•°æ®äº¤ä»˜ä¸€æ¬¡ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span>(dataQueue.size() == <span class="number">20</span>) </span><br><span class="line">    deliver_data();   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•log">æµ‹è¯•Log</h3><ul><li>Sender_eFlag = Receiver_eFlag = 0: å‡è®¾ä¿¡é“æ— å·®é”™</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192604332.png"></p><ul><li>Sender_eFlag = 1 &amp;&amp; Receiver_eFlag = 0:å‡è®¾ä¸ªåˆ«æ•°æ®åŒ…æŸäº›å­—èŠ‚å¯èƒ½ä½é”™ï¼Œä½†ACK/NAKä¸å‡ºé”™ï¼š</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192622005.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192634747.png"></p><ul><li>Sender_eFlag = 0 &amp;&amp; Receiver_eFlag = 1:å‡è®¾ACK/NAKå‡ºé”™ï¼š</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192642151.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192649921.png"></p><h2 id="rdt2.2-æ— nakçš„åè®®">RDT2.2: æ— NAKçš„åè®®</h2><h3 id="è®¾è®¡æ–¹æ¡ˆ-1">è®¾è®¡æ–¹æ¡ˆ</h3><ul><li><p>æ¥æ”¶æ–¹è‹¥æ”¶åˆ°é”™è¯¯åŒ…åˆ™é‡å‘ä¸Šä¸€æ­£ç¡®åŒ…seqå¯¹åº”çš„ACK</p></li><li><p>å‘é€æ–¹æ”¶åˆ°é‡å¤seqçš„ACKåˆ™é‡å‘å½“å‰åŒ…</p></li></ul><p><img src="/article/7948552/Users\Mo01iHt\AppData\Roaming\Typora\typora-user-images\image-20240219192658119.png"></p><h3 id="senderæ— æ”¹åŠ¨">Senderï¼ˆæ— æ”¹åŠ¨ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">waitACK</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//å¾ªç¯æ£€æŸ¥ackQueue</span></span><br><span class="line">    <span class="comment">//å¾ªç¯æ£€æŸ¥ç¡®è®¤å·å¯¹åˆ—ä¸­æ˜¯å¦æœ‰æ–°æ”¶åˆ°çš„ACK       </span></span><br><span class="line">    <span class="keyword">if</span>(!ackQueue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> currentAck=ackQueue.poll();</span><br><span class="line">        <span class="comment">// System.out.println(&quot;CurrentAck: &quot;+currentAck);</span></span><br><span class="line">        <span class="keyword">if</span> (currentAck == tcpPack.getTcpH().getTh_seq())&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Clear: &quot;</span>+tcpPack.getTcpH().getTh_seq());</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;  <span class="comment">//RDT2.2ä¸­æ²¡æœ‰NAKï¼Œè‹¥æœªæ”¶åˆ°currentAckè€Œæ˜¯é‡å¤æ”¶åˆ°ç›¸åŒseqçš„ACKï¼Œåˆ™é‡å‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Retransmit: &quot;</span>+tcpPack.getTcpH().getTh_seq());</span><br><span class="line">        udt_send(tcpPack);</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="receiverå¢åŠ ç±»æˆå‘˜ä¿®æ”¹rdt_recv">Receiverï¼ˆå¢åŠ ç±»æˆå‘˜ã€ä¿®æ”¹rdt_recvï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCP_Receiver</span> <span class="keyword">extends</span> <span class="title class_">TCP_Receiver_ADT</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET ackPack;   <span class="comment">//å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="type">int</span> sequence=<span class="number">1</span>;<span class="comment">//ç”¨äºè®°å½•å½“å‰å¾…æ¥æ”¶çš„åŒ…åºå·ï¼Œæ³¨æ„åŒ…åºå·ä¸å®Œå…¨æ˜¯</span></span><br><span class="line">    <span class="type">int</span> pre_seq=-<span class="number">1</span>;   <span class="comment">//ç”¨äºè®°å½•ä¸Šä¸€ä¸ªæ¥æ”¶æˆåŠŸçš„åŒ…åºå·</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ„é€ å‡½æ•°*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TCP_Receiver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(); <span class="comment">//è°ƒç”¨è¶…ç±»æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">super</span>.initTCP_Receiver(<span class="built_in">this</span>);  <span class="comment">//åˆå§‹åŒ–TCPæ¥æ”¶ç«¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//æ¥æ”¶åˆ°æ•°æ®æŠ¥ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œè®¾ç½®å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">        <span class="comment">//ç”±äºsenderå‘é€çš„seqæ˜¯å­—èŠ‚æµåºå·ï¼Œå› æ­¤éœ€è¦æ±‚å‡ºdataé•¿åº¦</span></span><br><span class="line">        <span class="type">int</span>[] data = recvPack.getTcpS().getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="comment">//æ£€æŸ¥æ ¡éªŒç ï¼Œç”ŸæˆACK</span></span><br><span class="line">        <span class="keyword">if</span>(CheckSum.computeChkSum(recvPack) == recvPack.getTcpH().getTh_sum()) &#123;</span><br><span class="line">            <span class="comment">//ç”ŸæˆACKæŠ¥æ–‡æ®µï¼ˆè®¾ç½®ç¡®è®¤å·ï¼‰</span></span><br><span class="line">            tcpH.setTh_ack(recvPack.getTcpH().getTh_seq());</span><br><span class="line">            ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">            tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">            <span class="comment">//å›å¤ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">            reply(ackPack);             </span><br><span class="line"></span><br><span class="line">            <span class="comment">//é€†å‘è®¡ç®—seqï¼šdataIndex * appData.length + 1</span></span><br><span class="line">            sequence = (recvPack.getTcpH().getTh_seq() - <span class="number">1</span> ) / datalen;</span><br><span class="line">            <span class="keyword">if</span>(sequence != <span class="built_in">this</span>.pre_seq) &#123; <span class="comment">//é‡å¤åŒ…ä¸¢å¼ƒï¼Œä¸äº¤ä»˜</span></span><br><span class="line">                <span class="built_in">this</span>.pre_seq = sequence;    <span class="comment">//æ›´æ–°pre_seq</span></span><br><span class="line">                <span class="comment">//å°†æ¥æ”¶åˆ°çš„æ­£ç¡®æœ‰åºçš„æ•°æ®æ’å…¥dataé˜Ÿåˆ—ï¼Œå‡†å¤‡äº¤ä»˜</span></span><br><span class="line">                dataQueue.add(data);           </span><br><span class="line">                sequence++;</span><br><span class="line">    &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">//RDT2.2:å¯¹äºæ”¶åˆ°é”™è¯¯åŒ…ï¼Œé‡æ–°å‘é€ä¸Šä¸€æ¥æ”¶æˆåŠŸçš„åŒ…å¯¹åº”çš„ACK</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Recieve Computed: &quot;</span>+CheckSum.computeChkSum(recvPack));</span><br><span class="line">            System.out.println(<span class="string">&quot;Recieved Packet&quot;</span>+recvPack.getTcpH().getTh_sum());</span><br><span class="line">            System.out.println(<span class="string">&quot;Problem: Packet Number: &quot;</span>+recvPack.getTcpH().getTh_seq()+<span class="string">&quot; + InnerSeq: &quot;</span>+sequence);</span><br><span class="line">            <span class="comment">// tcpH.setTh_ack(-1);     //RDT2.2ä¸éœ€ç‰¹åˆ«æ ‡è¯†å‡ºNAK</span></span><br><span class="line">            tcpH.setTh_ack(pre_seq * datalen + <span class="number">1</span>);   <span class="comment">//é‡å‘ä¸Šä¸€æ¥æ”¶æˆåŠŸçš„åŒ…å¯¹åº”çš„ACK</span></span><br><span class="line">            ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">            tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">            <span class="comment">//å›å¤ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">            reply(ackPack);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//äº¤ä»˜æ•°æ®ï¼ˆæ¯20ç»„æ•°æ®äº¤ä»˜ä¸€æ¬¡ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span>(dataQueue.size() == <span class="number">20</span>) </span><br><span class="line">        deliver_data();   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deliver_data</span><span class="params">()</span> &#123;â€¦</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reply</span><span class="params">(TCP_PACKET replyPack)</span> &#123;â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜ï¼š</p><ul><li><p>éœ€è¦è®°å½•ä¸Šä¸€æˆåŠŸæ¥æ”¶çš„åŒ…çš„åºå·ï¼Œå› æ­¤åœ¨ç±»ä¸­æ·»åŠ æˆå‘˜pre_seqåˆå§‹åŒ–-1</p></li><li><p>å¯¹äºé‡å¤æ•°æ®åŒ…ä¸¢å¼ƒï¼Œéœ€è¦åˆ¤æ–­rdt_rcvæ”¶åˆ°çš„åŒ…åºå·æ˜¯å¦é‡å¤ï¼Œå› æ­¤åº”å½“è®¡ç®—å‡ºå½“å‰sequence= (recvPack.getTcpH().getTh_seq() - 1 ) /datalen;ï¼ˆç”±äºsenderå‘é€çš„æ•°æ®åŒ…åºå·æ˜¯å­—èŠ‚æµä¿¡å·ï¼Œæ‰€ä»¥æ¥æ”¶æ–¹è®¡ç®—seqæ—¶éœ€è¦-1å†é™¤ä»¥æ•°æ®é•¿åº¦ï¼‰ï¼Œå¹¶å°†æ¥æ”¶æ­£ç¡®çš„åŒ…çš„åºå·æ›´æ–°åœ¨pre_seqä¸­ã€äº¤ä»˜ä¸Šå±‚ã€‚</p></li><li><p>å¯¹äºæ ¡éªŒå¤±è´¥çš„é”™è¯¯åŒ…ï¼Œé‡æ–°å‘é€ä¸Šæ¥å—æ­£ç¡®çš„åŒ…seqçš„ACKã€‚</p></li></ul></blockquote><h3 id="æµ‹è¯•logsender_eflag-receiver_eflag-1">æµ‹è¯•Log(Sender_eFlag =Receiver_eFlag = 1):</h3><ul><li>Receiverä»¥é‡å¤ACK(37801ã€39001)ä»£æ›¿NAK:</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192718721.png"></p><ul><li>SenderæˆåŠŸè¯†åˆ«å‡ºé‡å¤ACK(37801ã€39001)å¹¶é‡å‘37901ã€39101ï¼š</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192726713.png"></p><h2 id="rdt3.0-é€šé“ä¸Šå¯èƒ½å‡ºé”™å’Œä¸¢å¤±æ•°æ®">RDT3.0:é€šé“ä¸Šå¯èƒ½å‡ºé”™å’Œä¸¢å¤±æ•°æ®</h2><h3 id="è®¾è®¡æ–¹æ¡ˆ-2">è®¾è®¡æ–¹æ¡ˆï¼š</h3><ul><li><p>ä¸¢åŒ…ï¼šå‘é€æ–¹ä½¿ç”¨è®¡æ—¶å™¨ç­‰å¾…ACKï¼Œè‹¥å€’è®¡æ—¶é—´å†…æœªæ”¶åˆ°ACKåˆ™é‡å‘</p></li><li><p>å»¶è¿Ÿï¼šæ¥æ”¶æ–¹å¯¹é‡å¤seqæ•°æ®åŒ…ä¸¢å¼ƒ</p></li></ul><h3 id="senderå¢æ·»timeræˆå‘˜retransæˆå‘˜ä¿®æ”¹rdt_sendwaitack">Senderï¼ˆå¢æ·»Timeræˆå‘˜ã€reTransæˆå‘˜ï¼Œä¿®æ”¹rdt_sendã€waitACK()ï¼‰</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192734268.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCP_Sender</span> <span class="keyword">extends</span> <span class="title class_">TCP_Sender_ADT</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET tcpPack;   <span class="comment">//å¾…å‘é€çš„TCPæ•°æ®æŠ¥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> UDT_Timer timer;    <span class="comment">//è®¡æ—¶å™¨</span></span><br><span class="line">    <span class="keyword">private</span> UDT_RetransTask reTrans; <span class="comment">//é‡ä¼ ä»»åŠ¡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TCP_Sender</span><span class="params">()</span> &#123;â€¦</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//å¯é å‘é€ï¼ˆåº”ç”¨å±‚è°ƒç”¨ï¼‰ï¼šå°è£…åº”ç”¨å±‚æ•°æ®ï¼Œäº§ç”ŸTCPæ•°æ®æŠ¥ï¼›éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_send</span><span class="params">(<span class="type">int</span> dataIndex, <span class="type">int</span>[] appData)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç”ŸæˆTCPæ•°æ®æŠ¥ï¼ˆè®¾ç½®åºå·å’Œæ•°æ®å­—æ®µ/æ ¡éªŒå’Œ),æ³¨æ„æ‰“åŒ…çš„é¡ºåº</span></span><br><span class="line">        tcpH.setTh_seq(dataIndex * appData.length + <span class="number">1</span>);<span class="comment">//åŒ…åºå·è®¾ç½®ä¸ºå­—èŠ‚æµå·ï¼š</span></span><br><span class="line">        tcpS.setData(appData);</span><br><span class="line">        tcpPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, destinAddr);       </span><br><span class="line">        <span class="comment">//æ›´æ–°å¸¦æœ‰checksumçš„TCP æŠ¥æ–‡å¤´      </span></span><br><span class="line">        tcpH.setTh_sum(CheckSum.computeChkSum(tcpPack));</span><br><span class="line">        tcpPack.setTcpH(tcpH);</span><br><span class="line"></span><br><span class="line">        timer = <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>();    <span class="comment">//RDT3.0ï¼šå®ä¾‹åŒ–è®¡æ—¶å™¨ï¼Œå‘é€åå¯åŠ¨</span></span><br><span class="line">        reTrans = <span class="keyword">new</span> <span class="title class_">UDT_RetransTask</span>(client, tcpPack);   <span class="comment">//å®ä¾‹åŒ–é‡ä¼ ä»»åŠ¡ï¼Œtimeoutåˆ™é‡ä¼ </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//RDT3.0: æ¯éš”3ç§’æ‰§è¡Œé‡ä¼ ï¼Œç›´åˆ°æ”¶åˆ°ACK</span></span><br><span class="line">        timer.schedule(reTrans, <span class="number">3000</span>, <span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘é€TCPæ•°æ®æŠ¥</span></span><br><span class="line">        udt_send(tcpPack);</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç­‰å¾…ACKæŠ¥æ–‡</span></span><br><span class="line">        <span class="comment">//waitACK();</span></span><br><span class="line">        <span class="keyword">while</span> (flag==<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">udt_send</span><span class="params">(TCP_PACKET stcpPack)</span> &#123;â€¦</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">waitACK</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å¾ªç¯æ£€æŸ¥ackQueue</span></span><br><span class="line">        <span class="comment">//å¾ªç¯æ£€æŸ¥ç¡®è®¤å·å¯¹åˆ—ä¸­æ˜¯å¦æœ‰æ–°æ”¶åˆ°çš„ACK       </span></span><br><span class="line">        <span class="keyword">if</span>(!ackQueue.isEmpty())&#123;</span><br><span class="line">            <span class="type">int</span> currentAck=ackQueue.poll();</span><br><span class="line">            <span class="comment">// System.out.println(&quot;CurrentAck: &quot;+currentAck);</span></span><br><span class="line">            <span class="keyword">if</span> (currentAck == tcpPack.getTcpH().getTh_seq())&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Clear: &quot;</span>+tcpPack.getTcpH().getTh_seq());</span><br><span class="line">                timer.cancel();   <span class="comment">//RDT3.0: æ”¶åˆ°å¯¹åº”ACKåˆ™åœæ­¢è®¡æ—¶</span></span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">//break;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//             else&#123;   //RDT3.0: è¶…æ—¶é‡ä¼ ï¼Œå› æ­¤å¯¹äºæ”¶åˆ°çš„é”™è¯¯ACKä¸éœ€å›åº”</span></span><br><span class="line">    <span class="comment">//                  System.out.println(&quot;Retransmit: &quot;+tcpPack.getTcpH().getTh_seq());</span></span><br><span class="line">    <span class="comment">//                  udt_send(tcpPack);</span></span><br><span class="line">    <span class="comment">//                  flag = 0;</span></span><br><span class="line">    <span class="comment">//             &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;â€¦</span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜ï¼š</p><ul><li><p>ä¸ºSenderç±»è®¾ç½®UDT_Timerè®¡æ—¶å™¨æˆå‘˜ã€UDT_RetransTaské‡ä¼ ä»»åŠ¡æˆå‘˜</p></li><li><p>åœ¨senderè¿›è¡Œrdt_sendæ—¶åˆå§‹åŒ–è®¡æ—¶å™¨å’Œé‡ä¼ ä»»åŠ¡ï¼Œè®¾ç½®é‡ä¼ æ—¶é—´ä¸º3sï¼ˆå®é™…è¿è¡Œæ—¶å‘ç°æ—¶é—´æœ‰ç‚¹é•¿äº†ï¼‰ï¼Œåœ¨timeoutæ—¶æ‰§è¡Œé‡ä¼ ä»»åŠ¡</p></li><li><p>åœ¨weitACKæ—¶ï¼Œè‹¥æ”¶åˆ°æ­£ç¡®çš„ACKåˆ™æš‚åœtimerï¼Œå¦åˆ™ä¸åšæ“ä½œï¼ˆç­‰å¾…timeouté‡ä¼ ï¼‰</p></li></ul></blockquote><h3 id="receiverå¯¹å»¶è¿Ÿå¯¼è‡´çš„ä¹±åºè¿›è¡Œå¤„ç†">Receiverï¼ˆå¯¹å»¶è¿Ÿå¯¼è‡´çš„ä¹±åºè¿›è¡Œå¤„ç†ï¼‰</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192745508.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(sequence &gt; <span class="built_in">this</span>.pre_seq) &#123;     <span class="comment">//RDT3.0: å¯¹äºå»¶è¿Ÿé€è¾¾çš„æ•°æ®åŒ…ä¸¢å¼ƒ</span></span><br><span class="line">    <span class="built_in">this</span>.pre_seq = sequence;    <span class="comment">//æ›´æ–°pre_seq</span></span><br><span class="line">    <span class="comment">//å°†æ¥æ”¶åˆ°çš„æ­£ç¡®æœ‰åºçš„æ•°æ®æ’å…¥dataé˜Ÿåˆ—ï¼Œå‡†å¤‡äº¤ä»˜</span></span><br><span class="line">    dataQueue.add(data);           </span><br><span class="line">    sequence++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•log-1">æµ‹è¯•Log</h3><ul><li><p>Sender_eFlag = Receiver_eFlag = 2 ï¼ˆä¸¢åŒ…ï¼‰</p><p>å‘é€æ–¹åœ¨è®¡æ—¶å™¨æ—¶é—´å†…ç­‰å¾…ACKï¼Œè¶…æ—¶å¯¹åº”çš„å¯èƒ½æƒ…å†µï¼šæ•°æ®åŒ…ä¸¢å¤±ã€æ¥æ”¶æ–¹æ ¹æœ¬æ²¡æ”¶åˆ°äºæ˜¯æ²¡æœ‰ACKã€æ•°æ®åŒ…æ²¡ä¸¢å¤±å¹¶ä¸”æ¥æ”¶æ–¹æ”¶åˆ°åå‘é€äº†ACKä½†æ˜¯è¯¥ACKä¸¢å¤±ã€‚å‘é€æ–¹å¹¶ä¸å…³å¿ƒæ˜¯ä»€ä¹ˆæƒ…å†µï¼Œåªè¦ç­‰å¾…çš„ACKè¶…æ—¶æœªæ”¶åˆ°åˆ™é‡å‘ã€‚</p><p>ä½†æ˜¯åœ¨æ¥æ”¶æ–¹è§†è§’ï¼Œå¦‚æœACKä¸¢å¤±ï¼Œå°±ä¼šæ”¶åˆ°å‘é€æ–¹é‡å¤çš„æ•°æ®æŠ¥ï¼Œäºæ˜¯ä¸¢å¼ƒè¯¥åŒ…åé‡å‘ACKã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192755547.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192801472.png"></p></li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192811055.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192820440.png"></p><ul><li><p>Sender_eFlag = Receiver_eFlag = 3 ï¼ˆå»¶è¿Ÿï¼‰</p><p>å¯¹äºå‘é€æ–¹ï¼Œä¾æ—§æ˜¯å¹¶ä¸å…³å¿ƒACKä¸ºä»€ä¹ˆæ²¡æ”¶åˆ°ï¼Œåªè¦timeoutï¼Œå°±é‡å‘ï¼Œè‹¥æ”¶åˆ°é”™è¯¯çš„ACKï¼ˆä¾‹å¦‚æ¥æ”¶æ–¹ACKå»¶è¿Ÿé€è¾¾ã€æ¥æ”¶æ–¹å¯¹å‘é€æ–¹å»¶è¿ŸåŒ…çš„ACKï¼‰éƒ½ä¸åšä»»ä½•æ“ä½œã€‚</p><p>è€Œå¯¹äºæ¥æ”¶æ–¹ï¼Œè‹¥å‘é€æ–¹çš„æ•°æ®åŒ…å»¶è¿Ÿï¼šå¯¹é‡å‘çš„æ•°æ®åŒ…å’Œå»¶è¿Ÿåˆ°è¾¾çš„æ•°æ®åŒ…éƒ½è¿›è¡Œæ­£å¸¸å›åº”ï¼Œä½†æ˜¯å¯¹å»¶è¿Ÿåˆ°è¾¾çš„ä¹±åºæ•°æ®åŒ…ä¸¢å¼ƒï¼›è‹¥æ¥æ”¶æ–¹ACKå»¶è¿Ÿï¼ŒåŒæ ·ä¸¢å¼ƒå‘é€æ–¹é‡å‘çš„æ•°æ®åŒ…ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192501749.png"></p></li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192508173.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192516110.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192525678.png"></p><p>â€‹è‡³æ­¤ï¼ŒRDTå·²ç»å¯ä»¥è§£å†³ä¸å¯é ä¿¡é“ä¸Šå¯èƒ½å‡ºç°çš„å‡ºé”™ã€ä¸¢åŒ…ã€å»¶è¿Ÿçš„æ‰€æœ‰é—®é¢˜ï¼Œå°½ç®¡ä½¿ç”¨çš„åœæ­¢ç­‰å¾…ä½¿å¾—æ•ˆç‡è¾ƒä½ã€‚</p><h1 id="æ•ˆç‡æé«˜çš„æµæ°´çº¿åè®®è¿­ä»£å¼€å‘è¿‡ç¨‹">æ•ˆç‡æé«˜çš„æµæ°´çº¿åè®®è¿­ä»£å¼€å‘è¿‡ç¨‹</h1><h2 id="select-responseé€‰æ‹©å“åº”åè®®">Select-Responseï¼šé€‰æ‹©å“åº”åè®®</h2><h3 id="è®¾è®¡æ–¹æ¡ˆ-3">è®¾è®¡æ–¹æ¡ˆ</h3><p>æ»‘åŠ¨çª—å£è®¾è®¡ï¼šå¾ªç¯é˜Ÿåˆ—ã€‚</p><ul><li><p>æ¥æ”¶æ–¹é€ä¸ªå¯¹æ‰€æœ‰æ­£ç¡®æ”¶åˆ°çš„åˆ†ç»„è¿›è¡Œåº”ç­”ï¼šå¯¹æ¥æ”¶åˆ°çš„ï¼ˆå¤±åºï¼‰åˆ†ç»„è¿›è¡Œç¼“å­˜ï¼Œä»¥ä¾¿æœ€åå¯¹ä¸Šå±‚è¿›è¡Œæœ‰æ•ˆé€’äº¤ã€‚</p></li><li><p>å‘é€æ–¹ä»…å¯¹æœªæ”¶åˆ°åº”ç­”çš„åˆ†ç»„è¿›è¡Œé‡å‘ï¼šä¸ºæ¯ä¸ªåˆ†ç»„è®¾ç½®è®¡æ—¶å™¨ã€‚</p></li></ul><h3 id="sender-1">Sender:</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192344189.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192400371.png" alt="image-20240219192400371"></p><h4 id="å‘é€æ–¹çš„çª—å£senderwindow">å‘é€æ–¹çš„çª—å£SenderWindow:</h4><ul><li><p>æ•°æ®ç»“æ„ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219192435858.png"></p><ul><li><p>å°†çª—å£å†…çš„æ¯ä¸ªå—åˆ’åˆ†ä¸º4ä¸ªçŠ¶æ€ï¼š</p><p>0: not usable //è¡¨ç¤ºè¯¥å—å°šæœªç¼“å­˜æ•°æ®åŒ…</p><p>1: usable, not yet sent //è¡¨ç¤ºè¯¥å—å·²ç¼“å­˜æ•°æ®ï¼Œä½†å°šæœªå‘é€</p><p>2: sent, not yet ackâ€™ed//è¡¨ç¤ºè¯¥å—ç¼“å­˜çš„æ•°æ®å·²ç»å‘é€ï¼Œä½†å°šæœªæ”¶åˆ°å¯¹åº”çš„ACK</p><p>3: already ackâ€™ed //è¡¨ç¤ºè¯¥å—å·²å‘é€çš„æ•°æ®æ”¶åˆ°åº”ç­”</p></li><li><p>ä¸ºçª—å£è®¾å®šä¸‰ä¸ªæŒ‡é’ˆï¼š</p><p>queue_base //çª—å£åŸºå€ï¼Œå³å·¦ç«¯</p><p>queue_rear //çª—å£æœ«ç«¯</p><p>next_to_send //ä¸‹ä¸€å¾…å‘é€æ•°æ®åœ°å€</p></li></ul></li><li><p>ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************Selective-Response: é€‰æ‹©å“åº”åè®®</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2023-12-21*/</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.test.CheckSum;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.TCP_Sender_ADT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_RetransTask;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_Timer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.Client;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.*;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.tool.TCP_TOOL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SenderWindow</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">WinSize</span> <span class="operator">=</span> <span class="number">16</span>;    <span class="comment">//çª—å£å¤§å°</span></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET[] tcpPacks = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>[WinSize];    <span class="comment">//å¾…å‘é€çš„TCPæ•°æ®æŠ¥çª—å£ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> UDT_Timer[] timers = <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>[WinSize]; <span class="comment">//ä¸ºçª—å£å†…æ¯ä¸ªåŒ…åˆ†é…ä¸€ä¸ªè®¡æ—¶å™¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">queue_base</span> <span class="operator">=</span> <span class="number">0</span>;   <span class="comment">//çª—å£å§‹ç«¯æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">next_to_send</span> <span class="operator">=</span> <span class="number">0</span>;  <span class="comment">//å¾…å‘é€åŒ…æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">queue_rear</span> <span class="operator">=</span> <span class="number">0</span>;   <span class="comment">//é˜Ÿæœ«æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] flag; <span class="comment">//0:have no pkt; 1:usable not yet send; 2:sent not yet ack&#x27;ed; 3: already ack&#x27;ed</span></span><br><span class="line">    Client client;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SenderWindow</span><span class="params">(Client client, <span class="type">int</span> WinSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.client = client;</span><br><span class="line">        <span class="built_in">this</span>.WinSize = WinSize;</span><br><span class="line">        flag = <span class="keyword">new</span> <span class="title class_">int</span>[WinSize];</span><br><span class="line">        Arrays.fill(flag, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//çª—å£æ»¡åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (queue_rear - queue_base) == WinSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨é˜Ÿæœ«å¤„ç¼“å†²åŒ…</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushPack</span><span class="params">(TCP_PACKET packet)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rear_index</span> <span class="operator">=</span> queue_rear % WinSize;  <span class="comment">//æ±‚é˜Ÿæœ«ç›¸å¯¹ç´¢å¼•</span></span><br><span class="line">        tcpPacks[rear_index] = packet;</span><br><span class="line">        flag[rear_index] = <span class="number">1</span>; <span class="comment">//æ ‡è®°ä¸ºå¯å‘çš„åŒ…</span></span><br><span class="line">        queue_rear++;</span><br><span class="line">        <span class="type">int</span>[] data = packet.getTcpS().getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sequence</span> <span class="operator">=</span> (packet.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">        <span class="comment">//System.out.println(sequence);</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å¯¹ACKå¤„ç†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rcvAck</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;</span><br><span class="line">    <span class="comment">//æ±‚å„é¡¹ç›¸å¯¹ç´¢å¼•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">seq_index</span> <span class="operator">=</span> sequence % WinSize;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rear_index</span> <span class="operator">=</span> queue_rear % WinSize;</span><br><span class="line">        <span class="type">int</span> <span class="variable">base_index</span> <span class="operator">=</span> queue_base % WinSize;</span><br><span class="line">        <span class="keyword">if</span> (sequence &gt;= queue_base &amp;&amp; sequence &lt;= queue_rear) &#123;</span><br><span class="line">            <span class="keyword">if</span> (flag[seq_index] == <span class="number">2</span>) &#123;   <span class="comment">//è‹¥æœªæ”¶åˆ°ACK</span></span><br><span class="line">                timers[seq_index].cancel();   <span class="comment">//è®¡æ—¶å™¨æš‚åœ</span></span><br><span class="line">                timers[seq_index] = <span class="literal">null</span>;</span><br><span class="line">                flag[seq_index] = <span class="number">3</span>; <span class="comment">//æ ‡è®°ä¸ºå·²æ”¶åˆ°ACK</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;   <span class="comment">//æ”¶åˆ°é‡å¤/é”™è¯¯ACK</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(sequence == queue_base) &#123;  <span class="comment">//è‹¥çª—å£å·¦ç«¯çš„åŒ…æ”¶åˆ°ACK</span></span><br><span class="line">                <span class="keyword">while</span>(flag[base_index] == <span class="number">3</span>) &#123; <span class="comment">//æ£€ç´¢æœ€å¤§å·²ACKä½ç½®ç´¢å¼•</span></span><br><span class="line">                    tcpPacks[base_index] = <span class="literal">null</span>;</span><br><span class="line">                    flag[base_index] = <span class="number">0</span>; <span class="comment">//æ ‡è®°ä¸ºç©ºï¼ˆå¯æ”¾å…¥åŒ…ï¼‰</span></span><br><span class="line">                    queue_base++;</span><br><span class="line">                    base_index = queue_base % WinSize;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//è·å–å¯å‘é€åŒ…</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSendIndex</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">send_index</span> <span class="operator">=</span> next_to_send % WinSize;</span><br><span class="line">        <span class="keyword">if</span>(flag[send_index] == <span class="number">1</span> ) &#123;</span><br><span class="line">            flag[send_index] = <span class="number">2</span>; <span class="comment">//æ ‡è¯†ä¸ºå·²å‘é€ä½†æœªACK</span></span><br><span class="line">            next_to_send++;</span><br><span class="line">            <span class="comment">//System.out.println(send_index);</span></span><br><span class="line">            <span class="keyword">return</span> send_index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¯å‘åŒ…é¢„å¤‡å·¥ä½œ</span></span><br><span class="line">    <span class="keyword">public</span> TCP_PACKET <span class="title function_">getPack</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="type">UDT_RetransTask</span> <span class="variable">retrans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UDT_RetransTask</span>(client, tcpPacks[index]);</span><br><span class="line">        timers[index] = <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>();</span><br><span class="line">        timers[index].schedule(retrans, <span class="number">1000</span>, <span class="number">1000</span>); <span class="comment">//è®¡æ—¶å¼€å§‹ï¼Œè¶…æ—¶é‡å‘</span></span><br><span class="line">        <span class="keyword">return</span> tcpPacks[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å‘é€æ–¹çª—å£ç±»å­˜åœ¨äº”ä¸ªè¡Œä¸ºï¼š</p><ul><li><p>ifFull():åˆ¤æ–­çª—å£æ˜¯å¦ç¼“å­˜æ»¡ï¼Œç”¨æ¥æ§åˆ¶åº”ç”¨å±‚çš„å†™å…¥èŠ‚å¥ï¼Œåœ¨æ»¡æ—¶éœ€è¦è¿›å…¥å¿™ç­‰ï¼ˆç›´åˆ°çª—å£å·¦ç«¯å·²å‘æ•°æ®åŒ…æ”¶åˆ°ACKï¼‰ï¼›</p></li><li><p>pushPack():å°†åº”ç”¨å±‚æä¾›çš„æ•°æ®åŒ…ç¼“å­˜åˆ°çª—å£é˜Ÿåˆ—ä¸­ï¼Œåœ¨è¯¥è¡Œä¸ºä¸­ï¼Œå°†å—çš„çŠ¶æ€ç”±0è½¬æ¢åˆ°1ï¼›</p></li><li><p>getSendIndex():ä¸ºTCP_Senderç±»æä¾›é¢„å¤‡å‘é€åŒ…çš„æ¥å£ï¼Œå³æä¾›è¯¥å—çš„ç´¢å¼•åœ°å€ï¼›</p></li><li><p>getPack():å®ŒæˆåŒ…çš„å‘é€å·¥ä½œï¼Œåœ¨è¯¥è¡Œä¸ºä¸­åˆå§‹åŒ–è®¡æ—¶å™¨å¹¶è®¾å®šè®¡æ—¶å¼€å§‹ï¼ŒåŒæ—¶å°†çª—å£ä¸­è¯¥å—çš„çŠ¶æ€ç”±1è½¬æ¢åˆ°2ï¼›</p></li><li><p>rcvAck():å¯¹å½“å‰æ”¶åˆ°çš„ACKè¿›è¡Œè§£æï¼Œè‹¥è¯¥ACKçš„åºå·ä¸ºçª—å£ä¸­unACKâ€™edå—æ‰€å¯¹åº”çš„åº”ç­”ï¼Œåˆ™å°†çŠ¶æ€ç”±2è½¬æ¢åˆ°3ï¼Œå¦åˆ™ä¸åšå¤„ç†ï¼›åŒæ—¶ï¼Œè‹¥å¯¹åº”ä¸ºçª—å£æœ€å·¦ç«¯çš„å—çš„åº”ç­”ï¼Œåˆ™å°†çª—å£åŸºå€ç§»åŠ¨åˆ°ä¸‹ä¸€æœªæ”¶åˆ°ACKçš„å—çš„ä½ç½®ï¼Œå¹¶å°†æ­¤è¿‡ç¨‹ä¸­å·²æ”¶åˆ°ACKçš„å—çš„çŠ¶æ€ç”±3è½¬æ¢åˆ°0ã€‚</p></li></ul></li></ul><h4 id="tcp_sender.java">TCP_Sender.java:</h4><blockquote><p>ä¿®æ”¹äº†rdt_end()å‡½æ•°åŠwaitACK()å‡½æ•°ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************2.1: ACK/NACK</span></span><br><span class="line"><span class="comment">**************************** Feng Hong; 2015-12-09*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/***************************Selective-Response: é€‰æ‹©å“åº”åè®®</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2023-12-21*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>â€¦</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCP_Sender</span> <span class="keyword">extends</span> <span class="title class_">TCP_Sender_ADT</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET tcpPack;   <span class="comment">//å¾…å‘é€çš„TCPæ•°æ®æŠ¥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//private UDT_Timer timer;   //è®¡æ—¶å™¨</span></span><br><span class="line">    <span class="comment">//private UDT_RetransTask reTrans;    //é‡ä¼ ä»»åŠ¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">SenderWindow</span> <span class="variable">window</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SenderWindow</span>(client, <span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ„é€ å‡½æ•°*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TCP_Sender</span><span class="params">()</span> &#123;â€¦&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//å¯é å‘é€ï¼ˆåº”ç”¨å±‚è°ƒç”¨ï¼‰ï¼šå°è£…åº”ç”¨å±‚æ•°æ®ï¼Œäº§ç”ŸTCPæ•°æ®æŠ¥ï¼›éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_send</span><span class="params">(<span class="type">int</span> dataIndex, <span class="type">int</span>[] appData)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç”ŸæˆTCPæ•°æ®æŠ¥ï¼ˆè®¾ç½®åºå·å’Œæ•°æ®å­—æ®µ/æ ¡éªŒå’Œ),æ³¨æ„æ‰“åŒ…çš„é¡ºåº</span></span><br><span class="line">        tcpH.setTh_seq(dataIndex * appData.length + <span class="number">1</span>);<span class="comment">//åŒ…åºå·è®¾ç½®ä¸ºå­—èŠ‚æµå·ï¼š</span></span><br><span class="line">        tcpS.setData(appData);</span><br><span class="line">        tcpPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, destinAddr);       </span><br><span class="line">        <span class="comment">//æ›´æ–°å¸¦æœ‰checksumçš„TCP æŠ¥æ–‡å¤´      </span></span><br><span class="line">        tcpH.setTh_sum(CheckSum.computeChkSum(tcpPack));</span><br><span class="line">        tcpPack.setTcpH(tcpH);</span><br><span class="line">        <span class="comment">//System.out.println(dataIndex);</span></span><br><span class="line">        <span class="comment">//è‹¥æœªè£…æ»¡åˆ™è½½å…¥åŒ…</span></span><br><span class="line">        <span class="keyword">if</span>(window.isFull()) &#123;</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è£…æ»¡åˆ™ç­‰å¾…</span></span><br><span class="line">        <span class="keyword">while</span>(flag == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            window.pushPack(tcpPack.clone());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="comment">// TODO è‡ªåŠ¨ç”Ÿæˆçš„ catch å—</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘é€TCPæ•°æ®æŠ¥</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> window.getSendIndex();</span><br><span class="line">        <span class="keyword">if</span>(index != -<span class="number">1</span>) &#123;</span><br><span class="line">            udt_send(window.getPack(index));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">udt_send</span><span class="params">(TCP_PACKET stcpPack)</span> &#123;â€¦&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">waitACK</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å¾ªç¯æ£€æŸ¥ackQueue</span></span><br><span class="line">        <span class="comment">//å¾ªç¯æ£€æŸ¥ç¡®è®¤å·å¯¹åˆ—ä¸­æ˜¯å¦æœ‰æ–°æ”¶åˆ°çš„ACK       </span></span><br><span class="line">        <span class="keyword">if</span>(!ackQueue.isEmpty())&#123;</span><br><span class="line">            <span class="type">int</span> currentAck=(ackQueue.poll() - <span class="number">1</span>) / <span class="number">100</span>; <span class="comment">//?æ­¤å¤„å·²çŸ¥å­—èŠ‚æµé•¿åº¦100</span></span><br><span class="line">            window.rcvAck(currentAck);   <span class="comment">//äº¤äºçª—å£å¤„ç†</span></span><br><span class="line">            <span class="keyword">if</span>(!window.isFull()) &#123;     <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;â€¦&#125;</span><br></pre></td></tr></table></figure><ul><li>å½“çª—å£æœªè£…æ»¡çš„æƒ…å†µä¸‹ä»ä¸Šå±‚è£…å…¥åŒ…ï¼Œå¦åˆ™è¿›å…¥åŠ é”å¿™ç­‰ï¼›å½“next_to_sendæŒ‡é’ˆæ‰€æŒ‡å‘çš„å—å¯ä»¥å‘é€ï¼Œåˆ™å‘é€ï¼›æ”¶åˆ°ACKåäº¤äºçª—å£ç±»å¤„ç†ï¼Œå½“çª—å£å­˜åœ¨ç©ºé—²å—æ—¶è§£é”ã€‚</li></ul><h3 id="receiver-1">Receiverï¼š</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219202318815.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219202324381.png"></p><h4 id="æ¥æ”¶æ–¹çš„receiverwindow.java">æ¥æ”¶æ–¹çš„ReceiverWindow.java</h4><ul><li><p>æ•°æ®ç»“æ„ï¼š</p><p>çª—å£å—çš„çŠ¶æ€ç®€åŒ–ä¸ºä¸¤ç±»ï¼š</p><p>0: Expected, not yet received //è¡¨ç¤ºè¯¥ä½åºçš„åŒ…å°šæœªæ”¶åˆ°</p><p>1: already ackâ€™ed //æ”¶åˆ°è¯¥ä½çš„åŒ…å¹¶åº”ç­”</p></li><li><p>ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************Selective-Response: é€‰æ‹©å“åº”åè®®</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2023-12-21*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.test.CheckSum;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.Client;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.TCP_Sender_ADT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_RetransTask;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_Timer;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.*;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.tool.TCP_TOOL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReceiverWindow</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">WinSize</span> <span class="operator">=</span> <span class="number">16</span>;    <span class="comment">//çª—å£å¤§å°</span></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET[] tcpPacks; <span class="comment">//æ¥æ”¶TCPæ•°æ®æŠ¥çª—å£ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">queue_base</span> <span class="operator">=</span> <span class="number">0</span>;   <span class="comment">//çª—å£å§‹ç«¯æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">queue_rear</span> <span class="operator">=</span> WinSize-<span class="number">1</span>;    <span class="comment">//é˜Ÿæœ«æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] flag; <span class="comment">//0:expected not yet received; 1: already ack&#x27;ed</span></span><br><span class="line">    Client client;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ReceiverWindow</span><span class="params">(Client client, <span class="type">int</span> WinSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.client = client;</span><br><span class="line">        <span class="built_in">this</span>.WinSize = WinSize;</span><br><span class="line">        tcpPacks = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>[WinSize];</span><br><span class="line">        flag = <span class="keyword">new</span> <span class="title class_">int</span>[WinSize];</span><br><span class="line">        Arrays.fill(flag, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­å½“å‰seqæ˜¯å¦ä¸ºçª—å£æœ€å·¦ç«¯</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBase</span><span class="params">(<span class="type">int</span> seq)</span> &#123;</span><br><span class="line">    <span class="type">return</span> <span class="variable">queue_base</span> <span class="operator">=</span>= seq;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç†æ”¶åˆ°çš„åŒ…</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pullPack</span><span class="params">(TCP_PACKET packet)</span> &#123;</span><br><span class="line">        <span class="comment">//è®¡ç®—seq</span></span><br><span class="line">        <span class="type">int</span>[] data = packet.getTcpS().getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sequence</span> <span class="operator">=</span> (packet.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ±‚å„é¡¹ç›¸å¯¹ç´¢å¼•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">seq_index</span> <span class="operator">=</span> sequence % WinSize;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rear_index</span> <span class="operator">=</span> queue_rear % WinSize;</span><br><span class="line">        <span class="type">int</span> <span class="variable">base_index</span> <span class="operator">=</span> queue_base % WinSize;</span><br><span class="line">        <span class="keyword">if</span> (sequence &gt;= queue_base &amp;&amp; sequence &lt;= queue_rear) &#123;</span><br><span class="line">            <span class="keyword">if</span> (flag[seq_index] == <span class="number">0</span>) &#123;   <span class="comment">//è‹¥è¯¥å—æœªæ”¶åˆ°packet</span></span><br><span class="line">                tcpPacks[seq_index] = packet;</span><br><span class="line">                flag[seq_index] = <span class="number">1</span>; <span class="comment">//æ ‡è®°ä¸ºå·²æ”¶åˆ°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (sequence &gt; queue_rear) &#123;     <span class="comment">//å¯¹äºè¶…å‰æ”¶åˆ°çš„åŒ…ä¸åšåº”ç­”</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sequence;   <span class="comment">//å¯¹å·²æ”¶åˆ°çš„åŒ…ï¼ˆåŒ…æ‹¬å†å²çª—å£ï¼‰è¿›è¡Œåº”ç­”</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒ…äº¤ä»˜å¤„ç†ï¼ˆå¯¹æœ‰åºåŒ…äº¤ä»˜ï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">seq_deliver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rear_index</span> <span class="operator">=</span> queue_rear % WinSize;</span><br><span class="line">        <span class="type">int</span> <span class="variable">base_index</span> <span class="operator">=</span> queue_base % WinSize;</span><br><span class="line">        <span class="keyword">if</span>(flag[base_index] == <span class="number">1</span>) &#123;</span><br><span class="line">            queue_base++;</span><br><span class="line">            queue_rear++;</span><br><span class="line">            flag[base_index] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> base_index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒ…æ¥å£</span></span><br><span class="line">    <span class="keyword">public</span> TCP_PACKET <span class="title function_">getPack</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="type">TCP_PACKET</span> <span class="variable">pack</span> <span class="operator">=</span> tcpPacks[index];</span><br><span class="line">        tcpPacks[index] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> pack;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¯¥ç±»å­˜åœ¨ä»¥ä¸‹å››ä¸ªè¡Œä¸ºï¼š</p><ul><li>isBase():è¿”å›å½“å‰æ”¶åˆ°çš„åŒ…åºå·æ˜¯å¦ä¸ºçª—å£æœ€å·¦ç«¯ï¼Œç”¨ä»¥åœ¨TCP_Receiverä¸­è¿›è¡Œäº¤ä»˜åˆ¤å®šæ¡ä»¶ï¼›</li><li>pullPack():å¯¹æ”¶åˆ°çš„åŒ…è¿›è¡Œå¤„ç†ï¼Œå…¶ä¸­è‹¥è¯¥åŒ…åºå·ä¸ºçª—å£å¯¹åº”å—æ‰€æœŸæœ›çš„ï¼Œåˆ™å°†å—çŠ¶æ€ç”±0è½¬æ¢ä¸º1ï¼Œä»¥åŠåºå·ä¸ºå†å²çª—å£æ”¶åˆ°è¿‡çš„ï¼ˆå³é‡å¤åŒ…ï¼‰ï¼Œè¿”å›è¯¥åŒ…åºå·ï¼Œå‡†å¤‡åº”ç­”ï¼Œè€Œå¯¹äºåºå·è¶…å‰ï¼ˆå³è¿˜æœªè¢«çª—å£æ”¶çº³çš„ï¼‰åŒ…ï¼Œåˆ™ä¸åšåº”ç­”ç›´æ¥ä¸¢å¼ƒï¼›</li><li>seq_deliver():åŒ…äº¤ä»˜å¤„ç†ï¼Œç”¨æ¥è¿”å›å½“å‰çª—å£æœ€å·¦ç«¯å—æ˜¯å¦å·²å®Œæˆæ¥æ”¶ï¼Œå¯¹æœ€å·¦ç«¯èµ·å§‹çš„è¿ç»­å—è¿›è¡Œæœ‰åºäº¤ä»˜ï¼›</li><li>getPack(): åŒ…è¿”å›æ¥å£ã€‚</li></ul></li></ul><h4 id="tcp_receiver.java">TCP_Receiver.java:</h4><p>ä¿®æ”¹äº†rdt_recvå‡½æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************2.1: ACK/NACK*****************/</span></span><br><span class="line"><span class="comment">/***** Feng Hong; 2015-12-09******************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/***************************Selective-Response: é€‰æ‹©å“åº”åè®®</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2023-12-21*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> â€¦</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCP_Receiver</span> <span class="keyword">extends</span> <span class="title class_">TCP_Receiver_ADT</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET ackPack;   <span class="comment">//å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="type">int</span> sequence=<span class="number">1</span>;<span class="comment">//ç”¨äºè®°å½•å½“å‰å¾…æ¥æ”¶çš„åŒ…åºå·ï¼Œæ³¨æ„åŒ…åºå·ä¸å®Œå…¨æ˜¯</span></span><br><span class="line">    <span class="type">int</span> pre_seq=-<span class="number">1</span>;   <span class="comment">//ç”¨äºè®°å½•ä¸Šä¸€ä¸ªæ¥æ”¶æˆåŠŸçš„åŒ…åºå·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">ReceiverWindow</span> <span class="variable">window</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReceiverWindow</span>(client, <span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ„é€ å‡½æ•°*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TCP_Receiver</span><span class="params">()</span> &#123;â€¦&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//æ¥æ”¶åˆ°æ•°æ®æŠ¥ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œè®¾ç½®å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">        <span class="comment">//æ£€æŸ¥æ ¡éªŒç ï¼Œç”ŸæˆACK</span></span><br><span class="line">        <span class="keyword">if</span>(CheckSum.computeChkSum(recvPack) == recvPack.getTcpH().getTh_sum()) &#123;</span><br><span class="line">            <span class="type">int</span>[] data = recvPack.getTcpS().getData();</span><br><span class="line">            <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sequence</span> <span class="operator">=</span> (recvPack.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">            <span class="type">int</span> <span class="variable">seq_to_ACK</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è·å–å½“å‰åº”ç­”ACKæŠ¥æ–‡çš„seq</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                seq_to_ACK = window.pullPack(recvPack.clone());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">                <span class="comment">// TODO è‡ªåŠ¨ç”Ÿæˆçš„ catch å—</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(seq_to_ACK != -<span class="number">1</span>) &#123;     <span class="comment">//éœ€è¦åº”ç­”ï¼ˆéè¶…å‰åŒ…ï¼‰</span></span><br><span class="line">                tcpH.setTh_ack(seq_to_ACK * datalen + <span class="number">1</span>);</span><br><span class="line">                ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">                tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">                reply(ackPack);</span><br><span class="line">                <span class="keyword">if</span>(window.isBase(sequence)) &#123;  <span class="comment">//è¯¥åŒ…æ°ä¸ºæœ€å·¦ç«¯å—</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> window.seq_deliver();</span><br><span class="line">                    <span class="keyword">while</span> (index != -<span class="number">1</span>) &#123; <span class="comment">//åˆ™å°†è¿ç»­å·²æ¥æ”¶å—çš„åŒ…äº¤ä»˜ä¸Šå±‚</span></span><br><span class="line">                        <span class="type">TCP_PACKET</span> <span class="variable">pack</span> <span class="operator">=</span> window.getPack(index);</span><br><span class="line">                        dataQueue.add(pack.getTcpS().getData());</span><br><span class="line">                        <span class="comment">//                            int seq = (pack.getTcpH().getTh_seq() - 1) / pack.getTcpS().getData().length;</span></span><br><span class="line">                        <span class="comment">//                            System.out.println(seq);</span></span><br><span class="line">                        index = window.seq_deliver();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//else&#123;&#125; //å¯¹äºæ”¶åˆ°é”™è¯¯åŒ…ï¼Œç›´æ¥ä¸¢å¼ƒ</span></span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//äº¤ä»˜æ•°æ®ï¼ˆæ¯20ç»„æ•°æ®äº¤ä»˜ä¸€æ¬¡ï¼‰</span></span><br><span class="line">        deliver_data();   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deliver_data</span><span class="params">()</span> &#123;â€¦&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reply</span><span class="params">(TCP_PACKET replyPack)</span> &#123;â€¦&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>é¦–å…ˆåˆ¤æ–­å¯¹æ¥æ”¶åˆ°çš„åŒ…æ˜¯å¦éœ€è¦åº”ç­”ï¼ˆè¶…å‰æ”¶åˆ°çš„åŒ…ä¸åšåº”ç­”ï¼‰ï¼ŒåŒæ—¶åˆ¤æ–­è‹¥ä¸ºæœŸæœ›åŒ…æ˜¯å¦ä¸ºæœ€å·¦ç«¯å—æ‰€æœŸæœ›çš„åŒ…ï¼Œè‹¥ä¸ºæœ€å·¦ç«¯åˆ™äº¤ä»˜è¿ç»­çš„æœ‰åºåŒ…ç»™ä¸Šå±‚ã€‚</p></blockquote><h3 id="æµ‹è¯•log-2">æµ‹è¯•Logï¼š</h3><p>å¯¹äºå‘é€æ–¹ï¼Œå…¶ä¸åœ¨ä¹NO_ACKçš„å…·ä½“åŸå› ï¼Œåªè¦æ²¡æœ‰æ”¶åˆ°ACKåˆ™ç­‰å¾…å€’è®¡æ—¶ç»“æŸæ—¶é‡å‘ï¼›ç”±äºå€’è®¡æ—¶æ—¶é—´å¤§äºRTTï¼Œå› æ­¤åœ¨é‡å‘å‰çª—å£ä¾¿å·²æ»¡ï¼Œå› æ­¤æ— æ³•è¿›ä¸€æ­¥ç¼“å­˜åŒ…ã€å‘é€åŒ…ï¼Œç›´åˆ°åˆšæ‰æœªæ”¶åˆ°ACKï¼ˆä½äºçª—å£æœ€å·¦ç«¯ï¼‰çš„åŒ…å€’è®¡æ—¶ç»“æŸã€é‡å‘åæ‰ä¼šæœ‰ç©ºé—²å—å…è®¸ç»§ç»­å‘é€ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219203409303.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219203416163.png"></p><p>å¯¹äºå¤±åºçš„é—®é¢˜ï¼ŒReceiverçš„çª—å£ä¹Ÿå¾ˆå¥½åœ°å®Œæˆäº†ä»»åŠ¡ï¼Œä¿è¯äº†æ¥æ”¶æ•°æ®çš„æœ‰åºæ€§ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219203424354.png"></p><h2 id="tcp-tahoeæ‹¥å¡æ§åˆ¶æ–¹æ³•æ…¢å¼€å§‹å’Œå¿«é‡ä¼ ">TCPTahoeï¼šæ‹¥å¡æ§åˆ¶æ–¹æ³•â€”â€”æ…¢å¼€å§‹å’Œå¿«é‡ä¼ </h2><h3 id="è®¾è®¡æ–¹æ¡ˆ-4">è®¾è®¡æ–¹æ¡ˆ</h3><p>å‘é€æ–¹ç»´æŒæ‹¥å¡çª—å£cwndçŠ¶æ€å˜é‡</p><ul><li>å‘é€æ–¹è®©è‡ªå·±çš„å‘é€çª—å£ç­‰äºæ‹¥å¡çª—å£ï¼Œå› æ­¤ï¼Œåœ¨SRåè®®çš„åŸºç¡€ä¸Šç”¨cwndå–ä»£æ»‘åŠ¨çª—å£ã€‚</li><li>TCPè¿æ¥è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œå°†æ‹¥å¡çª—å£cwndç½®ä¸º1ã€‚æ…¢å¼€å§‹é—¨é™ssthreshåˆå§‹åŒ–ä¸º16ã€‚</li><li>å‘é€æ–¹æ¯æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°±æŠŠcwndåŠ 1ã€‚</li><li>åœ¨æ…¢å¼€å§‹é˜¶æ®µï¼Œcwndéšä¼ è¾“è½®æ¬¡RTTæŒ‡æ•°å¢é•¿ï¼Œå½“cwndå¢é•¿åˆ°æ…¢å¼€å§‹é—¨é™å€¼æ—¶ï¼Œæ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•</li></ul><p>æ‹¥å¡é¿å…ç®—æ³•ï¼š</p><ul><li>cwndéšä¼ è¾“è½®æ¬¡RTTçº¿æ€§å¢é•¿ã€‚</li></ul><p>å¿«é‡ä¼ ï¼š</p><ul><li><p>å½“ç½‘ç»œå‡ºç°è¶…æ—¶ï¼ˆå‘é€ç«¯è®¡æ—¶å™¨ç»“æŸï¼‰ï¼Œåˆ¤å®šä¸ºç½‘ç»œæ‹¥å¡ï¼Œæ›´æ–°ssthreshä¸ºå½“å‰cwndå€¼çš„ä¸€åŠï¼Œæ‹¥å¡çª—å£é‡æ–°è®¾ç½®ä¸º1ï¼Œå¹¶æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ã€‚</p></li><li><p>Tahoeåè®®ä¸­ï¼Œæ¥æ”¶åˆ°3ä¸ªé‡å¤AckåŒæ ·åˆ¤å®šä¸ºæ‹¥å¡ï¼ŒåŒæ ·æ›´æ–°ssthreshä¸ºå½“å‰cwndå€¼çš„ä¸€åŠï¼Œæ‹¥å¡çª—å£é‡æ–°è®¾ç½®ä¸º1ï¼Œå¹¶æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ã€‚</p></li></ul><h3 id="sender-2">Sender</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219203600986.png"></p><h4 id="senderwindow.java">SenderWindow.java</h4><ul><li><p>æ•°æ®ç»“æ„ï¼š</p><ul><li>reAck: è®°å½•é‡å¤åŒ…çš„ä¸ªæ•°ï¼Œç”¨ä»¥åˆ¤å®šç½‘ç»œçŠ¶å†µ</li><li>lastAck: è®°å½•ä¸Šä¸€ACKåºå·</li><li>cwnd: æ‹¥å¡çª—å£å¤§å°</li><li>ssthresh: æ…¢å¼€å§‹é—¨é™</li><li>curAcked: æ‹¥å¡çª—å£ä¸­å·²æ”¶åˆ°Ackçš„æ•°é‡</li><li>RTT: ä¸€ä¸ªä¼ è¾“è½®æ¬¡ï¼ˆä»¥åŒ…ä¸ºå•ä½ï¼‰</li></ul></li><li><p>ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************TCP-Tahoe</span></span><br><span class="line"><span class="comment"> **************************** éƒæ–‡è½©; 2024-01-02*/</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.test.CheckSum;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.TCP_Sender_ADT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_RetransTask;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_Timer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.FileHandler;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.SimpleFormatter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.Client;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.*;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.tool.TCP_TOOL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SenderWindow</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">cwnd</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">//æ‹¥å¡çª—å£</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">ssthresh</span> <span class="operator">=</span> <span class="number">16</span>;    <span class="comment">//æ…¢å¼€å§‹é—¨é™</span></span><br><span class="line">    <span class="keyword">private</span> Hashtable&lt;Integer, TCP_PACKET&gt; tcpPacks = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;Integer, TCP_PACKET&gt;();     <span class="comment">//å¾…å‘é€çš„TCPæ•°æ®æŠ¥çª—å£ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> Hashtable&lt;Integer, UDT_Timer&gt; timers = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;Integer, UDT_Timer&gt;();  <span class="comment">//ä¸ºçª—å£å†…æ¯ä¸ªåŒ…åˆ†é…ä¸€ä¸ªè®¡æ—¶å™¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">reAck</span> <span class="operator">=</span> <span class="number">0</span>;     <span class="comment">//é‡å¤åŒ…ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">lastAck</span> <span class="operator">=</span> -<span class="number">1</span>;    <span class="comment">//ä¸Šä¸€ACKåºå·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">curAcked</span> <span class="operator">=</span> <span class="number">0</span>;    <span class="comment">//çª—å£ä¸­å·²æ”¶åˆ°Ackçš„æ•°é‡ï¼ˆç­‰äºcwndæ—¶è¡¨ç¤ºä¸€ä¸ªRTTç»“æŸï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">RTT</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    Logger logger;</span><br><span class="line">    Client client;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resetCwndAndRtt</span><span class="params">()</span> &#123; <span class="comment">//æ…¢å¼€å§‹åˆå§‹åŒ–</span></span><br><span class="line">        cwnd = <span class="number">1</span>;</span><br><span class="line">        curAcked = <span class="number">0</span>;</span><br><span class="line">        RTT = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Tahoe_Timer</span> <span class="keyword">extends</span> <span class="title class_">UDT_RetransTask</span> &#123;</span><br><span class="line">        <span class="type">int</span> seq;</span><br><span class="line">        <span class="keyword">private</span> TCP_PACKET packet;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Tahoe_Timer</span><span class="params">(Client client, TCP_PACKET packet)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>(client, packet);</span><br><span class="line">            <span class="type">int</span>[] data = packet.getTcpS().getData();</span><br><span class="line">            <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">            seq = (packet.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">            <span class="built_in">this</span>.packet = packet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;############### æ‹¥å¡æ…¢å¼€å§‹ ###############&quot;</span>);</span><br><span class="line">            ssthresh = Math.max(cwnd / <span class="number">2</span>, <span class="number">2</span>); </span><br><span class="line">            resetCwndAndRtt();</span><br><span class="line">            <span class="built_in">super</span>.run();</span><br><span class="line"></span><br><span class="line">            logger.info(<span class="string">&quot;[æ…¢å¼€å§‹é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initLogger</span><span class="params">()</span>&#123;   <span class="comment">//è®¾ç½®logæ–‡ä»¶</span></span><br><span class="line">        logger= Logger.getLogger(SenderWindow.class.getName());</span><br><span class="line"></span><br><span class="line">        logger.setUseParentHandlers(<span class="literal">false</span>);</span><br><span class="line">        <span class="type">FileHandler</span> <span class="variable">fh</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fh = <span class="keyword">new</span> <span class="title class_">FileHandler</span>(<span class="string">&quot;RDTSender.log&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">            fh.setFormatter(<span class="keyword">new</span> <span class="title class_">SimpleFormatter</span>());<span class="comment">//è¾“å‡ºæ ¼å¼</span></span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//       fh.setFormatter();</span></span><br><span class="line">        logger.addHandler(fh);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SenderWindow</span><span class="params">(Client client)</span> &#123;</span><br><span class="line">        initLogger();</span><br><span class="line">        <span class="built_in">this</span>.client = client;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFull</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cwnd &lt;= tcpPacks.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushPack</span><span class="params">(TCP_PACKET packet)</span> &#123;  <span class="comment">//ä¼ åŒ…</span></span><br><span class="line">        <span class="type">int</span>[] data = packet.getTcpS().getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">seq</span> <span class="operator">=</span> (packet.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">        timers.put(seq, <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>());</span><br><span class="line">        timers.get(seq).schedule(<span class="keyword">new</span> <span class="title class_">Tahoe_Timer</span>(client, packet), <span class="number">1000</span>, <span class="number">1000</span>);</span><br><span class="line">        tcpPacks.put(seq, packet);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¯¹ACKå¤„ç†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rcvAck</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;æ¥æ”¶åˆ°ack: &quot;</span>+ sequence);</span><br><span class="line">        <span class="comment">//       logger.info(&quot;cwnd = &quot; + cwnd + &quot; curAcked = &quot; + curAcked);</span></span><br><span class="line">        <span class="keyword">if</span>(sequence == lastAck) &#123;    <span class="comment">//æ”¶åˆ°é‡å¤åŒ…</span></span><br><span class="line">            reAck++;</span><br><span class="line">            logger.info(<span class="string">&quot;############### æ”¶åˆ°é‡å¤åŒ…ï¼šsequence = &quot;</span> </span><br><span class="line">            + sequence + <span class="string">&quot; é‡å¤è®¡æ•°: &quot;</span> + reAck + <span class="string">&quot; ###############&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(reAck &gt;= <span class="number">3</span>) &#123;   <span class="comment">//æ”¶åˆ°3ä¸ªé‡å¤åŒ…,å¿«é‡ä¼ </span></span><br><span class="line">                <span class="type">int</span> <span class="variable">resendSeq</span> <span class="operator">=</span> sequence + <span class="number">1</span>;</span><br><span class="line">                <span class="type">TCP_PACKET</span> <span class="variable">pack</span> <span class="operator">=</span> tcpPacks.get(resendSeq);</span><br><span class="line">                <span class="type">UDT_Timer</span> <span class="variable">timer</span> <span class="operator">=</span> timers.get(resendSeq);</span><br><span class="line">                <span class="keyword">if</span>(pack != <span class="literal">null</span> &amp;&amp; timer != <span class="literal">null</span>) &#123;    </span><br><span class="line">                    <span class="comment">//                      System.out.println(&quot;############### å¿«é‡ä¼ &quot;);</span></span><br><span class="line">                    client.send(pack);</span><br><span class="line">                    timer.cancel();</span><br><span class="line">                    timers.put(resendSeq, <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>());</span><br><span class="line">                    timers.get(resendSeq).schedule(<span class="keyword">new</span> <span class="title class_">Tahoe_Timer</span>(client, pack), <span class="number">1000</span>, <span class="number">1000</span>);</span><br><span class="line">                    logger.info(<span class="string">&quot;############### å¿«é‡ä¼ ï¼šseq = &quot;</span> + resendSeq + <span class="string">&quot; ###############&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;############### Tahoeé‡ä¼ æ…¢å¼€å§‹ ###############&quot;</span>);</span><br><span class="line">                ssthresh = Math.max(cwnd / <span class="number">2</span>, <span class="number">2</span>);     <span class="comment">//ä¹˜æ³•å‡å°ï¼ˆä½†ä¸èƒ½å°äº2ï¼‰</span></span><br><span class="line">                resetCwndAndRtt();</span><br><span class="line">                logger.info(<span class="string">&quot;[æ…¢å¼€å§‹é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                curAcked++;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lastAck +<span class="number">1</span>; i &lt;= sequence; i++) &#123;    <span class="comment">//ç´¯ç§¯ç¡®è®¤</span></span><br><span class="line">                    tcpPacks.remove(i);</span><br><span class="line">                    <span class="keyword">if</span> (timers.containsKey(i)) &#123;</span><br><span class="line">                        timers.get(i).cancel();</span><br><span class="line">                        timers.remove(i);</span><br><span class="line">                    &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            lastAck = sequence; <span class="comment">//è®°å½•</span></span><br><span class="line">            reAck = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(cwnd &lt; ssthresh) &#123; <span class="comment">//æ…¢å¼€å§‹é˜¶æ®µ</span></span><br><span class="line">                cwnd++;</span><br><span class="line">                <span class="keyword">if</span>(curAcked &gt;= RTT) &#123;</span><br><span class="line">                    logger.info(<span class="string">&quot;[ä¸€ä¸ªä¼ è¾“è½®æ¬¡]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">                    curAcked = <span class="number">0</span>;</span><br><span class="line">                    RTT *= <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;   <span class="comment">//æ‹¥å¡æ§åˆ¶é˜¶æ®µ</span></span><br><span class="line">            <span class="comment">//                 logger.info(&quot;############### cwnd = &quot; + cwnd + &quot;curAcked = &quot; + curAcked + &quot; ###############&quot;);</span></span><br><span class="line">                <span class="keyword">if</span>(curAcked &gt;= RTT) &#123;</span><br><span class="line">                    logger.info(<span class="string">&quot;############### æ‹¥å¡é¿å… ###############&quot;</span>);</span><br><span class="line">                    curAcked = <span class="number">0</span>;</span><br><span class="line">                    cwnd ++;</span><br><span class="line">                    RTT ++;</span><br><span class="line">                    logger.info(<span class="string">&quot;[æ‹¥å¡æ§åˆ¶é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="tcp_sender.javaä»…å¯¹rdt_sendè¿›è¡Œä¿®æ”¹">TCP_Sender.java(ä»…å¯¹rdt_sendè¿›è¡Œä¿®æ”¹)ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯é å‘é€ï¼ˆåº”ç”¨å±‚è°ƒç”¨ï¼‰ï¼šå°è£…åº”ç”¨å±‚æ•°æ®ï¼Œäº§ç”ŸTCPæ•°æ®æŠ¥ï¼›éœ€è¦ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_send</span><span class="params">(<span class="type">int</span> dataIndex, <span class="type">int</span>[] appData)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”ŸæˆTCPæ•°æ®æŠ¥ï¼ˆè®¾ç½®åºå·å’Œæ•°æ®å­—æ®µ/æ ¡éªŒå’Œ),æ³¨æ„æ‰“åŒ…çš„é¡ºåº</span></span><br><span class="line">    tcpH.setTh_seq(dataIndex * appData.length + <span class="number">1</span>);<span class="comment">//åŒ…åºå·è®¾ç½®ä¸ºå­—èŠ‚æµå·ï¼š</span></span><br><span class="line">    tcpS.setData(appData);</span><br><span class="line">    tcpPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, destinAddr);       </span><br><span class="line">    <span class="comment">//æ›´æ–°å¸¦æœ‰checksumçš„TCP æŠ¥æ–‡å¤´      </span></span><br><span class="line">    tcpH.setTh_sum(CheckSum.computeChkSum(tcpPack));</span><br><span class="line">    tcpPack.setTcpH(tcpH);</span><br><span class="line">    <span class="comment">//System.out.println(dataIndex);</span></span><br><span class="line">    <span class="comment">//è‹¥æœªè£…æ»¡åˆ™è½½å…¥åŒ…</span></span><br><span class="line">    <span class="keyword">if</span>(window.isFull()) &#123;</span><br><span class="line">        <span class="comment">//             System.out.println(&quot;++++++++++++ å‘é€çª—å£æ»¡&quot;);</span></span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è£…æ»¡åˆ™ç­‰å¾…</span></span><br><span class="line">    <span class="keyword">while</span>(flag == <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">        window.pushPack(tcpPack.clone());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">        <span class="comment">// TODO è‡ªåŠ¨ç”Ÿæˆçš„ catch å—</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘é€TCPæ•°æ®æŠ¥</span></span><br><span class="line">    udt_send(tcpPack);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="receiver-2">Receiver</h3><p>ç®€åŒ–æ¥æ”¶ç«¯çš„çª—å£ï¼Œä»…éœ€å®ç°å¯¹åŒ…æ¬¡åºçš„åˆ¤æ–­ï¼š</p><ul><li><p>æ”¶åˆ°æœŸæœ›åŒ…åˆ™æŒ‰åºå°†å·²æ”¶åˆ°çš„æœ‰åºåŒ…äº¤ä»˜</p></li><li><p>æ”¶åˆ°å¤±åºåŒ…ï¼ˆåŒ…åºå¤§äºæœŸæœ›åºï¼‰ï¼Œä¸åšä¸¢å¼ƒï¼Œæå‰ç¼“å­˜ï¼Œå¹¶ç«‹å³å‘é€ACKï¼ˆå¿«é‡ä¼ ï¼‰ç­‰å¾…è¯¥åºå·ä¹‹å‰çš„åŒ…æ‚‰æ•°æ”¶åˆ°åï¼ŒæŒ‰æœ‰åºåŒ…äº¤ä»˜ã€‚</p></li></ul><p>TCP_Receiver.javaï¼ˆå¯¹rdt_recvè¿›è¡Œä¿®æ”¹ï¼‰:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¥æ”¶åˆ°æ•°æ®æŠ¥ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œè®¾ç½®å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">    <span class="comment">//æ£€æŸ¥æ ¡éªŒç ï¼Œç”ŸæˆACK</span></span><br><span class="line">    <span class="keyword">if</span>(CheckSum.computeChkSum(recvPack) == recvPack.getTcpH().getTh_sum()) &#123;</span><br><span class="line">        <span class="type">int</span>[] data = recvPack.getTcpS().getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sequence</span> <span class="operator">=</span> (recvPack.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">        <span class="keyword">if</span>(sequence == excSeq) &#123;    <span class="comment">//è‹¥æ”¶åˆ°æœŸæœ›åŒ…</span></span><br><span class="line">            dataQueue.add(data);</span><br><span class="line">            excSeq ++;</span><br><span class="line">            <span class="keyword">while</span>(packets.containsKey(excSeq)) &#123;    <span class="comment">//å°†æœ‰åºåŒ…é€ä¸ªä¸Šä¼ ï¼Œå¹¶ä»çª—å£ä¸­å‰”é™¤</span></span><br><span class="line">                dataQueue.add(packets.get(excSeq).getTcpS().getData());</span><br><span class="line">                packets.remove(excSeq);</span><br><span class="line">                excSeq ++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(dataQueue.size() &gt;= <span class="number">20</span> || excSeq &gt;= <span class="number">999</span>)</span><br><span class="line">                deliver_data();</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="keyword">else</span> &#123;     <span class="comment">//è‹¥æ”¶åˆ°å¤±åºåŒ…</span></span><br><span class="line">            <span class="keyword">if</span>(!packets.contains(sequence) &amp;&amp; sequence &gt; excSeq) &#123;</span><br><span class="line">                 packets.put(sequence, recvPack);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        tcpH.setTh_ack((excSeq - <span class="number">1</span>) * datalen + <span class="number">1</span>);<span class="comment">//ç”ŸæˆACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">        ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">        tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">        reply(ackPack);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//äº¤ä»˜æ•°æ®ï¼ˆæ¯20ç»„æ•°æ®äº¤ä»˜ä¸€æ¬¡ï¼‰</span></span><br><span class="line">    deliver_data();   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éªŒè¯logsender.log">éªŒè¯ï¼ˆLog+Sender.logï¼‰</h3><ul><li>æ…¢å¯åŠ¨ï¼š</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219204753627.png"></p><blockquote><p>TCPåˆè¿æ—¶è®¾ç½®cwndä¸º1ä¸”ssthreshä¸º16ï¼Œå› æ­¤cwndå‘ˆæŒ‡æ•°å¢é•¿ã€‚</p></blockquote><ul><li>æ‹¥å¡é¿å…ï¼ˆåŠ æ³•å¢å¤§ï¼‰ï¼š</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219204806227.png"></p><blockquote><p>å½“cwndå¤§äºssthreshæ—¶ï¼Œæ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•ï¼ŒcwndéšRTTå‘ˆçº¿æ€§å¢é•¿ã€‚</p></blockquote><ul><li>æ”¶åˆ°3ä¸ªé‡å¤ACKåæ‰§è¡Œä¹˜æ³•å‡å°ã€å¿«é‡ä¼ ï¼š</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219204825089.png"></p><p>å‘é€æ–¹æ”¶åˆ°ä¸‰ä¸ªé‡å¤çš„162åºå·ACKæ‰§è¡Œå¿«é‡ä¼ 163ï¼Œå¹¶ä¹˜æ³•å‡å°ï¼Œä½¿ssthreshå˜ä¸ºå½“å‰cwndå¤§å°ï¼ˆ22ï¼‰çš„ä¸€åŠï¼Œç„¶åé‡ç½®cwndä¸º1ï¼Œæ‰§è¡Œæ…¢å¼€å§‹ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219204844258.png"></p><blockquote><p>å…¶ä¸­å¯ä»¥çœ‹åˆ°è¿™æ ·çš„ç°è±¡ï¼šå‘é€æ–¹æœ‰äº›åŒ…no_ackä½†æ˜¯å¹¶æ²¡æœ‰è¿›è¡Œé‡ä¼ ï¼Œè¿™æ˜¯å› ä¸ºæ¥æ”¶æ–¹çš„ç´¯ç§¯ç¡®è®¤ï¼Œå¦‚æœå‘é€æ–¹ï¼ˆåœ¨timerä¹‹å†…ï¼‰æ”¶åˆ°äº†æ¯”no_ackæŠ¥æ–‡æ®µåºå·æ›´é«˜åºå·çš„ACKï¼Œåˆ™è¯æ˜æ¥æ”¶æ–¹å·²ç»æ”¶åˆ°äº†é‚£ä¸ªåŒ…ï¼Œno_ackçš„åŸå› å¯èƒ½æ˜¯ackä¸¢å¤±æˆ–è€…å»¶è¿Ÿï¼Œå› æ­¤å‘é€æ–¹æ²¡å¿…è¦å†é‡å‘è¿™ä¸ªåŒ…ã€‚è¿™ä¹Ÿä½“ç°äº†TCPç´¯ç§¯ç¡®è®¤çš„é‡è¦æ„ä¹‰ã€‚</p></blockquote><h2 id="tcp-reno-å¿«æ¢å¤">TCP Reno: å¿«æ¢å¤</h2><p>TCP Renoä¸TCPTahoeçš„å”¯ä¸€åŒºåˆ«ï¼Œå°±æ˜¯å¯¹å‘é€ç«¯è¿ç»­æ”¶åˆ°æ”¶åˆ°ä¸‰ä¸ªé‡å¤ACKå¹¶æ‰§è¡Œå¿«é‡ä¼ ä¹‹åçš„å¤„ç†æ–¹å¼ã€‚æ­£å¦‚ä¸Šé¢æ‰€å®ç°çš„ï¼ŒTahoeæ–¹å¼æ˜¯å°†cwndç›´æ¥é‡ç½®ä¸º1ï¼Œå¹¶ä¸”ä»¥æ…¢å¼€å§‹æ–¹å¼å¢é•¿cwndï¼›è€ŒRenoåˆ™æ˜¯åœ¨ssthreshæ‰§è¡Œå®Œâ€œä¹˜æ³•å‡å°â€ä¹‹åï¼Œä»¤cwndæ¢å¤åˆ°ssthreshçš„å¤§å°ï¼Œå› è€Œæ˜¯æ‰§è¡Œæ‹¥å¡é¿å…ï¼ˆåŠ æ³•å¢å¤§ï¼‰ç®—æ³•ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219204926612.png"></p><p>å› æ­¤è¿™ä¸ªç‰ˆæœ¬çš„ä¿®æ”¹è¾ƒä¸ºç®€å•ï¼Œä»…éœ€è¦åœ¨SenderWindowç±»ä¸­ä¿®æ”¹æ”¶åˆ°ä¸‰ä¸ªACKä¹‹åçš„æ‰§è¡Œæ–¹å¼ä¸ºæ‹¥å¡é¿å…ç®—æ³•å³å¯ã€‚</p><h3 id="senderwindow.javaä»…ä¿®æ”¹handledeuplicateackå‡½æ•°">SenderWindow.javaï¼ˆä»…ä¿®æ”¹handleDeuplicateAckå‡½æ•°ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">handleDuplicateAck</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;     <span class="comment">//é‡å¤åŒ…å¤„ç†</span></span><br><span class="line"></span><br><span class="line">    reAck++;</span><br><span class="line">    logger.info(<span class="string">&quot;############### æ”¶åˆ°é‡å¤åŒ…ï¼šsequence = &quot;</span> + sequence + <span class="string">&quot; é‡å¤è®¡æ•°: &quot;</span> + reAck + <span class="string">&quot; ###############&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (reAck &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">        performFastRetransmit(sequence);</span><br><span class="line">        logger.info(<span class="string">&quot;[æ…¢å¼€å§‹é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">performCongestionAvoidance</span><span class="params">()</span> &#123; <span class="comment">//æ‹¥å¡é¿å…</span></span><br><span class="line">    <span class="keyword">if</span> (curAcked &gt;= RTT) &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;############### æ‹¥å¡é¿å… ###############&quot;</span>);</span><br><span class="line">        curAcked = <span class="number">0</span>;</span><br><span class="line">        cwnd++;</span><br><span class="line">        RTT++;</span><br><span class="line">        logger.info(<span class="string">&quot;[æ‹¥å¡æ§åˆ¶é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºè¿™éƒ¨åˆ†æ˜¯æˆ‘æœ€ç»ˆçš„å®éªŒè®¾è®¡ï¼Œæˆ‘å°†ä¼šæŠŠTCP-Renoçš„å®Œæ•´ä»£ç ã€Logæ–‡ä»¶åŠéªŒè¯è¯´æ˜æ”¾åœ¨ä¸‹ä¸€éƒ¨åˆ†â€”â€”å®éªŒç»“æœä¸­è¯´æ˜ã€‚</p><h1 id="å®éªŒç»“æœtcp-reno">å®éªŒç»“æœâ€”â€”TCP Reno</h1><h2 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h2><h3 id="checksum.java">CheckSum.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.zip.CRC32;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.TCP_HEADER;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.TCP_SEGMENT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.TCP_PACKET;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CheckSum</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*è®¡ç®—TCPæŠ¥æ–‡æ®µæ ¡éªŒå’Œï¼šåªéœ€æ ¡éªŒTCPé¦–éƒ¨ä¸­çš„seqã€ackå’Œsumï¼Œä»¥åŠTCPæ•°æ®å­—æ®µ*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">short</span> <span class="title function_">computeChkSum</span><span class="params">(TCP_PACKET tcpPack)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">checkSum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">CRC32</span> <span class="variable">crc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CRC32</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*ä»é¦–éƒ¨è·å–seqã€ackå’Œsum*/</span></span><br><span class="line">        <span class="type">TCP_HEADER</span> <span class="variable">header</span> <span class="operator">=</span> tcpPack.getTcpH();</span><br><span class="line">        crc.update(header.getTh_seq());</span><br><span class="line">        crc.update(header.getTh_ack());</span><br><span class="line">        <span class="comment">//        crc.update(header.getTh_sum());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*ä»æ•°æ®éƒ¨è·å–æ•°æ®*/</span></span><br><span class="line">        <span class="type">TCP_SEGMENT</span> <span class="variable">segment</span> <span class="operator">=</span> tcpPack.getTcpS();</span><br><span class="line">        <span class="type">int</span>[] data = segment.getData();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; data.length; i++) &#123;</span><br><span class="line">            crc.update(data[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*è®¡ç®—æ ¡éªŒå’Œ*/</span></span><br><span class="line">        checkSum = crc.getValue();</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">short</span>) checkSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tcp_sender.java-1">TCP_Sender.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************2.1: ACK/NACK</span></span><br><span class="line"><span class="comment">**************************** Feng Hong; 2015-12-09*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/***************************TCP-Reno</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2024-01-02*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.test.CheckSum;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.TCP_Sender_ADT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_RetransTask;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_Timer;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.*;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.tool.TCP_TOOL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCP_Sender</span> <span class="keyword">extends</span> <span class="title class_">TCP_Sender_ADT</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET tcpPack;   <span class="comment">//å¾…å‘é€çš„TCPæ•°æ®æŠ¥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//private UDT_Timer timer;   //è®¡æ—¶å™¨</span></span><br><span class="line">    <span class="comment">//private UDT_RetransTask reTrans;    //é‡ä¼ ä»»åŠ¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">SenderWindow</span> <span class="variable">window</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SenderWindow</span>(client);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ„é€ å‡½æ•°*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TCP_Sender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(); <span class="comment">//è°ƒç”¨è¶…ç±»æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">super</span>.initTCP_Sender(<span class="built_in">this</span>);        <span class="comment">//åˆå§‹åŒ–TCPå‘é€ç«¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//å¯é å‘é€ï¼ˆåº”ç”¨å±‚è°ƒç”¨ï¼‰ï¼šå°è£…åº”ç”¨å±‚æ•°æ®ï¼Œäº§ç”ŸTCPæ•°æ®æŠ¥ï¼›éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_send</span><span class="params">(<span class="type">int</span> dataIndex, <span class="type">int</span>[] appData)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”ŸæˆTCPæ•°æ®æŠ¥ï¼ˆè®¾ç½®åºå·å’Œæ•°æ®å­—æ®µ/æ ¡éªŒå’Œ),æ³¨æ„æ‰“åŒ…çš„é¡ºåº</span></span><br><span class="line">    tcpH.setTh_seq(dataIndex * appData.length + <span class="number">1</span>);<span class="comment">//åŒ…åºå·è®¾ç½®ä¸ºå­—èŠ‚æµå·ï¼š</span></span><br><span class="line">    tcpS.setData(appData);</span><br><span class="line">    tcpPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, destinAddr);       </span><br><span class="line">    <span class="comment">//æ›´æ–°å¸¦æœ‰checksumçš„TCP æŠ¥æ–‡å¤´      </span></span><br><span class="line">    tcpH.setTh_sum(CheckSum.computeChkSum(tcpPack));</span><br><span class="line">    tcpPack.setTcpH(tcpH);</span><br><span class="line">    <span class="comment">//System.out.println(dataIndex);</span></span><br><span class="line">    <span class="comment">//è‹¥æœªè£…æ»¡åˆ™è½½å…¥åŒ…</span></span><br><span class="line">    <span class="keyword">if</span>(window.isFull()) &#123;</span><br><span class="line">        <span class="comment">//             System.out.println(&quot;++++++++++++ å‘é€çª—å£æ»¡&quot;);</span></span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è£…æ»¡åˆ™ç­‰å¾…</span></span><br><span class="line">    <span class="keyword">while</span>(flag == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            window.pushPack(tcpPack.clone());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="comment">// TODO è‡ªåŠ¨ç”Ÿæˆçš„ catch å—</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘é€TCPæ•°æ®æŠ¥</span></span><br><span class="line">        udt_send(tcpPack);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//ä¸å¯é å‘é€ï¼šå°†æ‰“åŒ…å¥½çš„TCPæ•°æ®æŠ¥é€šè¿‡ä¸å¯é ä¼ è¾“ä¿¡é“å‘é€ï¼›ä»…éœ€ä¿®æ”¹é”™è¯¯æ ‡å¿—</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">udt_send</span><span class="params">(TCP_PACKET stcpPack)</span> &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®é”™è¯¯æ§åˆ¶æ ‡å¿—</span></span><br><span class="line">        tcpH.setTh_eflag((<span class="type">byte</span>)<span class="number">7</span>);        </span><br><span class="line">        <span class="comment">//System.out.println(&quot;to send: &quot;+stcpPack.getTcpH().getTh_seq());                    </span></span><br><span class="line">        <span class="comment">//å‘é€æ•°æ®æŠ¥</span></span><br><span class="line">        client.send(stcpPack);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">waitACK</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å¾ªç¯æ£€æŸ¥ackQueue</span></span><br><span class="line">        <span class="comment">//å¾ªç¯æ£€æŸ¥ç¡®è®¤å·å¯¹åˆ—ä¸­æ˜¯å¦æœ‰æ–°æ”¶åˆ°çš„ACK       </span></span><br><span class="line">        <span class="keyword">if</span>(!ackQueue.isEmpty())&#123;</span><br><span class="line">            <span class="type">int</span> currentAck=(ackQueue.poll() - <span class="number">1</span>) / <span class="number">100</span>; <span class="comment">//?æ­¤å¤„å·²çŸ¥å­—èŠ‚æµé•¿åº¦100</span></span><br><span class="line">            window.rcvAck(currentAck);   <span class="comment">//äº¤äºçª—å£å¤„ç†</span></span><br><span class="line">            <span class="keyword">if</span>(!window.isFull()) &#123;     <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//æ¥æ”¶åˆ°ACKæŠ¥æ–‡ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œå°†ç¡®è®¤å·æ’å…¥acké˜Ÿåˆ—;NACKçš„ç¡®è®¤å·ä¸º-1ï¼›ä¸éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Receive ACK Numberï¼š &quot;</span>+ recvPack.getTcpH().getTh_ack());</span><br><span class="line">    ackQueue.add(recvPack.getTcpH().getTh_ack());</span><br><span class="line">    System.out.println();   </span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç†ACKæŠ¥æ–‡</span></span><br><span class="line">    waitACK();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="senderwindow.java-1">SenderWindow.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************TCP-Reno</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2024-01-02*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.test.CheckSum;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.TCP_Sender_ADT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_RetransTask;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.UDT_Timer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.FileHandler;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.SimpleFormatter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.Client;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.*;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.tool.TCP_TOOL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SenderWindow</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">cwnd</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">//æ‹¥å¡çª—å£</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">ssthresh</span> <span class="operator">=</span> <span class="number">16</span>;    <span class="comment">//æ…¢å¼€å§‹é—¨é™</span></span><br><span class="line">    <span class="keyword">private</span> Hashtable&lt;Integer, TCP_PACKET&gt; tcpPacks = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;Integer, TCP_PACKET&gt;();     <span class="comment">//å¾…å‘é€çš„TCPæ•°æ®æŠ¥çª—å£ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> Hashtable&lt;Integer, UDT_Timer&gt; timers = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;Integer, UDT_Timer&gt;();  <span class="comment">//ä¸ºçª—å£å†…æ¯ä¸ªåŒ…åˆ†é…ä¸€ä¸ªè®¡æ—¶å™¨</span></span><br><span class="line">    <span class="comment">//  private int queue_base = 0;   //çª—å£å§‹ç«¯æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//  private int next_to_send = 0;  //å¾…å‘é€åŒ…æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//  private int queue_rear = 0;   //é˜Ÿæœ«æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//  private int[] flag; //0:have no pkt; 1:usable not yet send; 2:sent not yet ack&#x27;ed; 3: already ack&#x27;ed</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">reAck</span> <span class="operator">=</span> <span class="number">0</span>;     <span class="comment">//é‡å¤åŒ…ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">lastAck</span> <span class="operator">=</span> -<span class="number">1</span>;    <span class="comment">//ä¸Šä¸€ACKåºå·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">curAcked</span> <span class="operator">=</span> <span class="number">0</span>;    <span class="comment">//çª—å£ä¸­å·²æ”¶åˆ°Ackçš„æ•°é‡ï¼ˆç­‰äºcwndæ—¶è¡¨ç¤ºä¸€ä¸ªRTTç»“æŸï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">RTT</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    Logger logger;</span><br><span class="line">    Client client;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resetCwndAndRtt</span><span class="params">()</span> &#123;</span><br><span class="line">        cwnd = <span class="number">1</span>;</span><br><span class="line">        curAcked = <span class="number">0</span>;</span><br><span class="line">        RTT = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Tahoe_Timer</span> <span class="keyword">extends</span> <span class="title class_">UDT_RetransTask</span> &#123;</span><br><span class="line">        <span class="type">int</span> seq;</span><br><span class="line">        <span class="keyword">private</span> TCP_PACKET packet;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Tahoe_Timer</span><span class="params">(Client client, TCP_PACKET packet)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>(client, packet);</span><br><span class="line">            <span class="type">int</span>[] data = packet.getTcpS().getData();</span><br><span class="line">            <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">            seq = (packet.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">            <span class="built_in">this</span>.packet = packet;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;############### æ‹¥å¡æ…¢å¼€å§‹ ###############&quot;</span>);</span><br><span class="line">            ssthresh = Math.max(cwnd / <span class="number">2</span>, <span class="number">2</span>); </span><br><span class="line">            resetCwndAndRtt();</span><br><span class="line">            <span class="built_in">super</span>.run();</span><br><span class="line"></span><br><span class="line">            logger.info(<span class="string">&quot;[æ…¢å¼€å§‹é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initLogger</span><span class="params">()</span>&#123;</span><br><span class="line">        logger= Logger.getLogger(SenderWindow.class.getName());</span><br><span class="line"></span><br><span class="line">        logger.setUseParentHandlers(<span class="literal">false</span>);</span><br><span class="line">        <span class="type">FileHandler</span> <span class="variable">fh</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fh = <span class="keyword">new</span> <span class="title class_">FileHandler</span>(<span class="string">&quot;Sender.log&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">            fh.setFormatter(<span class="keyword">new</span> <span class="title class_">SimpleFormatter</span>());<span class="comment">//è¾“å‡ºæ ¼å¼</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//       fh.setFormatter();</span></span><br><span class="line">        logger.addHandler(fh);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SenderWindow</span><span class="params">(Client client)</span> &#123;</span><br><span class="line">        initLogger();</span><br><span class="line">        <span class="built_in">this</span>.client = client;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cwnd &lt;= tcpPacks.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">handleDuplicateAck</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;    <span class="comment">//é‡å¤åŒ…å¤„ç†</span></span><br><span class="line">        reAck++;</span><br><span class="line">        logger.info(<span class="string">&quot;############### æ”¶åˆ°é‡å¤åŒ…ï¼šsequence = &quot;</span> + sequence + <span class="string">&quot; é‡å¤è®¡æ•°: &quot;</span> + reAck + <span class="string">&quot; ###############&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (reAck &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">            performFastRetransmit(sequence);</span><br><span class="line">            logger.info(<span class="string">&quot;[æ…¢å¼€å§‹é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">performFastRetransmit</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;   <span class="comment">//å¿«é‡ä¼ ä¸å¿«æ¢å¤</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">resendSeq</span> <span class="operator">=</span> sequence + <span class="number">1</span>;</span><br><span class="line">        <span class="type">TCP_PACKET</span> <span class="variable">pack</span> <span class="operator">=</span> tcpPacks.get(resendSeq);</span><br><span class="line">        <span class="type">UDT_Timer</span> <span class="variable">timer</span> <span class="operator">=</span> timers.get(resendSeq);</span><br><span class="line">        <span class="keyword">if</span> (pack != <span class="literal">null</span> &amp;&amp; timer != <span class="literal">null</span>) &#123;</span><br><span class="line">            client.send(pack);</span><br><span class="line">            timer.cancel();</span><br><span class="line">            timers.put(resendSeq, <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>());</span><br><span class="line">            timers.get(resendSeq).schedule(<span class="keyword">new</span> <span class="title class_">Tahoe_Timer</span>(client, pack), <span class="number">1000</span>, <span class="number">1000</span>);</span><br><span class="line">            logger.info(<span class="string">&quot;############### å¿«é‡ä¼ ï¼šseq = &quot;</span> + resendSeq + <span class="string">&quot; ###############&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        logger.info(<span class="string">&quot;############### Renoå¿«æ¢å¤ ###############&quot;</span>);</span><br><span class="line">        ssthresh = Math.max(cwnd / <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">        cwnd = ssthresh;</span><br><span class="line">        RTT = cwnd;</span><br><span class="line">        curAcked = <span class="number">0</span>;</span><br><span class="line">        performCongestionAvoidance();</span><br><span class="line">        <span class="comment">//logger.info(&quot;[æ…¢å¼€å§‹é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot; + cwnd + &quot; ssthresh = &quot; + ssthresh);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">performCongestionAvoidance</span><span class="params">()</span> &#123; <span class="comment">//æ‹¥å¡é¿å…</span></span><br><span class="line">        <span class="keyword">if</span> (curAcked &gt;= RTT) &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;############### æ‹¥å¡é¿å… ###############&quot;</span>);</span><br><span class="line">            curAcked = <span class="number">0</span>;</span><br><span class="line">            cwnd++;</span><br><span class="line">            RTT++;</span><br><span class="line">            logger.info(<span class="string">&quot;[æ‹¥å¡æ§åˆ¶é˜¶æ®µ]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">performSlowStart</span><span class="params">()</span> &#123; <span class="comment">//æ…¢å¼€å§‹</span></span><br><span class="line">        cwnd++;</span><br><span class="line">        <span class="keyword">if</span> (curAcked &gt;= RTT) &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;[ä¸€ä¸ªä¼ è¾“è½®æ¬¡]æ‹¥å¡çª—å£ä¿¡æ¯ï¼šcwnd = &quot;</span> + cwnd + <span class="string">&quot; ssthresh = &quot;</span> + ssthresh);</span><br><span class="line">            curAcked = <span class="number">0</span>;</span><br><span class="line">            RTT *= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">handleNewAck</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;  <span class="comment">//å¤„ç†æ–°Ack</span></span><br><span class="line">        curAcked++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lastAck + <span class="number">1</span>; i &lt;= sequence; i++) &#123;</span><br><span class="line">            tcpPacks.remove(i);</span><br><span class="line">            <span class="keyword">if</span> (timers.containsKey(i)) &#123;</span><br><span class="line">                timers.get(i).cancel();</span><br><span class="line">                timers.remove(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        lastAck = sequence;</span><br><span class="line">        reAck = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cwnd &lt; ssthresh) &#123;</span><br><span class="line">            performSlowStart();</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            performCongestionAvoidance();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushPack</span><span class="params">(TCP_PACKET packet)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] data = packet.getTcpS().getData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">seq</span> <span class="operator">=</span> (packet.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">        timers.put(seq, <span class="keyword">new</span> <span class="title class_">UDT_Timer</span>());</span><br><span class="line">        timers.get(seq).schedule(<span class="keyword">new</span> <span class="title class_">Tahoe_Timer</span>(client, packet), <span class="number">1000</span>, <span class="number">1000</span>);</span><br><span class="line">        tcpPacks.put(seq, packet);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¯¹ACKå¤„ç†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rcvAck</span><span class="params">(<span class="type">int</span> sequence)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;æ¥æ”¶åˆ°ack: &quot;</span>+ sequence);</span><br><span class="line">        <span class="comment">//       logger.info(&quot;cwnd = &quot; + cwnd + &quot; curAcked = &quot; + curAcked);</span></span><br><span class="line">        <span class="keyword">if</span>(sequence == lastAck) &#123;    <span class="comment">//æ”¶åˆ°é‡å¤åŒ…</span></span><br><span class="line">        handleDuplicateAck(sequence);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">        handleNewAck(sequence);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tcp_receiver.java-1">TCP_Receiver.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************2.1: ACK/NACK*****************/</span></span><br><span class="line"><span class="comment">/***** Feng Hong; 2015-12-09******************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/***************************TCP-Reno</span></span><br><span class="line"><span class="comment">**************************** éƒæ–‡è½©; 2024-01-02*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.test.CheckSum;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.client.TCP_Receiver_ADT;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.message.*;</span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.tool.TCP_TOOL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCP_Receiver</span> <span class="keyword">extends</span> <span class="title class_">TCP_Receiver_ADT</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TCP_PACKET ackPack;   <span class="comment">//å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="type">int</span> sequence=<span class="number">1</span>;<span class="comment">//ç”¨äºè®°å½•å½“å‰å¾…æ¥æ”¶çš„åŒ…åºå·ï¼Œæ³¨æ„åŒ…åºå·ä¸å®Œå…¨æ˜¯</span></span><br><span class="line">    <span class="comment">//  int pre_seq=-1;   //ç”¨äºè®°å½•ä¸Šä¸€ä¸ªæ¥æ”¶æˆåŠŸçš„åŒ…åºå·</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">excSeq</span> <span class="operator">=</span> <span class="number">0</span>;   <span class="comment">//æœŸæœ›æ•°æ®åŒ…seq</span></span><br><span class="line">    <span class="keyword">private</span> Hashtable&lt;Integer, TCP_PACKET&gt; packets = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;Integer, TCP_PACKET&gt;();</span><br><span class="line">    <span class="comment">//  private ReceiverWindow window = new ReceiverWindow(client, 16);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ„é€ å‡½æ•°*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TCP_Receiver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(); <span class="comment">//è°ƒç”¨è¶…ç±»æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">super</span>.initTCP_Receiver(<span class="built_in">this</span>);  <span class="comment">//åˆå§‹åŒ–TCPæ¥æ”¶ç«¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//æ¥æ”¶åˆ°æ•°æ®æŠ¥ï¼šæ£€æŸ¥æ ¡éªŒå’Œï¼Œè®¾ç½®å›å¤çš„ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rdt_recv</span><span class="params">(TCP_PACKET recvPack)</span> &#123;</span><br><span class="line">        <span class="comment">//æ£€æŸ¥æ ¡éªŒç ï¼Œç”ŸæˆACK</span></span><br><span class="line">        <span class="keyword">if</span>(CheckSum.computeChkSum(recvPack) == recvPack.getTcpH().getTh_sum()) &#123;</span><br><span class="line">            <span class="type">int</span>[] data = recvPack.getTcpS().getData();</span><br><span class="line">            <span class="type">int</span> <span class="variable">datalen</span> <span class="operator">=</span> data.length;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sequence</span> <span class="operator">=</span> (recvPack.getTcpH().getTh_seq() - <span class="number">1</span>) / datalen;</span><br><span class="line">            <span class="keyword">if</span>(sequence == excSeq) &#123;</span><br><span class="line">                dataQueue.add(data);</span><br><span class="line">                excSeq ++;</span><br><span class="line">                <span class="keyword">while</span>(packets.containsKey(excSeq)) &#123;</span><br><span class="line">                    dataQueue.add(packets.get(excSeq).getTcpS().getData());</span><br><span class="line">                    packets.remove(excSeq);</span><br><span class="line">                    excSeq ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(dataQueue.size() &gt;= <span class="number">20</span> || excSeq &gt;= <span class="number">999</span>)</span><br><span class="line">                    deliver_data();</span><br><span class="line">            &#125;    </span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(!packets.contains(sequence) &amp;&amp; sequence &gt; excSeq) &#123;</span><br><span class="line">                    packets.put(sequence, recvPack);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            tcpH.setTh_ack((excSeq - <span class="number">1</span>) * datalen + <span class="number">1</span>);<span class="comment">//ç”ŸæˆACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">            ackPack = <span class="keyword">new</span> <span class="title class_">TCP_PACKET</span>(tcpH, tcpS, recvPack.getSourceAddr());</span><br><span class="line">            tcpH.setTh_sum(CheckSum.computeChkSum(ackPack));</span><br><span class="line">            reply(ackPack);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//äº¤ä»˜æ•°æ®ï¼ˆæ¯20ç»„æ•°æ®äº¤ä»˜ä¸€æ¬¡ï¼‰</span></span><br><span class="line">        deliver_data();   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//äº¤ä»˜æ•°æ®ï¼ˆå°†æ•°æ®å†™å…¥æ–‡ä»¶ï¼‰ï¼›ä¸éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deliver_data</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//æ£€æŸ¥dataQueueï¼Œå°†æ•°æ®å†™å…¥æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;recvData.txt&quot;</span>);</span><br><span class="line">        BufferedWriter writer;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            writer = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(fw, <span class="literal">true</span>));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¾ªç¯æ£€æŸ¥dataé˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ–°äº¤ä»˜æ•°æ®</span></span><br><span class="line">            <span class="keyword">while</span>(!dataQueue.isEmpty()) &#123;</span><br><span class="line">                <span class="type">int</span>[] data = dataQueue.poll();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//å°†æ•°æ®å†™å…¥æ–‡ä»¶</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                writer.write(data[i] + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                writer.flush();        <span class="comment">//æ¸…ç©ºè¾“å‡ºç¼“å­˜</span></span><br><span class="line">            &#125;</span><br><span class="line">            writer.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//å›å¤ACKæŠ¥æ–‡æ®µ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reply</span><span class="params">(TCP_PACKET replyPack)</span> &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®é”™è¯¯æ§åˆ¶æ ‡å¿—</span></span><br><span class="line">        tcpH.setTh_eflag((<span class="type">byte</span>)<span class="number">7</span>);   <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘é€æ•°æ®æŠ¥</span></span><br><span class="line">        client.send(replyPack);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="testrun.java">TestRun.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ouc.tcp.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ouc.tcp.app.SystemStart;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestRun</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        SystemStart.main(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®éªŒç»“æœéªŒè¯">å®éªŒç»“æœéªŒè¯</h2><h3 id="sender.log">Sender.log</h3><ol type="1"><li><p>åˆå§‹åŒ–æ…¢å¼€å§‹: cwnd=1, ssthresh=16</p><p>æ ¹æ®æ—¥å¿—æ–‡ä»¶å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼ŒTCPåœ¨å»ºç«‹è¿æ¥åé¦–å…ˆæ‰§è¡Œçš„æ˜¯æ…¢å¼€å§‹ç®—æ³•ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œcwndçª—å£å¤§å°æ¯æ”¶åˆ°ä¸€ä¸ªACKå°±æ‰©å¤§ä¸€ä¸ªå•ä½MSSï¼Œæ¯ç»è¿‡ä¸€ä¸ªRTTï¼ˆä¼ è¾“è½®æ¬¡ï¼‰ï¼Œcwndå°±æ‰©å¤§ä¸€å€ã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œcwndçª—å£çš„å¤§å°ä¸RTTå‘ˆæŒ‡æ•°ç›¸å…³å¢é•¿ã€‚</p></li></ol><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219210930569.png"></p><ol start="2" type="1"><li><p>æ‹¥å¡æ§åˆ¶é˜¶æ®µ: cwnd&gt;ssthresh, ssthresh=16</p><p>åœ¨æ‹¥å¡çª—å£cwndé•¿åº¦åˆ°è¾¾æ…¢å¼€å§‹é—¨é™ssthreshæ—¶ï¼Œå°†å¼€å§‹æ‰§è¡ŒåŠ æ³•å¢å¤§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•ã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œæ¯ç»è¿‡ä¸€ä¸ªä¼ è¾“è½®æ¬¡RTTï¼Œcwndå¢åŠ ä¸€ä¸ªå•ä½MSSå¤§å°ï¼Œå› æ­¤cwndå…³äºRTTå‘ˆçº¿æ€§å¢é•¿ã€‚</p></li></ol><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219210949006.png"></p><ol start="3" type="1"><li><p>ï¼ˆæ”¶åˆ°ä¸‰ä¸ªè¿ç»­ACKï¼‰å¿«é‡ä¼ ã€å¿«æ¢å¤:cwnd=21,æ”¶åˆ°é‡å¤åŒ…:sequence=118</p><p>åœ¨cwnd=21æ—¶ï¼Œå‘é€æ–¹è¿ç»­æ”¶åˆ°ä¸‰ä¸ªæŠ¥æ–‡æ®µåºå·ä¸º118çš„ACKï¼Œæ­¤æ—¶ç«‹åˆ»é‡ä¼ 119æŠ¥æ–‡æ®µï¼ˆå¿«é‡ä¼ ï¼‰ï¼Œåœ¨å¿«é‡ä¼ ä¹‹åï¼Œç«‹åˆ»æ‰§è¡Œå¿«æ¢å¤ï¼Œæ­¤æ—¶å°†ssthreshä¹˜æ³•å‡å°ä¸º10ï¼Œå¹¶æ‰§è¡Œæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œä»cwnd=10å¼€å§‹åŠ æ³•å¢å¤§ã€çº¿æ€§å¢é•¿ã€‚</p></li></ol><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211006258.png"></p><h3 id="log.txt">Log.txt</h3><p>ç”±äºLog.txtå¯åŒ…å«ä¿¡æ¯å—é™ï¼Œæˆ‘ä»¬ä»…èƒ½ä»ä¸­çœ‹å‡ºACKæ¥å—æƒ…å†µå’Œé‡ä¼ æƒ…å†µã€‚æˆªå›¾éƒ¨åˆ†ï¼Œåˆ™æ˜¯æ˜ ç…§äº†ä¸Šæ–‡ä¸­å¯¹119çš„å¿«é‡ä¼ ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211021294.png"></p><p>å¯¹åº”çš„ï¼Œæ¥æ”¶ç«¯å‘é€äº†ä¸‰ä¸ªé‡å¤çš„118ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211026703.png"></p><p>é€šè¿‡è¿™ä¸¤ä¸ªæˆªå›¾æˆ‘ä»¬è¿˜å¯ä»¥è·å–åˆ°è¿™æ ·çš„ä¿¡æ¯ï¼šç´¯è®¡ç¡®è®¤çš„ä½œç”¨ã€‚</p><p>å‘é€æ–¹æœ‰äº›åŒ…no_ackä½†æ˜¯å¹¶æ²¡æœ‰è¿›è¡Œé‡ä¼ ï¼Œè¿™æ˜¯å› ä¸ºæ¥æ”¶æ–¹çš„ç´¯ç§¯ç¡®è®¤ï¼Œå¦‚æœå‘é€æ–¹ï¼ˆåœ¨timerä¹‹å†…ï¼‰æ”¶åˆ°äº†æ¯”no_ackæŠ¥æ–‡æ®µåºå·æ›´é«˜åºå·çš„ACKï¼Œåˆ™è¯æ˜æ¥æ”¶æ–¹å·²ç»æ”¶åˆ°äº†é‚£ä¸ªåŒ…ï¼Œno_ackçš„åŸå› å¯èƒ½æ˜¯ackä¸¢å¤±æˆ–è€…å»¶è¿Ÿï¼Œå› æ­¤å‘é€æ–¹æ²¡å¿…è¦å†é‡å‘è¿™ä¸ªåŒ…ã€‚</p><p>å¹¶ä¸”ï¼Œç´¯è®¡ç¡®è®¤ä¸ºæ¥æ”¶ç«¯â€œå‘é€ä¸‰ä¸ªé‡å¤ACKâ€çš„æƒ…æ™¯æä¾›äº†æ¡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¥æ”¶ç«¯å¯ä»¥ç…§å¸¸æ”¶åˆ°å‘é€ç«¯å‘é€çš„æŠ¥æ–‡æ®µ120ã€121ï¼Œä½†æ˜¯ç”±äº119çš„ç¼ºå¤±ï¼Œæ¥æ”¶ç«¯ä¸ºäº†ä¿è¯æœ‰åºè€Œä½¿å¾—æ¥æ”¶çª—å£å³ä½¿æ­£ç¡®æ”¶åˆ°äº†120ã€121æŠ¥æ–‡æ®µï¼Œå´ä»…ä»…å°†å…¶ç¼“å­˜ä¸‹æ¥ï¼Œè€Œå›åº”çš„ACKä»ç„¶æ˜¯çª—å£æœ€å·¦ç«¯çš„118ï¼Œç›´åˆ°å‘é€ç«¯é‡ä¼ 119å¹¶è¢«æ¥æ”¶ç«¯æ”¶åˆ°ä¹‹åï¼Œçª—å£æ‰ä¼šå³ç§»åˆ°ä¸‹ä¸€æœŸæœ›æŠ¥æ–‡æ®µåºå·å‰ï¼Œå¹¶å‘é€ä¸€ä¸ªç´¯è®¡ç¡®è®¤ACKåºå·ã€‚å› æ­¤ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨Log.txtæ–‡ä»¶ä¸­çš„å‘é€ç«¯çœ‹åˆ°120ã€121æ˜¯no_ackå¹¶æ²¡æœ‰é‡ä¼ ï¼Œè€Œæ¥æ”¶ç«¯è¿ç»­å‘é€äº†ä¸‰ä¸ª118çš„ACKçš„åŸå› ã€‚</p><p>å› æ­¤ï¼Œæˆ‘å®ç°çš„ç´¯ç§¯ç¡®è®¤åŠŸèƒ½ä¹Ÿé¡ºä¾¿å¾—åˆ°äº†å¾ˆå¥½çš„éªŒè¯ã€‚</p><h3 id="recvdata.txt">RecvData.txt</h3><p>RecvDataçš„æ„ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥éªŒè¯æ•°æ®æ˜¯å¦æŒ‰åºäº¤ä»˜ç»™ä¸Šå±‚ï¼Œè¿™æ˜¯å¯é ä¼ è¾“çš„é‡è¦éœ€æ±‚ã€‚ç”±äºæ–‡ä»¶è¿‡å¤§è€Œä¸å¯èƒ½æ‚‰æ•°å±•ç¤ºï¼Œä»…å°†æœ€åéƒ¨åˆ†å±•ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211049614.png"></p><p>å¯ä»¥çœ‹å‡ºï¼Œæ¥æ”¶ç«¯æˆåŠŸåœ°æŒ‰åºå°†æ•°æ®ä¼ è¾“åˆ°äº†ä¸Šå±‚ã€‚è‡³æ­¤ï¼Œå®Œå…¨è¯æ˜äº†æˆ‘æ‰€å®ç°çš„TCP_Renoè¾¾åˆ°äº†å¯é ä¼ è¾“ã€æ‹¥å¡æ§åˆ¶ã€æµæ°´çº¿è®¾è®¡çš„è¦æ±‚ã€‚</p><h1 id="å®éªŒä¸­é‡åˆ°çš„é—®é¢˜éš¾ç‚¹åŠè§£å†³æ–¹æ¡ˆ">å®éªŒä¸­é‡åˆ°çš„é—®é¢˜ã€éš¾ç‚¹åŠè§£å†³æ–¹æ¡ˆ</h1><h2 id="crcæ ¡éªŒå’Œè®¡ç®—">CRCæ ¡éªŒå’Œè®¡ç®—</h2><p>æœ€åˆæˆ‘ç›´æ¥ä»é¦–éƒ¨è·å–sumï¼Œç„¶è€Œlogä¸­NO_ACKé“ºæ»¡å±å¹•ï¼Œè¯´æ˜è¢«æ ¡éªŒä¸ºé”™è¯¯åå‡ºç°é‡å‘æ­»å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘çš„æ ¡éªŒå’Œè®¡ç®—å‡½æ•°å‡ºç°äº†é—®é¢˜ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211131474.png"></p><p>è§£å†³æ–¹æ³•åˆ™æ˜¯åœ¨æ£€éªŒå’Œè®¡ç®—ä¸­åˆ æ‰sumã€‚</p><h2 id="å»¶è¿Ÿé€è¾¾çš„åŒ…å¯¼è‡´ä¹±åº">å»¶è¿Ÿé€è¾¾çš„åŒ…å¯¼è‡´ä¹±åº</h2><p>åœ¨è¿›è¡ŒRDT3.0è®¾è®¡æ—¶ï¼Œå‘ç°åŸå…ˆReceiverå¯¹seqçš„ç¡®è®¤ä»…è€ƒè™‘äº†æ˜¯å¦ä¸ä¸Šä¸€ä¸ªåŒ…æ˜¯é‡å¤çš„if(sequence!= this.pre_seq)ï¼Œå› æ­¤åœ¨æ¥æ”¶åˆ°å»¶è¿Ÿçš„æ•°æ®åŒ…æ—¶ä¼šè¢«é”™è¯¯äº¤ä»˜ç»™ä¸Šå±‚ã€‚</p><p>è§£å†³æ–¹æ³•åˆ™æ˜¯å¯¹å»¶è¿Ÿæ”¶åˆ°çš„åŒ…ä¸¢å¼ƒif(sequence &gt; this.pre_seq)ã€‚</p><h2 id="é€‰æ‹©å“åº”åè®®ä¸­å‡ºç°çš„æ­»å¾ªç¯bug"><strong>é€‰æ‹©å“åº”åè®®ä¸­å‡ºç°çš„æ­»å¾ªç¯bug</strong></h2><p>åœ¨æˆ‘æœ€åˆçš„è®¾è®¡ä¸­ï¼Œæµ‹è¯•æ—¶å‘ç°è¿™ä¸ªé—®é¢˜ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211157818.png"></p><p>çª—å£èŒƒå›´å†…çš„åŒ…ä¸æ–­é‡å‘ï¼Œçª—å£æœªç§»åŠ¨ï¼Œç»è¿‡æ’æŸ¥åå‘ç°ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211203632.png"></p><p>Senderå¯¹äºæœªå¾—åˆ°å“åº”çš„åŒ…é‡å‘æ—¶ï¼Œå–ä»£äº†è¯¥çº¿ç¨‹æœ¬è¯¥å‘é€çš„åŒ…ï¼Œä½¿å¾—çª—å£åºå·ä¸æ•°æ®åŒ…åºå·æ— æ³•å¯¹åº”ï¼Œæ¥æ”¶æ–¹ä¸€ç›´åœ¨ç­‰å¾…è¯¥åŒ…ã€è€Œå‘é€æ–¹çš„çª—å£å¯¹åº”çš„åºå·å­˜æ”¾äº†å…¶ä»–åºå·çš„æ•°æ®ï¼Œäºæ˜¯ä¸€ç›´åœ¨é‡å‘â€œä½äºæ¥æ”¶æ–¹æœŸæœ›çš„çª—å£ä½ç½®çš„åŒ…ä½†å®é™…åºå·å¹¶éæ¥æ”¶æ–¹æ‰€æœŸæœ›çš„åŒ…â€ï¼Œäºæ˜¯æ¥æ”¶æ–¹ACKã€å‘é€æ–¹é‡å‘â€¦â€¦</p><p>åœ¨ä»£ç ä¸­æ’é”™åå‘ç°ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211211747.png"></p><p>æˆ‘åŸæœ¬çš„ä»£ç å°†â€œçª—å£æ»¡â€çš„å¿™ç­‰å¾ªç¯æ”¾åœ¨äº†å½“å‰æ•°æ®åŒ…é€’äº¤ç»™çª—å£å¤„ç†æ“ä½œä¹‹åï¼Œå¯¼è‡´è¯¥åŒ…è¢«ç¼“å­˜åå¹¶æœªè¢«å‘é€ï¼Œå› è€Œé€ æˆäº†æ­»å¾ªç¯ã€‚è§£å†³æ–¹æ³•åˆ™æ˜¯è°ƒè½¬é¡ºåºï¼Œåœ¨çª—å£å¤„ç†æ“ä½œä¹‹å‰å°±åŠ é”ç­‰å¾…ç©ºé—²å—ã€‚</p><h2 id="æ…¢å¼€å§‹é˜¶æ®µcwndæ¯æ”¶åˆ°ä¸€ä¸ªackå°±åº”è¯¥1è€Œéç­‰åˆ°rttåä¸€æ¬¡æ€§2">æ…¢å¼€å§‹é˜¶æ®µcwndæ¯æ”¶åˆ°ä¸€ä¸ªACKå°±åº”è¯¥+1ï¼Œè€Œéç­‰åˆ°RTTåä¸€æ¬¡æ€§*2</h2><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211225239.png"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20240219211232269.png"></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¦å¤–è®¾ç½®äº†ä¸€ä¸ªå˜é‡RTTï¼Œç”¨æ¥å®ç°å¯¹ä¼ è¾“è½®æ¬¡çš„è®°å½•ï¼Œä»è€Œä¿è¯cwndåœ¨æ¯æ¬¡æ¥æ”¶åˆ°Ackä¹‹åè‡ªåŠ 1çš„åŒæ—¶ï¼ŒcurAckedå˜é‡çš„å€¼è¿˜èƒ½éšä¼ è¾“è½®æ¬¡è¿›è¡Œæ›´æ–°ã€‚</p><h1 id="äº‹å">äº‹åğŸš¬</h1><h2 id="ä¸€æœ¬æ­£ç»åœ°">ä¸€æœ¬æ­£ç»åœ°</h2><h3 id="å®éªŒè®¾è®¡ä¸Šçš„å¿…è¦è§£é‡Š">å®éªŒè®¾è®¡ä¸Šçš„å¿…è¦è§£é‡Š</h3><p>äº‹å®ä¸Šç”±Selective-Responseåˆ°TCP-Tahoeçš„å¼€å‘è¿‡ç¨‹å¹¶æ²¡æœ‰çœŸæ­£çš„è¿­ä»£ï¼Œå› ä¸ºTCPåè®®æ˜¯ç»“åˆäº†GBNå’ŒSRï¼Œå…¶ä¸­Receiverå¯¹æ”¶åˆ°çš„åŒ…æ˜¯è¿›è¡Œç´¯ç§¯ç¡®è®¤çš„ï¼Œè€Œä¸åŒäºSRçš„å•ä¸ªç¡®è®¤ï¼Œå› æ­¤åœ¨è¿™é‡Œéœ€è¦æ¨ç¿»åŸæœ¬å»ºç«‹çš„æ–¹å¼ï¼›å°½ç®¡å¦‚æ­¤ï¼Œç”±äºTCPåè®®ä¸­å¯¹å¤±åºåŒ…çš„å¤„ç†ä»ä½¿ç”¨SRçš„æ–¹å¼ï¼Œå› æ­¤æˆ‘è¿˜æ˜¯è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹ã€‚ï¼ˆå½“ç„¶å¦‚æœæˆ‘åœ¨RDT4çš„éƒ¨åˆ†é€‰æ‹©äº†å®ç°TCPè€ŒéGBNæˆ–SRï¼Œå°†ä¼šæ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„è¿­ä»£å¼€å‘ï¼‰ã€‚</p><p>æœ¬å®éªŒä¸­çš„timerä¹Ÿå¹¶æœªä¸¥æ ¼æŒ‰ç…§RTTè¿›è¡Œæ›´æ–°ï¼Œä»…ä¾é ä¸»è§‚è®¾ç½®æ—¶é•¿ï¼Œå½“ç„¶ä¸ä¸¥è°¨ï¼Œä½†å¯¹äºä¼¼ä¹å¹¶ä¸åœ¨æœ¬å®éªŒæ‰€æ³¨é‡çš„å†…å®¹ä¸­ï¼Œå› æ­¤è‡ªè¡Œè®¾ç½®çš„é‡ä¼ æ—¶é—´å·²ç»è¶³å¤Ÿã€‚</p><p>æœ¬å®éªŒä¸­seqå®é™…ä¸Šçš„å€¼åº”å½“æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½çš„åºå·ï¼Œä¹Ÿå³åŒ…çš„åºå·*datalenä¹‹åçš„å€¼ï¼Œä½†ä¸ºäº†æ–¹ä¾¿è¿›è¡Œçª—å£å¤§å°å•ä½å’Œé¡ºåºæ ‡å®šçš„ç»Ÿä¸€ï¼Œæˆ‘åœ¨å®éªŒä¸­ç›´æ¥å°†seqç²—ç•¥çš„è®¾å®šä¸ºä»¥åŒ…ï¼ˆæŠ¥æ–‡æ®µï¼‰ä¸ºå•ä½çš„æ•°å€¼ï¼ŒæŠŠæ‹¥å¡çª—å£çš„å•ä½è®¾ç½®ä¸ºä¸€ä¸ªæŠ¥æ–‡æ®µé•¿åº¦ï¼ˆè¿™æ˜¯ç”±äºTCP_PACKETSä½œä¸ºä¼ è¾“å•ä½æ‰€å†³å®šçš„ï¼‰,è¿™å¹¶ä¸ä¸¥è°¨ã€‚åŒæ—¶ï¼Œç”±äºæ˜¾è€Œæ˜“è§çš„åœ¨æœ¬å®éªŒä¸­æ¯ä¸ªæŠ¥æ–‡æ®µä¸­åŒ…å«100ä¸ªå•ä½çš„æ•°æ®ï¼Œå› æ­¤åŒæ ·ç²—ç•¥çš„ï¼Œæˆ‘åœ¨æŸäº›ä¸èƒ½è®¡ç®—å‡ºdatalenï¼ˆæˆ–è€…è¯´ä¸ä¾¿äºè®¡ç®—ï¼‰çš„æƒ…å†µä¸­ï¼Œå°†MSSè®¾å®šä¸ºäº†100ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘åŒæ ·ç²—ç•¥çš„å°†ä¸åŒæŠ¥æ–‡æ®µçš„å®é™…é•¿åº¦ä¸æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ã€æŠ¥æ–‡æ®µåºå·ä¸seqå€¼ç­‰å•ä½å¹²è„†æ··ä¸ºä¸€è°ˆï¼Œç„¶è€Œåœ¨ç°å®çš„å®ç°ä¸­è¿™å‡ ä¸ªå•ä½åº”å½“æ˜¯æœ‰ç€åŒºåˆ«çš„ã€‚</p><h3 id="å®éªŒæ€»ç»“">å®éªŒæ€»ç»“</h3><p>ä»æˆ‘çš„å®éªŒæŠ¥å‘Šç¯‡å¹…å°±å¯ä»¥çœ‹å‡ºï¼Œæˆ‘åœ¨è¿™ä¸ªå®éªŒä¸Šä¸‹äº†å¾ˆå¤§åŠŸå¤«ï¼Œè¿™ä¸ä»…ä»…æ˜¯å‡ºäºæ•™å­¦è¦æ±‚ï¼Œæ›´é‡è¦çš„æ˜¯æˆ‘åœ¨å…¶ä¸­å¾—åˆ°äº†å¾ˆå¤§çš„æ»¡è¶³æ„Ÿå’Œè·å¾—æ„Ÿï¼Œ<strong>è¿­ä»£è®¾è®¡</strong>çš„å¼€å‘åŸåˆ™å°±æ˜¯è¿™æ ·åˆºæ¿€äººä»¬çš„å¤´è„‘ï¼Œå¦‚åŒå’é«˜æ¥¼ä¸€æ ·ï¼Œä¸€ç‚¹ä¸€ç‚¹å‘ä¸Šé“ºç›–ï¼Œä¸æ–­æå‡ºé—®é¢˜ã€è§£å†³é—®é¢˜ï¼Œç›´åˆ°æ»¡è¶³ç°æœ‰çš„éœ€æ±‚ï¼Œè¿™å¾ˆçªå‡ºçš„ä½“ç°äº†ä¸€ä¸ªç³»ç»Ÿè®¾è®¡çš„åŸåˆ™â€”â€”<strong>å¤æ‚æ€§é€’å¢åŸåˆ™</strong>ã€‚å› è€Œï¼Œæˆ‘åœ¨è¯•éªŒä¸­è·å¾—çš„æœ€å¤§æ”¶è·æ˜¯ï¼Œå¯¹è®¡ç®—æœºç³»ç»Ÿè®¾è®¡å·¥ç¨‹çš„æ€è€ƒä¸éªŒè¯ï¼š</p><h4 id="æ¨¡å—åŒ–">æ¨¡å—åŒ–</h4><p>åœ¨å®éªŒè®¾è®¡çš„æœ€ä¸€å¼€å§‹ï¼Œç°æœ‰çš„èµ„æºå°±å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€å®šçš„æ¨¡å—åŒ–ï¼Œ<strong>åšä¸å¯æ‘§çš„åŸºç¡€æ³•åˆ™</strong>ä¸‹ï¼Œæˆ‘ä»¬å¯¹äºè¿­ä»£å¼€å‘çš„è¿‡ç¨‹å˜å¾—æ›´åŠ ç®€å•ã€‚ä»…ä¸¾ä¾‹è€Œè¨€ï¼Œæˆ‘åœ¨å®ç°RDT4çš„åŸºç¡€ä¸Šå®ç°TCP_Tahoeçš„è¿‡ç¨‹ä¸­ï¼Œä»…éœ€è¦ä¿®æ”¹SenderWindowæ¨¡å—ï¼Œè€ŒåŸºæœ¬ä¸éœ€è¦å¯¹å°†å…¶è°ƒç”¨çš„ä¸Šå±‚é©±åŠ¨æ¨¡å—è¿›è¡Œä¿®æ”¹ï¼Œå°±å¯ä»¥åœ¨SRçš„åŸºç¡€ä¸Šå®ç°æ‹¥å¡æ§åˆ¶ç­‰åŠŸèƒ½ï¼›å†ä¾‹å¦‚ï¼Œä»TCP_Tahoeåˆ°TCP_Renoçš„è¿­ä»£ï¼Œæ›´ç»†è‡´åœ°æ¨¡å—å•å…ƒå˜æ›´ï¼Œæˆ‘åªéœ€è¦ä¿®æ”¹â€œæ”¶åˆ°é‡å¤åŒ…åçš„å¤„ç†â€ä¸­ï¼Œå°†è°ƒç”¨æ›´æ”¹ä¸ºæ‰§è¡Œæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œå³å¯æ»¡è¶³ä»Tahoeåˆ°Renoçš„æ›´æ–°ã€‚<strong>æ›´æ”¹æ¨¡å—æ¯”æ›´æ”¹æ¨¡å—åŒ–æ›´å®¹æ˜“</strong>ï¼Œè¿™å…¶ä¸­ä¹Ÿæ˜¯<strong>å¼ºåˆ¶æ¨¡å—åŒ–</strong>çš„ä¸»è¦ä½“ç°ã€‚</p><h4 id="æŠ½è±¡åŒ–">æŠ½è±¡åŒ–</h4><p>åœ¨æˆ‘çœ‹æ¥ï¼Œæ»‘åŠ¨çª—å£çš„è®¾è®¡å°±æ˜¯ä¸€ä¸ªæŠ½è±¡çš„è¿‡ç¨‹ã€‚ä¸¾ä¾‹è€Œè¨€ï¼Œæˆ‘æ‰€å®ç°çš„SenderWindowç±»ï¼Œå°±æ©ç›–äº†ä¸‹å±‚å¯¹äºæ”¶åˆ°ACKçš„ä¸åŒæƒ…å†µçš„ä¸åŒå¤„ç†ï¼Œä¾‹å¦‚ï¼šå¦‚æœæ”¶åˆ°ä¸‰ä¸ªé‡å¤ACKï¼Œçª—å£å°†ä¼šå¦‚ä½•æ´»åŠ¨ï¼Œå¦‚æœtimeoutï¼Œåˆè¯¥å¦‚ä½•å¤„ç†ï¼Œä½†é€šè¿‡çª—å£ä½œä¸ºé—´æ¥å±‚çš„è®¾è®¡ï¼Œè¿™äº›å¤æ‚æ€§å°†é€æ˜äºä¸Šå±‚ï¼Œä¸ä¸ºä¸Šå±‚æ‰€è€ƒè™‘ï¼ŒTCP_Senderåªéœ€è¦â€”â€”å®ä¾‹åŒ–è¿™ä¸ªSenderWindowçš„é—´æ¥ï¼Œå½“æ”¶åˆ°ACKæ—¶ç›´æ¥äº¤ç»™ä»–æ¥å¤„ç†è€Œä¸ç”¨æ“å¿ƒä»–æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Œå†ç”±ä»–å°†ä¸‹ä¸€ä¸ªåº”å½“å‘é€çš„æŠ¥æ–‡æ®µè¿”å›ç»™TCP_Senderï¼Œè¿›è¡Œå‘é€â€¦â€¦<strong>ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€å±‚é—´æ¥æ¥è§£å†³ï¼Œæˆ–è€…è¯´ï¼Œè®¡ç®—æœºç³»ç»Ÿéƒ½å¯ä»¥é€šè¿‡ç§»é™¤ä¸€å±‚é—´æ¥æ¥åŠ å¿«é€Ÿåº¦</strong>ã€‚æŠ½è±¡ä½¿å¾—æ¨¡å—ä¹‹é—´çš„äº¤äº’å¾ˆå°‘ç”šè‡³æ²¡æœ‰ã€ä»»ä½•æ¨¡å—éƒ½èƒ½å®Œå…¨æ ¹æ®å…¶å¤–éƒ¨è§„èŒƒæ¥å¤„ç†æ‰€æœ‰å…¶ä»–æ¨¡å—è€Œä¸éœ€è¦äº†è§£å†…éƒ¨å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå…¶å°†æ¥å£ä¸å†…éƒ¨å†…å®¹åˆ†ç¦»ï¼Œå°†è§„èŒƒä¸æ˜¾ç¤ºå†…å®¹åˆ†ç¦»ã€‚è¿™ä¾¿æ˜¯<strong>é—´æ¥æ–¹å¼è§£è€¦æ¨¡å—åŒ–</strong>çš„è®¾è®¡åŸåˆ™ã€‚</p><h4 id="åˆ†å±‚åŒ–">åˆ†å±‚åŒ–</h4><p>å½“ç„¶çš„ï¼Œè®¡ç®—æœºç½‘ç»œçš„åè®®æ ˆæœ¬èº«å°±æ˜¯åˆ†å±‚çš„è®¾è®¡æ€æƒ³çš„ä½“ç°ï¼Œåœ¨æœ¬å®éªŒä¸­ä¹Ÿæœ‰ä½“ç°â€”â€”æ¥æ”¶ç«¯è¿è¾“å±‚å¯¹æ”¶åˆ°çš„æŠ¥æ–‡è¿›è¡Œå¤„ç†ï¼ŒæŒ‰æ‰¹äº¤ä»˜ç»™ä¸Šå±‚åº”ç”¨å±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¾¿æ˜¯åˆ†å±‚åŒ–çš„ä¸»è¦æ€æƒ³ã€‚ç±»ä¼¼çš„ï¼Œæˆ‘è¦è¯´çš„ä¸æ­¢æ˜¯åœ¨åè®®æ ˆä¸Šçš„åˆ†å±‚æ€æƒ³ï¼Œè€Œæ˜¯<strong>é€šè¿‡æŠ½è±¡è®¾è®¡æ¥å‡å°‘æ¨¡å—äº’è”çš„æ¨¡å—ç»„ç»‡æ–¹æ³•ï¼Œæœ€ç»ˆå½¢æˆäº†åˆ†å±‚çš„ç»„ç»‡æ–¹æ³•</strong>ã€‚åœ¨ä½¿ç”¨å±‚è¿›è¡Œè®¾è®¡æ—¶ï¼Œå¯ä»¥å»ºç«‹åœ¨ä¸€ç»„å·²ç»å®Œæˆçš„åº•å±‚ä¸Šï¼Œä½¿ç”¨ä¹‹åˆ›å»ºä¸åŒçš„ä¸åŒå®Œæ•´æœºåˆ¶ï¼ˆä¸Šå±‚ï¼‰ã€‚<strong>å‡å°‘äº†æ¨¡å—ä¹‹é—´çš„äº’è¿</strong>ï¼Œä»ä¸€å°ç»„æ¨¡å—å¼€å§‹ï¼Œå¹¶å°†å®ƒä»¬ç»„è£…æˆä¸€ä¸ªç¨³å®šçš„ã€ç‹¬ç«‹çš„å­ç³»ç»Ÿï¼Œå®ƒç”±ä¸€ä¸ªå®šä¹‰è‰¯å¥½çš„æ¥å£ã€‚æ¥ä¸‹æ¥ï¼Œç»„è£…ä¸€å°ç¾¤å­ç³»ç»Ÿæ¥äº§ç”Ÿä¸€ä¸ªæ›´å¤§çš„å­ç³»ç»Ÿã€‚è¿™æ˜¯å¯¹é—´æ¥ä¸æŠ½è±¡åœ¨å®è§‚ä¸Šçš„è¡¨è¿°ã€‚</p><h4 id="è¿­ä»£">è¿­ä»£</h4><p>è¿­ä»£æœ¬è´¨å°±æ˜¯<strong>é¦–å…ˆæ„å»ºä¸€ä¸ªç®€å•çš„ã€å¯å·¥ä½œçš„ç³»ç»Ÿï¼Œå®ƒåªæ»¡è¶³éœ€æ±‚çš„å°‘é‡å­é›†ï¼Œç„¶åä»¥å°çš„æ­¥éª¤å‘å±•è¯¥ç³»ç»Ÿï¼Œé€æ¸åŒ…æ‹¬è¶Šæ¥è¶Šå¤šçš„å®Œæ•´éœ€æ±‚é›†</strong>ã€‚æ— è®ºæ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªå°çš„å®éªŒä¸­æ‰€å¤ç°çš„è¿è¾“å±‚RDTåè®®çš„å‘å±•è¿‡ç¨‹ï¼Œè¿˜æ˜¯çºµè§‚æ•´ä¸ªè®¡ç®—æœºç½‘ç»œçš„å‘å±•å†å²ï¼Œæˆ‘ä»¬éƒ½ä¸éš¾çœ‹å‡ºï¼Œä¸€ä¸ªå®Œæ•´çš„ã€å°½å¯èƒ½è§£å†³æ‰€æœ‰é—®é¢˜çš„ã€åº”å¯¹ä¸€åˆ‡å¤æ‚æ€§çš„ã€éšæ—¶ä»£æ›´æ–°çš„ç³»ç»Ÿï¼Œéƒ½<strong>åº”å½“è¢«è®¾è®¡å¾—å®¹æ˜“ä¿®æ”¹</strong>ï¼Œä¸ºè¿­ä»£è®¾è®¡åšå¥½å‡†å¤‡ï¼Œè¿™æ˜¯æ¯ä¸€ä½ç³»ç»Ÿå·¥ç¨‹å¸ˆåŠè®¾è®¡è€…åº”å½“å…·å¤‡çš„å“è´¨â€”â€”<strong>æœªé›¨ç»¸ç¼ªï¼Œæˆ‘ä»¬ä¸ä¼šä¸€æ¬¡æ€§æ­£ç¡®</strong>ã€‚è¿™æ­£æ˜¯æˆ‘ä»¬å‰è¿°é“ºå«çš„æ¨¡å—åŒ–ã€æŠ½è±¡ã€åˆ†å±‚æˆ–å±‚çº§æ‰€è¦å®ç°çš„ç›®çš„ã€‚æ­£æ˜¯è¿™äº›åº”å¯¹å¤æ‚æ€§çš„æ–¹æ³•ï¼Œè®©æˆ‘ä»¬çš„è®¾è®¡æœ‰äº†éšç€éœ€æ±‚è€Œæ›´æ–°çš„å¯èƒ½ã€‚</p><h2 id="çè¯´ä¸¤å¥">çè¯´ä¸¤å¥</h2><p>ä¸Šé¢çš„æ€»ç»“ï¼Œæˆ‘æ˜¯æ¬æ¥ä¸Šå­¦æœŸè®¡å·¥è¯¾çš„å†…å®¹ï¼Œè§‰å¾—ä½†å‡¡æ¶‰åŠåˆ°ç³»ç»Ÿçš„è®¾è®¡ï¼Œåç¦»ä¸äº†è¿™å‡ ç‚¹ï¼Œæ”¹æ”¹æœ¯è¯­ã€å¥—å¥—çš®ï¼Œå°±æ˜¯ä¸€ç¯‡ä¸é”™çš„è¯¾è®¾æ€»ç»“ï¼Œè¯æ±‡ä¹Ÿé«˜å¤§ä¸Šï¼ˆæ¯•ç«Ÿæœºç¿»æ¥çš„ç”Ÿç–è¯­æ„Ÿï¼Œæ€»ç»™äººä¸€ç§å¾ˆä¸“ä¸šçš„æ„Ÿè§‰ï¼‰ï¼Œè¿™å«strongï¼Œæ­»è£…ã€‚</p><p>è¯´æˆ‘çœŸä»ä¸­å­¦åˆ°ä¸œè¥¿äº†å—ï¼Ÿæ’‘æ­»ï¼Œæ˜¯å¯¹è®¡ç½‘æœŸæœ«è€ƒè¯•æ—¶å€™æ¶‰åŠåˆ°è¿è¾“å±‚çš„å†…å®¹æœ‰äº†å¾ˆæ·±åˆ»çš„ç†è§£ï¼ŒåŠ¨ä½œèµ·æ¥ä¹Ÿå¾ˆç§°å¿ƒåº”æ‰‹ã€‚ä½†è¦æ˜¯è¯´å¯¹æˆ‘ä¸“ä¸šèƒ½åŠ›åŠ æ²¡åŠ ç‚¹ï¼Œæˆ‘ç›´è¨€æ˜¯å¯¡æ·¡ï¼šå­¦ä¼šå¦‚ä½•è®¾è®¡è™½ç„¶é‡è¦ï¼Œä½†åƒæˆ‘è¿™ç§åŠåŠå­é€‰æ‰‹ç©ç½‘ç»œä¹Ÿå°±æ˜¯51CTOçƒ­ç²‰ï¼Œç…§ç€åˆ«äººåš¼è¿‡çš„é¦’å¤´é¼“æ£é¼“æ£è·¯ç”±å™¨ï¼Œæˆ‘æ›´æ„Ÿå…´è¶£äº›ï¼Œå› æ­¤è¦ä¸æ˜¯å®ˆç€ä¸‰ç“œä¸¤æ£çš„ç»©ç‚¹ï¼Œæˆ‘å¯¹ç½‘ç»œçš„å­¦ä¹ ç»ä¸ä¼šæƒ³åˆ°è¦ç…§æœ¬å®£ç§‘å»å¤ç°TCPã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/7c73390aa9966d8244df590b0d2c90d.jpg" style="zoom:25%;"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯é ä¼ è¾“ </tag>
            
            <tag> TCP Reno </tag>
            
            <tag> ä¼ è¾“å±‚åè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]å¢å¼ºå¯¹æŠ—å¯è¿ç§»æ€§çš„è‡ªé€‚åº”æ¨¡å‹é›†æˆå¯¹æŠ—æ”»å‡»-AdaEA</title>
      <link href="/article/c0626774/"/>
      <url>/article/c0626774/</url>
      
        <content type="html"><![CDATA[<h1 id="information">Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š[<a href="http://arxiv.org/abs/2308.02897">2308.02897] AnAdaptive Model Ensemble Adversarial Attack for Boosting AdversarialTransferability (arxiv.org)</a></p><p>æ—¥æœŸï¼š2023-08</p><p>å…³é”®è¯ï¼šAdversarial Attack</p><p>å‡ºå¤„ï¼šICCV 2023</p></blockquote><h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>ä»¥å¾€çš„å…³äºå¯è¿ç§»å¯¹æŠ—æ”»å‡»çš„å·¥ä½œå¤§å¤šç ”ç©¶æ¢¯åº¦å˜åŒ–æˆ–å›¾åƒå˜æ¢æ¥æ”¾å¤§è¾“å…¥å…³é”®éƒ¨ä½çš„å¤±çœŸï¼Œè¿™äº›æ–¹æ³•å¯ä»¥åœ¨æœ‰é™å·®å¼‚çš„æ¨¡å‹ä¹‹é—´è¿›è¡Œè¿ç§»ï¼Œå³ä»CNNsè¿ç§»åˆ°CNNsï¼Œä½†æ€»æ˜¯æ— æ³•åœ¨å·®å¼‚è¾ƒå¤§çš„æ¨¡å‹ä¹‹é—´è¿›è¡Œè¿ç§»ï¼Œå¦‚ä»CNNsè¿ç§»åˆ°ViTsã€‚æˆ–è€…ï¼Œæå‡ºæ¨¡å‹é›†æˆå¯¹æŠ—æ”»å‡»ï¼Œå°†æ¥è‡ªä¸åŒæ¶æ„ä»£ç†æ¨¡å‹çš„è¾“å‡ºè¿›è¡Œèåˆï¼Œå¾—åˆ°ä¸€ä¸ªé›†æˆæŸå¤±ï¼Œä½¿å¾—ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬æ›´æœ‰å¯èƒ½è¿ç§»åˆ°å…¶ä»–æ¨¡å‹ï¼Œå› å…¶å¯ä»¥åŒæ—¶æ¬ºéª—å¤šä¸ªæ¨¡å‹ã€‚</p><p>ç„¶è€Œç°æœ‰çš„é›†æˆæ”»å‡»åªæ˜¯ç®€å•åœ°å°†ä»£ç†æ¨¡å‹çš„è¾“å‡ºè¿›è¡Œå‡åŒ€èåˆï¼Œæ— æ³•æœ‰æ•ˆæ•è·å’Œæ”¾å¤§å¯¹æŠ—æ ·æœ¬çš„å†…åœ¨è¿ç§»ä¿¡æ¯ã€‚æœ¬è®ºæ–‡æå‡ºä¸€ç§ç§°ä¸ºAdaEAçš„è‡ªé€‚åº”é›†æˆæ”»å‡»ï¼Œé€šè¿‡ç›‘æ§æ¯ä¸ªæ¨¡å‹çš„è¾“å‡ºå¯¹å¯¹æŠ—ç›®æ ‡è´¡çŒ®çš„å·®å¼‚æ¯”ä¾‹æ¥è‡ªé€‚åº”æ§åˆ¶æ¯ä¸ªæ¨¡å‹çš„è¾“å‡ºçš„èåˆã€‚æ­¤å¤–ï¼Œä¸ºäº†è¿›ä¸€æ­¥åŒæ­¥æ›´æ–°æ–¹å‘ï¼Œè¿˜å¼•å…¥äº†é¢å¤–çš„è§†å·®å‡å°æ»¤æ³¢å™¨ã€‚</p><h1 id="èƒŒæ™¯">èƒŒæ™¯</h1><p>ç±»ä¼¼äºä¼ ç»Ÿçš„é›†æˆæ–¹æ³•åˆ©ç”¨å¤šä¸ªå…·æœ‰ä¸åŒé¢„æµ‹çš„å¼±å­¦ä¹ å™¨çš„æ™ºæ…§æ¥æé«˜æ•´ä½“ç²¾åº¦ï¼Œä¸€ç³»åˆ—ç ”ç©¶æå‡ºåˆ©ç”¨ä»£ç†æ¨¡å‹çš„é›†æˆæ¥ç”Ÿæˆèƒ½å¤ŸæˆåŠŸæ”»å‡»æ‰€æœ‰ä»£ç†æ¨¡å‹çš„å¯¹æŠ—æ ·æœ¬ã€‚ä»ç›´è§‰ä¸Šè®²ï¼Œè¯¥æ–¹æ³•å¯ä»¥æé«˜å¯¹æŠ—æ ·æœ¬çš„å¯è¿ç§»æ€§ï¼Œå› å…¶å¯ä»¥æ•è·å†…åœ¨çš„å¯è¿ç§»å¯¹æŠ—ä¿¡æ¯ï¼Œå¯ä»¥åŒæ—¶æ¬ºéª—å¤šä¸ªå…·æœ‰å¹¿æ³›å·®å¼‚çš„æ¨¡å‹ã€‚</p><p>ç°æœ‰çš„å¤§å¤šæ•°é›†æˆæ–¹æ³•åªæ˜¯å°†æ‰€æœ‰æ¨¡å‹çš„è¾“å‡ºå³ï¼ˆlogitsæˆ–lossï¼‰ç­‰é‡èåˆå¾—åˆ°ä¸€ä¸ªé›†æˆæŸå¤±ï¼Œç”¨äºå®æ–½åŸºäºæ¢¯åº¦çš„æ”»å‡»ï¼Œè¿™å¯èƒ½ä¼šé™åˆ¶æ¨¡å‹é›†æˆæ”»å‡»çš„æ½œåœ¨èƒ½åŠ›ã€‚</p><p>ç”±äºå¿½ç•¥äº†æ¯ä¸ªæ¨¡å‹çš„ä¸ªä½“ç‰¹å¾ï¼Œè¿™æ ·çš„é›†æˆæ˜¯æ¬ ä¼˜åŒ–çš„ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140650534.png" alt="å›¾1ï¼Œä¸åŒæ”»å‡»æ–¹æ¡ˆåŠæ€§èƒ½æ¦‚è¿°ã€‚(a)åŸºäºè¿ç§»çš„æ–¹æ³•é€šè¿‡å¼ºåŒ–å›¾åƒä¸­çš„å…³é”®éƒ¨åˆ†æ¥æé«˜æ”»å‡»çš„å¯è¿ç§»æ€§ï¼Œä½†ç”±äºå¯¹æŠ—ä¿¡æ¯æœ‰é™ï¼Œæ— æ³•åœ¨å·®å¼‚è¾ƒå¤§çš„DNNä¹‹é—´è¿›è¡Œè½¬ç§»ã€‚(b)æ¨¡å‹é›†æˆæ”»å‡»é€šè¿‡é›†æˆå¤šä¸ªä»£ç†æ¨¡å‹æ¥å¯»æ‰¾æ›´å…·å¯è¿ç§»æ€§çš„æ”»å‡»ï¼Œä½†ç°æœ‰å·¥ä½œæ™®éå¿½ç•¥äº†æ¯ä¸ªæ¨¡å‹çš„ä¸ªä½“ç‰¹å¾ï¼Œå¯¼è‡´ç»“æœä¸å¤Ÿç†æƒ³ã€‚(c)æœ¬è®ºæ–‡çš„AdaEAé€šè¿‡æ”¾å¤§æ¯ä¸ªä»£ç†æ¨¡å‹ä¸­çš„å¯è¿ç§»ä¿¡æ¯æ¥è¿›è¡Œè‡ªé€‚åº”é›†æˆï¼Œå¹¶å–å¾—äº†æ˜¾è‘—æ”¹è¿›ã€‚"></p><p>æœ¬è®ºæ–‡é‡ç‚¹ç ”ç©¶æ¨¡å‹é›†æˆå¯¹æŠ—æ”»å‡»ï¼Œä»¥æé«˜å¯¹æŠ—æ ·æœ¬çš„å¯è¿ç§»æ€§ã€‚å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œç®€å•åœ°å¯¹é›†æˆæ¨¡å‹çš„è¾“å‡ºè¿›è¡Œå¹³å‡å¿½ç•¥äº†æ¯ä¸ªæ¨¡å‹çš„ä¼˜åŠ¿ï¼Œåœ¨èåˆè¿‡ç¨‹ä¸­ï¼Œä»ä¸€ä¸ªæ¨¡å‹æ•è·çš„å¯è¿ç§»ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªæ¨¡å‹å¹³æ»‘ï¼Œä»è€Œå¯¼è‡´ç»“æœæ¬ ä¼˜åŒ–ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬è®ºæ–‡æå‡ºé€šè¿‡è‡ªé€‚åº”æ¢¯åº¦è°ƒåˆ¶(Adaptive GradientModulation,AGM)ç­–ç•¥å¯¹æ¯ä¸ªæ¨¡å‹çš„è¾“å‡ºè¿›è¡Œè‡ªé€‚åº”é›†æˆã€‚å…·ä½“è€Œè¨€ï¼Œæœ¬è®ºæ–‡å®šä¹‰äº†å¯¹æŠ—æ¯”æ¥è¯„ä¼°ä»£ç†æ¨¡å‹ä¹‹é—´å¯¹æ•´ä½“å¯¹æŠ—ç›®æ ‡çš„è´¡çŒ®å·®å¼‚ï¼Œç„¶ååˆ©ç”¨å¯¹æŠ—æ¯”è‡ªé€‚åº”åœ°è°ƒèŠ‚æ¢¯åº¦èåˆï¼Œä¸ºç”Ÿæˆåœ°å¯¹æŠ—æ ·æœ¬ä¸­å¯è¿ç§»ä¿¡æ¯åœ°æ”¾å¤§æä¾›æ›´å¤šçš„åŠªåŠ›ã€‚</p><p>è€Œä¸”ï¼Œé›†æˆæ¢¯åº¦å¯èƒ½ä¸ä»£ç†æ¨¡å‹çš„ä¸ªä½“æ¢¯åº¦å­˜åœ¨è¾ƒå¤§å·®å¼‚ç”šè‡³å¯¹ç«‹ï¼Œè¿™å·²ç»è¢«è¯æ˜ä¸é›†æˆä¸­çš„è¿‡æ‹Ÿåˆé—®é¢˜å­˜åœ¨ç›¸å…³æ€§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å¼•å…¥äº†ä¸€ä¸ªè§†å·®é™ä½æ»¤æ³¢å™¨(DRF)ï¼Œé€šè¿‡è®¡ç®—è§†å·®å›¾æ¥é™ä½ä»£ç†æ¨¡å‹ä¹‹é—´çš„å·®å¼‚å¹¶åŒæ­¥æ›´æ–°æ–¹å‘ã€‚</p><p>æœ€åï¼Œé€šè¿‡åº”ç”¨ä¸Šè¿°ä¸¤ç§æœºåˆ¶ï¼Œå¯ä»¥å¢å¼ºå¯¹æŠ—æ”»å‡»çš„å¯è¿ç§»æ€§ã€‚ç§°ä¹‹ä¸ºAdaEAã€‚</p><p>æœ¬è®ºæ–‡çš„è´¡çŒ®ï¼š</p><ul><li>æå‡ºä¸€ç§è‡ªé€‚åº”é›†æˆå¯¹æŠ—æ”»å‡»ï¼Œæˆä¸ºAdaEAï¼Œä¸ºå…·æœ‰å¹¿æ³›ç»“æ„å·®å¼‚çš„æ¨¡å‹æä¾›äº†æ›´å…¨é¢çš„é›†æˆæ”»å‡»ï¼Œå¦‚CNNså’ŒViTsã€‚</li><li>AdaEAä»æ¢¯åº¦ä¼˜åŒ–çš„è§’åº¦çœ‹å¾…é›†æˆæ”»å‡»ï¼Œé€šè¿‡AGMç­–ç•¥æ§åˆ¶ä¼˜åŒ–è¿‡ç¨‹ï¼Œå¹¶é€šè¿‡DRFå‡å°è§†å·®ä»¥åŒæ­¥ä¼˜åŒ–æ–¹å‘ã€‚</li><li>ä¸ç°æœ‰çš„é›†æˆæ–¹æ³•ç›¸æ¯”ï¼Œæ‰€æå‡ºçš„AdaEAä¸ä»…å¯ä»¥æ˜¾è‘—æé«˜é›†æˆæ•ˆæœï¼Œè€Œä¸”ä¸ç°æœ‰çš„åŸºäºè¿ç§»çš„æ¢¯åº¦æ”»å‡»ç›¸ç»“åˆï¼Œå¯ä»¥æŒç»­åœ°æé«˜æ”»å‡»æ€§èƒ½ã€‚</li></ul><h1 id="æ–¹æ³•">æ–¹æ³•</h1><h2 id="ç®€è¿°">ç®€è¿°</h2><p>æé«˜å¯¹æŠ—æ ·æœ¬åœ°å¯è¿ç§»æ€§æ—¨åœ¨ä½¿ä»ç™½ç›’ä»£ç†æ¨¡å‹ç”Ÿæˆåœ°å¯¹æŠ—æ ·æœ¬ä¿æŒå¯¹æŠ—ï¼Œä»è€ŒæŠµåˆ¶é»‘ç›’æ¨¡å‹ã€‚é€šå¸¸ï¼Œä½¿ç”¨åŸºäºæ¢¯åº¦åœ°æ–¹æ³•è¿­ä»£å¯»æ‰¾ç™½ç›’æ¨¡å‹çš„å¯¹æŠ—æ‰°åŠ¨å¯ä»¥ç”±ä¸‹å¼ç»™å‡ºï¼š</p><p><span class="math inline">\(x_{t+1}^{adv}=x_t^{adv}+\alphasign(\nabla_{x_t^{adv}}\mathcal{L}(f(x_t^{adv}),y))\)</span>ï¼Œ(1)</p><p>å…¶ä¸­ï¼š</p><ul><li><span class="math inline">\(sign(\cdot)\)</span>æ˜¯ç¬¦å·å‡½æ•°</li><li><span class="math inline">\(\alpha\)</span>æ˜¯æ­¥é•¿</li><li><span class="math inline">\(\nabla_{x_t^{adv}}\mathcal{L}\)</span>æ˜¯æŸå¤±å‡½æ•°å…³äº<span class="math inline">\(x_t^{adv}\)</span>çš„æ¢¯åº¦</li></ul><p>ç›´è§‚ä¸Šï¼Œåœ¨ç™½ç›’ç¯å¢ƒä¸‹ç”±äº<span class="math inline">\(\nabla_{x_t^{adv}}\mathcal{L}\)</span>æ˜¯å·²çŸ¥çš„ï¼Œå¯ä»¥è¾¾åˆ°å¾ˆé«˜çš„æ”»å‡»æˆåŠŸç‡ï¼Œç„¶è€Œé»‘ç›’ç¯å¢ƒç”±äºæ¢¯åº¦ä½ç½®ï¼Œä¸åŒæ¨¡å‹çš„æ¢¯åº¦ä¸åŒï¼Œæ”»å‡»æˆåŠŸç‡ä¼šä¸‹é™ã€‚</p><p>ä¸ºäº†ä½¿ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å¯¹å¹¿æ³›ç±»åˆ«çš„æ¨¡å‹å…·æœ‰å¯¹æŠ—æ€§ï¼Œé›†æˆæ”»å‡»æ—¶å¢å¼ºæ”»å‡»å¯è¿ç§»æ€§çš„æœ‰æ•ˆç­–ç•¥ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨å¤šä¸ªç™½ç›’æ¨¡å‹çš„è¾“å‡ºå¾—åˆ°å¹³å‡æ¨¡å‹æŸå¤±ï¼Œç„¶ååº”ç”¨åŸºäºæ¢¯åº¦çš„æ”»å‡»ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œå°†å¼(1)å˜åŒ–å¯å¾—ï¼š</p><p><span class="math inline">\(x_{t+1}^{adv}=x_t^{adv}+\alphasign(\nabla_{x_t^{adv}}\mathcal{L}(\sum\limits_{k=1}^Kw_kf_k(x_t^{adv}),y))\)</span>ï¼Œ(2)</p><p>å…¶ä¸­ï¼š<span class="math inline">\(w_k\)</span>ä¸ºç¬¬<span class="math inline">\(k\)</span>ä¸ªä»£ç†æ¨¡å‹<span class="math inline">\(f_k\)</span>çš„é›†åˆæƒé‡ï¼Œ<span class="math inline">\(âˆ€w_kâ‰¥0\)</span>ä¸”<span class="math inline">\(\sum\limits_{k=1}^Kw_k=1\)</span>ï¼Œ<span class="math inline">\(K\)</span>ä¸ºä»£ç†æ¨¡å‹ä¸ªæ•°</p><p>ç°æœ‰çš„é›†æˆæ–¹æ³•ä¸€èˆ¬é€šè¿‡å¹³å‡æå¸¦æ¨¡å‹çš„logitsã€é¢„æµ‹æ¦‚ç‡æˆ–lossæ¥è·å¾—ç”¨äºç”Ÿæˆæ¢¯åº¦ä¿¡æ¯çš„é›†æˆlossã€‚ç„¶è€Œï¼Œè¿™ç§ç®€å•çš„é›†æˆå¿½ç•¥äº†ä»£ç†æ¨¡å‹ä¹‹é—´çš„ä¸ªä½“æ–¹å·®ï¼Œä»è€Œæ˜¾è‘—é™åˆ¶äº†æ•´ä½“çš„æ”»å‡»æ€§èƒ½ã€‚</p><h2 id="è‡ªé€‚åº”é›†æˆå¯¹æŠ—æ”»å‡»adaea">è‡ªé€‚åº”é›†æˆå¯¹æŠ—æ”»å‡»AdaEA</h2><p>é‡ç‚¹ç ”ç©¶éµå¾ªå…¬å¼(2)çš„é›†åˆæ–¹æ³•ã€‚ä¸ä»¥å¾€å·¥ä½œç›´æ¥å¯¹ä»£ç†æ¨¡å‹çš„è¾“å‡ºè¿›è¡Œå¹³å‡ä¸åŒï¼Œæœ¬è®ºæ–‡æå‡ºäº†é…å¤‡AGMå’ŒDRFæœºåˆ¶çš„AdaEAæ¥ä¿®æ­£æ¢¯åº¦ä¼˜åŒ–è¿‡ç¨‹ï¼Œä»¥æé«˜ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ä¸­çš„å¯ä¼ é€’ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼ŒAGMé¦–å…ˆé€šè¿‡å®šä¹‰çš„å¯¹æŠ—æ¯”æ¥è°ƒèŠ‚æ¯ä¸ªé›†æˆæ¨¡å‹çš„æ¢¯åº¦ï¼Œè¯¥å¯¹æŠ—æ¯”è¯†åˆ«æ¯ä¸ªä»£ç†æ¨¡å‹å¯¹æ•´ä½“å¯¹æŠ—å¯¹è±¡çš„è´¡çŒ®å·®å¼‚ï¼Œç„¶åDRFé€šè¿‡è¿‡æ»¤æ‰é›†æˆæ¢¯åº¦ä¸­çš„è§†å·®éƒ¨åˆ†æ¥è¿›ä¸€æ­¥åŒæ­¥æ¢¯åº¦æ›´æ–°æ–¹å‘ã€‚AdaEAæ¦‚è¿°å¦‚å›¾ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140711153.png" alt="å›¾3ï¼ŒAdaEAæ¦‚è¿°ï¼Œå°†CNNså’ŒViTså¾—åˆ°çš„æ¢¯åº¦è¾“å…¥åˆ°AGMå’ŒDRFä¸­å¾—åˆ°é›†æˆæ¢¯åº¦ï¼Œç”¨äºç”ŸæˆåŸºäºæ¢¯åº¦æ”»å‡»çš„å¯¹æŠ—æ ·æœ¬"></p><h3 id="è‡ªé€‚åº”æ¢¯åº¦è°ƒåˆ¶">è‡ªé€‚åº”æ¢¯åº¦è°ƒåˆ¶</h3><p>åœ¨é€šè¿‡è¾“å…¥å›¾åƒå¾—åˆ°æ¯ä¸ªä»£ç†æ¨¡å‹<span class="math inline">\(f_i(x)\)</span>å’Œæ¢¯åº¦ä¿¡æ¯<span class="math inline">\(g_i=\nabla_{x_t^{adv}}\mathcal{L}(f_i(x_t^{adv}),y)\)</span>åï¼Œé€šè¿‡æå‡ºæ£€æµ‹å…¶å¯¹å¯¹æŠ—æ”»å‡»ç›®æ ‡è´¡çŒ®çš„å·®å¼‚æ¥è‡ªé€‚åº”åœ°è°ƒèŠ‚æ¨¡å‹é›†æˆã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå¯¹äºç¬¬<span class="math inline">\(i\)</span>ä¸ªé›†æˆæ¨¡å‹<span class="math inline">\(f_i\)</span>ï¼Œé€šè¿‡æµ‹è¯•ç”±<span class="math inline">\(g_i\)</span>ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å¯¹å…¶ä»–æ¨¡å‹çš„æ”»å‡»æ€§èƒ½æ¥è¯„ä¼°<span class="math inline">\(g_i\)</span>ä¸­æ½œåœ¨çš„å¯¹æŠ—å¯è¿ç§»æ€§ï¼Œå°†å…¶å®šä¹‰ä¸ºå¯¹æŠ—æ¯”ï¼Œç„¶åæ ¹æ®æ¯ä¸ªæ¨¡å‹çš„å¯¹æŠ—æ¯”æ¥è°ƒæ•´é›†æˆæƒé‡ã€‚è¿™é‡Œé¦–å…ˆé€šè¿‡è®¡ç®—æ¥è¿›è¡Œæµ‹è¯•è¿‡ç¨‹ï¼š</p><p><span class="math inline">\(s_{k,i}=-\mathbf{1}_y\cdot \log(\text{softmax}(\mathbf{p}_k[x_t^{adv}+\alphasign(g_i)]))\)</span>ï¼Œ(3)</p><p>å…¶ä¸­ï¼š</p><ul><li><span class="math inline">\(\mathbf{p}_k(\cdot)\)</span>è¡¨ç¤ºä»<span class="math inline">\(f_k\)</span>è¾“å‡ºçš„logitså€¼ï¼Œ<span class="math inline">\(\mathbf 1_y\)</span>æ˜¯çœŸå®logitså€¼</li><li><span class="math inline">\(s_{k,i}\)</span>æ˜¯åœ¨ä½¿ç”¨æ¥è‡ªç¬¬<span class="math inline">\(i\)</span>ä¸ªæ¨¡å‹çš„æ¢¯åº¦ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬ä¸Šçš„ç¬¬<span class="math inline">\(k\)</span>ä¸ªæ¨¡å‹los</li></ul><p>å®šä¹‰å¯¹æŠ—æ¯”<span class="math inline">\(Ï_i\)</span>ï¼š</p><p><span class="math inline">\(Ï_i=\frac{\beta}{K-1}\sum\limits_{k=1,kâ‰ i}^K\frac{s_{k,i}}{s_{k,k}}\)</span>ï¼Œ(4)</p><p>å…¶ä¸­<span class="math inline">\(\beta\)</span>ä¸ºæ§åˆ¶é›†åˆåŠ æƒæ•ˆæœçš„è¶…å‚æ•°ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯<span class="math inline">\(Ï_i\)</span>çš„å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºä»<span class="math inline">\(g_i\)</span>ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬çš„è¿ç§»æ”»å‡»è¶Šå¥½ï¼Œæ„å‘³ç€<span class="math inline">\(g_i\)</span>åŒ…å«äº†æ›´å¤šå¯è¿ç§»çš„å¯¹æŠ—ä¿¡æ¯ã€‚é€šè¿‡æ­¤å¯ä»¥å¼„æ¸…æ¥šå“ªäº›æ¨¡å‹å¯ä»¥æä¾›æ›´å¤šçš„é€šç”¨å¯¹æŠ—ä¿¡æ¯ï¼Œå¹¶è‡ªé€‚åº”åœ°åˆ†é…æ›´é«˜åœ°é›†æˆæƒé‡ã€‚</p><p>å› æ­¤ï¼Œæ ¹æ®æ¯ä¸ªæ¨¡å‹çš„å¯¹æŠ—æ¯”ï¼Œæˆ‘ä»¬ä½¿ç”¨softmaxå‡½æ•°å¯¹æ¯ä¸ªæ¨¡å‹çš„é›†æˆæƒé‡è¿›è¡Œå½’ä¸€åŒ–ï¼š</p><p><span class="math inline">\(w_1^*,w_2^*,...,w_K^*=\text{softmax}(Ï_1,Ï_2,...,Ï_K)\)</span>ï¼Œ(5)</p><p>åˆ©ç”¨å¾—åˆ°çš„<span class="math inline">\(w_i^*\)</span>ï¼Œæ¯ä¸ªå…·æœ‰æ›´å¤šæ½œåœ¨å¯¹æŠ—å¯è¿ç§»æ€§ä¿¡æ¯çš„ä»£ç†æ¨¡å‹çš„è¾“å‡ºåœ¨æ–¹ç¨‹(2)çš„é›†æˆæ¢¯åº¦ä¸­è¢«æ”¾å¤§ï¼Œä»è€Œå¯¼è‡´åœ¨é»‘ç›’æ¨¡å‹ä¸Šæœ‰æ›´é«˜çš„è½¬ç§»æ”»å‡»æˆåŠŸç‡ã€‚</p><h3 id="è§†å·®é™ä½æ»¤æ³¢å™¨drf">è§†å·®é™ä½æ»¤æ³¢å™¨DRF</h3><p>ä»£ç†æ¨¡å‹çš„æ¢¯åº¦ä¼˜åŒ–æ–¹å‘åœ¨å¾ˆå¤§èŒƒå›´å†…å˜åŒ–ï¼Œæœ‰æ—¶æ¢¯åº¦ä¼šæœç€ç›¸åçš„æ–¹å‘å‰è¿›ï¼Œç»“æœå¯¼è‡´å¯¹é›†æˆæ¨¡å‹çš„è¿‡åº¦æ‹Ÿåˆã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¹¶åŒæ­¥æ›´æ–°æ–¹å‘ï¼Œé¢å¤–å¼•å…¥å‡å°‘è§†å·®çš„æ»¤æ³¢å™¨æ¥å‡å°‘ä»£ç†æ¨¡å‹ä¹‹é—´çš„æ¢¯åº¦æ–¹å·®ã€‚</p><p>é¦–å…ˆç”¨ä½™å¼¦ç›¸é€Ÿåº¦æ¥è¯„ä¼°ä»£ç†æ¨¡å‹ä¸­æ¢¯åº¦çš„åå·®ï¼Œå¹¶é€šè¿‡å°†ç›¸ä¼¼åº¦å¾—åˆ†ä¸å…¶ä»–æ¨¡å‹çš„æ¢¯åº¦æ±‚å¹³å‡æ¥è®¡ç®—è§†å·®å›¾<span class="math inline">\(d_i\)</span>ï¼š</p><p><span class="math inline">\(d_i^{(p,q)}=\frac1{K-1}\sum\limits_{k=1,kâ‰ 1}^K\cos(\vec{g}_i^{(p,q)},\vec{g}_k^{(p,q)})\)</span>ï¼Œ(6)</p><p>å…¶ä¸­ï¼š</p><ul><li><span class="math inline">\(\cos(\cdot)\)</span>è¡¨ç¤ºä½™å¼¦ç›¸ä¼¼åº¦å‡½æ•°</li><li><span class="math inline">\(\vec{g}_i^{(p,q)}ã€\vec{g}_k^{(p,q)}\)</span>åˆ†åˆ«è¡¨ç¤ºé€šè¿‡æ¢¯åº¦<span class="math inline">\(g_i\)</span>å’Œ<span class="math inline">\(g_k\)</span>é€šé“ä»ä½ç½®<span class="math inline">\((p,q)\)</span>æå–çš„å‘é‡</li></ul><p>é€šè¿‡å¯¹æ‰€æœ‰çš„<span class="math inline">\(d_i\)</span>æ±‚å¹³å‡å¾—åˆ°æœ€ç»ˆçš„é›†æˆæ¢¯åº¦è§†å·®å›¾<span class="math inline">\(d\)</span>ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¸€ä¸ªæ»¤æ³¢å™¨<span class="math inline">\(\mathbf{B}\)</span>æ¥æ¸…ç†é›†åˆæ¢¯åº¦ä¸­çš„è§†å·®éƒ¨åˆ†ï¼š</p><p><span class="math inline">\(\mathbfB(p,q)=\begin{cases}0,&amp;\text{if}\ d_i^{(p,q)}â‰¤Î·\\1,&amp;\text{otherwise}\end{cases}\)</span>ï¼Œ(7)</p><p>å…¶ä¸­<span class="math inline">\(Î·\)</span>ä¸ºè§†å·®æ»¤æ³¢çš„å®¹å·®é˜ˆå€¼ã€‚</p><p>é€šè¿‡æ»¤é™¤é›†åˆæ¢¯åº¦ä¸­çš„è§†å·®éƒ¨åˆ†ï¼Œå¯ä»¥å®ç°æ¢¯åº¦ä¼˜åŒ–æ–¹å‘çš„åŒæ­¥ã€‚ä¸ºæ­¤ï¼Œå¯ä»¥é€šè¿‡æ”¹å†™å…¬å¼(2)å¾—åˆ°é›†åˆæ¢¯åº¦ï¼š</p><p><span class="math inline">\(g_{t+1}=\nabla_{x_t^{adv}}\mathcal{L}(\sum\limits_{k=1}^Kw_k^*f_k(x_t^{adv}),y)\otimes\mathbf{B}\)</span>ï¼Œ(8)</p><p>å…¶ä¸­<span class="math inline">\(\otimes\)</span>è¡¨ç¤ºæŒ‰å…ƒç´ ç›¸ä¹˜ã€‚</p><p>å› æ­¤ï¼Œä»£ç†æ¨¡å‹ä¹‹é—´çš„å·®å¼‚å¯ä»¥è¢«æŠ‘åˆ¶ã€‚</p><p>AdaEAæ•´ä½“æµç¨‹å¦‚ç®—æ³•1æ‰€ç¤ºï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140725007.png"></p><h1 id="å®éªŒ">å®éªŒ</h1><h2 id="å‚æ•°è®¾ç½®">å‚æ•°è®¾ç½®</h2><p>å¯¹äºbaselineså’ŒAdaEAï¼š</p><ul><li>ä½¿ç”¨<span class="math inline">\(l_âˆ-norm\)</span>ä¸‹è¿­ä»£<span class="math inline">\(20\)</span>æ¬¡çš„I-FGSMä½œä¸ºåŸºæœ¬æ”»å‡»æ–¹æ³•ï¼Œå¹¶åœ¨å¯¹æŠ—æ ·æœ¬ç”Ÿæˆè¿‡ç¨‹ä¸­è®¾ç½®ï¼š<ul><li>æœ€å¤§æ‰°åŠ¨<span class="math inline">\(\epsilon=8/255\)</span></li><li>æ­¥é•¿<span class="math inline">\(\alpha=2/255\)</span></li></ul></li><li>è¶…å‚æ•°:<ul><li>åœ¨DRFä¸­å–è§†å·®æ»¤æ³¢å®¹å·®é˜ˆå€¼<span class="math inline">\(Î·=-0.3\)</span></li><li>åœ¨AGMä¸­å–æ§åˆ¶é›†æˆåŠ æƒæ•ˆæœè¶…å‚æ•°<span class="math inline">\(\beta=10\)</span></li></ul></li></ul><h2 id="ä¸»è¦ç»“æœ">ä¸»è¦ç»“æœ</h2><h3 id="ä¸€èˆ¬æ”»å‡»æ€§èƒ½">ä¸€èˆ¬æ”»å‡»æ€§èƒ½</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140735168.png" alt="è¡¨1ï¼Œé’ˆå¯¹8ä¸ªè‡ªç„¶è®­ç»ƒæ¨¡å‹çš„é»‘ç›’æ”»å‡»æˆåŠŸç‡ã€‚åŠ ç²—è¡¨ç¤ºæœ€å¥½ç»“æœï¼Œ\triangleè¡¨ç¤ºç›¸å¯¹äºbaselineçš„æ”¹è¿›"></p><h3 id="ä¸åŸºäºè¿ç§»çš„æ”»å‡»çš„ç»“åˆ">ä¸åŸºäºè¿ç§»çš„æ”»å‡»çš„ç»“åˆ</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140746178.png" alt="è¡¨2ï¼ŒåŸºäºä¸åŒæ”»å‡»æ–¹æ³•çš„é›†æˆæ”»å‡»åœ¨CIFAR10ä¸Šç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„æ”»å‡»æˆåŠŸç‡ã€‚"></p><h3 id="å¯¹å…ˆè¿›é˜²å¾¡çš„æ”»å‡»">å¯¹å…ˆè¿›é˜²å¾¡çš„æ”»å‡»</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140757873.png" alt="è¡¨3ï¼Œåœ¨CIFAR-10ä¸Šå¯¹æŠ—3ä¸­å¯¹æŠ—è®­ç»ƒæ¨¡å‹å’Œ6ç§é«˜çº§é˜²å¾¡æ–¹æ³•çš„é²æ£’æ€§å‡†ç¡®ç‡ã€‚åŸºäºè¾“å…¥è½¬æ¢çš„é˜²å¾¡ç»“æœæ˜¯æ‰€æœ‰ç›®æ ‡æ¨¡å‹çš„å¹³å‡ç»“æœã€‚"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140920507.png" alt="å›¾4ï¼Œä»£ç†æ¨¡å‹å’Œé»‘ç›’æ¨¡å‹ä¸­ä¸åŒè¾“å…¥çš„çƒ­åŠ›å›¾ã€‚(a)ä¸ºè¾“å…¥å›¾åƒï¼ŒåŒ…æ‹¬å¹²å‡€å›¾åƒå’Œæ¯ç§æ”»å‡»æ–¹æ³•ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬ã€‚(b)-(e)åˆ†åˆ«ä¸ºä»£ç†æ¨¡å‹(Res-18ã€ViT-T)å’Œé»‘ç›’æ¨¡å‹(WRN50-2ã€Swin-T)"></p><p>ä»å›¾4(b)å’Œ(c)ä¸­å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸å¹²å‡€å›¾åƒç›¸æ¯”ï¼Œç™½ç›’æ¨¡å‹åœ¨æ‰€æœ‰ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬ä¸Šçš„æ³¨æ„åŠ›éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™è¡¨æ˜ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å¯ä»¥æœ‰æ•ˆè§¦å‘è¿™äº›æ¨¡å‹çš„é”™è¯¯é¢„æµ‹ã€‚ç„¶è€Œï¼Œå½“è½¬ç§»åˆ°é»‘ç›’æ¨¡å‹æ—¶ï¼ŒEnså’ŒSVREæ–¹æ³•æ— æ³•è¯¯å¯¼çƒ­åœŸä¸å¹²å‡€å›¾åƒç›¸ä¼¼çš„æ¨¡å‹æ³¨æ„åŠ›ï¼Œå¦‚å›¾4(d)-(e)ä¸­ç¬¬2-3è¡Œæ‰€ç¤ºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¾—ç›ŠäºAdaEAä¸­AGM-DRFæ–¹æ¡ˆå¯¹æ½œåœ¨å†…åœ¨å¯¹æŠ—ä¿¡æ¯çš„æ”¾å¤§ï¼Œç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬ä»ç„¶èƒ½å¤Ÿæ¬ºéª—å›¾4(d)-(e)ä¸­æ³¨æ„åŠ›å‰§çƒˆå˜åŒ–çš„é»‘æ²³æ¨¡å‹çš„æ³¨æ„åŠ›ã€‚</p><h3 id="æ¶ˆèå®éªŒ">æ¶ˆèå®éªŒ</h3><ol type="1"><li><p>å…³äºAdaEAç»„æˆéƒ¨åˆ†ã€‚æ£€éªŒAdaEAä¸­AGMå’ŒDRFæœºåˆ¶çš„æœ‰æ•ˆæ€§ã€‚å…·ä½“æ¥è¯´æ‰§è¡Œäº†å››ç§é›†æˆæ–¹æ³•ï¼š</p><ul><li>æœ´ç´ é›†æˆæ”»å‡»</li><li>é›†æˆAGM</li><li>é›†æˆDRF</li><li>AdaEAåœ¨é»‘ç›’æ”»å‡»ä¸­åŒæ—¶æ¶‰åŠAGMå’ŒDRF</li></ul><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140935708.png" alt="è¡¨4ï¼ŒAdaEAç»„ä»¶ä¸­çš„æ¶ˆèçš„å¹³å‡æ”»å‡»æˆåŠŸç‡å®éªŒç»“æœ"></p></li><li><p>å…³äºè¶…å‚æ•°æ•æ„Ÿæ€§ã€‚ç ”ç©¶AdaEAå¯¹æ–¹ç¨‹(4)ä¸­æƒé‡å°ºåº¦<span class="math inline">\(\beta\)</span>å’Œå…¬å¼(7)ä¸­çš„äºŒå€¼åŒ–é˜ˆå€¼<span class="math inline">\(Î·\)</span>çš„æ•æ„Ÿæ€§ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815140957005.png" alt="å›¾5ï¼ŒAGMä¸­åŠ æƒå°ºåº¦\betaå’Œ(b)DRFä¸­äºŒå€¼åŒ–é˜ˆå€¼Î·çš„æ¶ˆèç ”ç©¶"></p></li></ol><h3 id="è¿›ä¸€æ­¥åˆ†æ">è¿›ä¸€æ­¥åˆ†æ</h3><ol type="1"><li><p>ä»£ç†æ¨¡å‹çš„æ•°é‡å¯¹å¯è¿ç§»æ€§æœ‰ä½•å½±å“ï¼Ÿ</p><p>ä»è¡¨5å¯ä»¥çœ‹å‡ºï¼Œéšç€ä»£ç†æ¨¡å‹çš„æ•°é‡å¢åŠ ï¼Œæ•´ä½“æ”»å‡»æˆåŠŸç‡ä»ç¬¬1è¡Œåˆ°æœ€åº•å±‚é€è¡Œæé«˜ã€‚ç›´è§‚ä¸Šï¼Œç”±äºå¯ä»¥æ•è·æ›´å¤šçš„å¯¹æŠ—ä¿¡æ¯ï¼Œä½¿ç”¨æ›´å¤šçš„ä»£ç†æ¨¡å‹å¯ä»¥å¯¼è‡´æ›´å¥½çš„å¯è¿ç§»æ€§ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒAdaEAåœ¨ä¸è€ƒè™‘é›†æˆæ¨¡å‹æ•°é‡çš„æƒ…å†µä¸‹ï¼Œå§‹ç»ˆå¦‚ä¸€åœ°æé«˜äº†é›†æˆæ”»å‡»æ€§èƒ½ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230815141016503.png" alt="è¡¨5ï¼Œåœ¨CIFAR-10ä¸Šæ¯”è¾ƒä¸åŒé›†åˆæ¨¡å‹ä¸‹é›†æˆæ”»å‡»ä¸æœ¬æ–‡AdaEAçš„å¹³å‡æ”»å‡»æˆåŠŸç‡ã€‚"></p></li><li><p>ä»£ç†æ¨¡å‹ä¸­ä¸åŒçš„CNNsä¸ViTsçš„æ¯”ä¾‹å¦‚ä½•å½±å“æ•´ä½“çš„å¯è¿ç§»æ€§ï¼Ÿ</p><p>ç”±è¡¨5ç¬¬äºŒè¡Œã€ç¬¬ä¸‰è¡Œã€ç¬¬ä¹è¡Œï¼Œéšç€ä»£ç†æ¨¡å‹ä¸­CNNæ•°é‡çš„å¢åŠ ï¼Œå¯¹CNNçš„æ”»å‡»ç‡æ˜æ˜¾æé«˜ï¼Œç›¸æ¯”ä¹‹ä¸‹å¯¹ViTsçš„æ”»å‡»æˆåŠŸç‡ä¸é«˜ã€‚è¿™è¡¨æ˜å½“CNNsåœ¨ä»£ç†æ¨¡å‹ä¸­ç«™ä¸»å¯¼åœ°ä½æ—¶ï¼Œé›†æˆæ¢¯åº¦æ›´ä¾§é‡äºCNNsçš„æ¢¯åº¦ã€‚</p><p>å½“CNNsä¸ViTsæ¯”ä¾‹å˜ä¸º0ï¼š3æ—¶ï¼Œé›†æˆæ”»å‡»ä»ç„¶è¡¨ç°å‡ºå¯¹CNNsçš„é«˜è½¬ç§»ç‡ã€‚è¿™ä¸€ç°è±¡è¡¨æ˜ï¼Œä»ä¸CNNsè½¬ç§»åˆ°ViTsç›¸æ¯”ï¼Œä»ViTsè½¬ç§»åˆ°CNNsæ›´å®¹æ˜“å‘ç”Ÿæ”»å‡»ï¼Œæˆ‘ä»¬å°†å…¶å½’å› äºVITsæ›´å¤æ‚çš„æ¡†æ¶å’Œå…¨å±€å»ºæ¨¡èƒ½åŠ›ï¼Œä½¿å¾—ViTsèƒ½å¤Ÿæå–æ›´å¤šé€šç”¨çš„å¯¹æŠ—ä¿¡æ¯ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> å›¾åƒè¯†åˆ« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]ä¾µèš€æ”»å‡»ï¼šåˆ©ç”¨ä¾µèš€æ”¹å–„å¯¹æŠ—æ ·æœ¬å¯è¿ç§»æ€§-ErosionAtt</title>
      <link href="/article/f58040c6/"/>
      <url>/article/f58040c6/</url>
      
        <content type="html"><![CDATA[<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š<a href="https://ieeexplore.ieee.org/document/10102830/">[10.1109/TIP.2023.3251719] Erosion Attack: Harnessing Corruption To Improve Adversarial Examples</a></p><p>æ—¥æœŸï¼š2023-04</p><p>å…³é”®è¯ï¼šAdversarial Attack, Optimization, Computational modeling, Perturbation methods, Neural networks, Training, Closed box, Data models</p><p>å‡ºå¤„ï¼šIEEE Trans. on Image Process.</p></blockquote><h1 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h1><p>æœ¬è®ºæ–‡æå‡ºäº†ä¸€ç§æ–°é¢–çš„å¯è¿ç§»å¯¹æŠ—æ”»å‡»ï¼Œçªå‡ºå…¶å®‰å…¨å±€é™æ€§ã€‚</p><p>æœ¬è®ºæ–‡ç¡®å®šäº†å½“å‰æ”»å‡»å¯èƒ½å¤±è´¥çš„ä¸¤ä¸ªå†…åœ¨åŸå› ï¼Œå¹¶æå‡ºå¯¹åº”çš„è§£å†³æ–¹æ³•ï¼š</p><ul><li>æ•°æ®ä¾èµ–ï¼šæå‡ºäº†æ•°æ®ä¾µèš€(Data Erosion)æ–¹æ³•ã€‚å…¶æ¶‰åŠåˆ°å¯»æ‰¾åœ¨ç®€å•åŸå§‹æ¨¡å‹(vanilla models)å’Œé˜²å¾¡æ¨¡å‹ä¸­å…±æœ‰çš„ç›¸ä¼¼æ€§ä¸ºï¼Œä»¥å¸®åŠ©æ”»å‡»è€…ä»¥æ›´é«˜çš„æœºä¼šæ¬ºéª—é²æ£’æ¨¡å‹</li><li>ç½‘ç»œè¿‡æ‹Ÿåˆï¼šå…‹æœç½‘ç»œè¿‡æ‹Ÿåˆå›°å¢ƒï¼šå°†å•ä¸€çš„ä»£ç†æ¨¡å‹æ‰©å±•åˆ°å…·æœ‰é«˜åº¦å¤šæ ·æ€§çš„é›†æˆç»“æ„ï¼Œä»è€Œäº§ç”Ÿæ›´å¤šè¯¾å‰ä¸€çš„å¯¹æŠ—æ ·æœ¬</li></ul><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122243802.png" alt="å›¾1ï¼Œå°†æ­£å¸¸è®­ç»ƒæ¨¡å‹ä¸é²æ£’æ¨¡å‹çš„æ¢¯åº¦æ˜¾è‘—å›¾å’Œæ³¨æ„åŠ›åŒºåŸŸè¿›è¡Œå¯¹æ¯”"></p><p>åˆ©ç”¨ç°æˆçš„ä»£ç†æ¨¡å‹ç”Ÿæˆå¯¹æŠ—æ ·æœ¬æ¥æ¬ºéª—è¿œç¨‹é»‘ç›’æ¨¡å‹æ˜¯ä¸€ç§æ›´å…·å¨èƒæ€§çš„æ–¹å¼ï¼Œå³å¯è¿ç§»å¯¹æŠ—æ”»å‡»ã€‚</p><p>å½“å‰å¯è¿ç§»æ”»å‡»æ–¹æ³•åœ¨é˜²å¾¡åœºæ™¯ä¸­æ•ˆæœè¾ƒå·®çš„ä¸¤ä¸ªé‡è¦åŸå› ï¼š</p><ul><li>æ•°æ®ä¾èµ–ï¼šå¯¹æŠ—æ ·æœ¬ä¸è¾“å…¥æ•°æ®é«˜åº¦ç›¸å…³ï¼Œå¦‚æœè¾“å…¥æ•°æ®æ˜¯å¹²å‡€å›¾åƒï¼Œé˜²å¾¡æ¨¡å‹é€šå¸¸ä¸æ­£å¸¸è®­ç»ƒçš„æ¨¡å‹è¡¨ç°ä¸åŒï¼Œå¦‚å›¾1(a)æ‰€ç¤ºã€‚è¿™å¯èƒ½ä¼šç®€ä»‹å½±å“å¯¹æŠ—æ ·æœ¬çš„å¯è¿ç§»æ€§ï¼Œå› ä¸ºå¤§å¤šæ•°æ–¹æ³•åªè€ƒè™‘å¹²å‡€å›¾åƒå¹¶åœ¨æ­£å¸¸è®­ç»ƒçš„æ¨¡å‹ä¸Šè¿›è¡Œä¼˜åŒ–ã€‚â€”â€”å¤§å¤šæ•°å¯¹æŠ—æ ·æœ¬å¯ä»¥å¾ˆå¥½è¿ç§»åˆ°å…¶ä»–vanilla modelsè€Œä¸èƒ½æ”»å‡»é˜²å¾¡æ¨¡å‹ï¼šä¸ºæ­¤è€Œå¯»æ‰¾ä¸€ç§å…±æœ‰çš„ç›¸ä¼¼ç‰¹å¾çš„ç‰¹æ®Šå¢å¼ºæºï¼Œå¦‚æ¢¯åº¦æ³¨æ„åŒºåŸŸï¼›é€šè¿‡åœ¨æ”»å‡»è¿‡ç¨‹ä¸­èå…¥ä¸Šè¿°å¢å¼ºæ•°æ®ï¼Œå¯¹æŠ—æ ·æœ¬å¯¹åŸå§‹æ•°æ®çš„ä¾èµ–ç¨‹åº¦é™ä½ï¼Œä»è€Œäº§ç”Ÿæ›´é«˜çš„å¯è¿ç§»æ€§æ¥æ¬ºéª—é»‘ç›’é˜²å¾¡ã€‚</li><li>ç½‘ç»œè¿‡æ‹Ÿåˆï¼šé™ä½å¯¹æŠ—æ ·æœ¬ä¸ä»£ç†æ¨¡å‹ä¹‹é—´çš„è€¦åˆæ€§æ˜¯ä¸€ç§è‡ªç„¶é€‰æ‹©ã€‚é›†æˆæ”»å‡»ï¼šåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é‡‡ç”¨å¤šä¸ªç½‘ç»œï¼Œä»¥å‡å°‘å¯¹å•ä¸ªæ¨¡å‹çš„ä¾èµ–ã€‚æœ¬è®ºæ–‡æå‡ºçš„EAæ–¹æ³•ä¸ºäº†å…‹æœé›†æˆæ”»å‡»çš„ç‰©ç†é™åˆ¶å’Œç‰¹å¾çº§æ”»å‡»ç”±äºæ± åŒ–ç­‰ç‰¹å®šç½‘ç»œç»„ä»¶è€Œä¸¢å¤±æœ‰ä»·å€¼ä¿¡æ¯çš„å¼±ç‚¹ï¼Œé€šè¿‡åˆ©ç”¨ä¸­é—´ç‰¹å¾ï¼Œå¯¹æŠ—æ ·æœ¬ä»ä¸åŒçš„å†³ç­–è¾¹ç•Œä¸­å­¦ä¹ ï¼Œå°†å•ä¸ªæ¨¡å‹æ‹“å±•åˆ°æŸåçš„ç½‘ç»œï¼Œä»¥ä½æˆæœ¬å®ç°é›†æˆæ”»å‡»ã€‚</li></ul><p>æ•°æ®ä¾µèš€å¯ä»¥çœ‹æˆä¸€ç§äº§ç”Ÿè‰¯å¥½æ ·æœ¬çš„æ•°æ®å¢å¼ºæŠ€æœ¯ï¼Œç½‘ç»œä¾µèš€é€šè¿‡æ„å»ºå¤šæ ·åŒ–çš„é›†æˆæ¥å®ç°æ¨¡å‹å¢å¼ºã€‚</p><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><p>è®¾è®¡ä¸€ä¸ªé²æ£’é€šç”¨çš„å¯è¿ç§»æ”»å‡»æ¡†æ¶æ¥æ¬ºéª—ä¸åŒçš„é˜²å¾¡æ¨¡å‹ï¼Œå¹¶æ­ç¤ºå½“å‰æ¨¡å‹çš„æ½œåœ¨ä¸å®‰å…¨æ€§ã€‚</p><ul><li>æ•°æ®ä¾µèš€æ–¹æ³•ï¼šäººå·¥æŸåçš„å›¾åƒä¸ä»…è¡¨ç°å‡ºä¸å¹²å‡€å›¾åƒä¸åŒçš„æ¢¯åº¦æ˜¾è‘—æ€§å’Œçƒ­å›¾ï¼Œè€Œä¸”åœ¨vallinaæ¨¡å‹å’Œé˜²å¾¡æ¨¡å‹ä¹‹é—´è¡¨ç°å‡ºæ›´å°çš„å·®å¼‚ã€‚å› æ­¤å°†è¿™äº›ä¾µèš€å›¾åƒä½œä¸ºè‰¯å¥½çš„å¢å¼ºæ•°æ®åŠ å…¥åˆ°æ”»å‡»ä¸­æ¥æ›´æ–°æ‰°åŠ¨ã€‚</li><li>ç½‘ç»œä¾µèš€æ–¹æ³•ï¼šå¤§å¤šæ•°åŸºäºæ¢¯åº¦çš„æ”»å‡»åªè€ƒè™‘æœ€ç»ˆçš„é¢„æµ‹åˆ†å¸ƒæ¥è®¡ç®—æ¢¯åº¦ï¼Œå¿½ç•¥äº†ä¸€äº›å‰å‘ä¼ æ’­æ“ä½œé€ æˆçš„æœ‰ä»·å€¼çš„ç‰¹å¾ä¸¢å¤±ï¼Œä¸ºäº†å­¦ä¹ å„ç§åˆ†ç±»è¾¹ç•Œå¹¶ä»¥è¾ƒå°çš„ä»£ä»·æ”¶é›†ä¸°å¯Œçš„ä¸­é—´è¡¨ç¤ºä¿¡æ¯ï¼Œç®€å•ä¿®æ”¹ç°æœ‰æ¨¡å‹çš„ç»“æ„æ¥åˆ›å»ºä¸€ä¸ªæŸåçš„ç½‘ç»œç”¨ä»¥å®ç°é›†æˆåŒ–ï¼Œä»¥é¿å…ç½‘ç»œçš„è¿‡æ‹Ÿåˆã€‚</li></ul><h2 id="æ•°æ®ä¾µèš€"><a href="#æ•°æ®ä¾µèš€" class="headerlink" title="æ•°æ®ä¾µèš€"></a>æ•°æ®ä¾µèš€</h2><p>åœ¨ä¼˜åŒ–ä¸­å¯¹å›¾åƒè¿›è¡Œä¾µèš€ä»¥äº§ç”Ÿä¾µèš€å¢å¼ºæ•°æ®ï¼Œä½œä¸ºæ–°çš„æ”»å‡»ç›®æ ‡å‡½æ•°ï¼š</p><p>$\arg\max\limits<em>{xâ€™}{J(xâ€™,y)+\sum\limits</em>{i=1}^nJ(x_{e_i}â€™,y)}$ï¼Œ(1)</p><p>å…¶ä¸­ï¼š</p><ul><li>$x_{e_i}â€™$æ˜¯ä¾µèš€å›¾åƒï¼Œç”±æ¯ä¸€æ­¥ä¾µèš€å½“å‰$x$äº§ç”Ÿçš„</li><li>$n$æ˜¯é‡‡æ ·æ•°</li><li>$L<em>âˆ-norm$ï¼Œå³$||x-xâ€™||</em>âˆ&lt;\epsilon$</li></ul><p>å®éªŒå‘ç°ï¼Œæ€§èƒ½æœ€å¥½çš„å¢å¼ºæ•°æ®æ˜¯ç”±éšæœºç ´åè¾“å…¥å›¾åƒåƒç´ è¿ç»­æ€§çš„ç©ºé—´ä¾µèš€ç­–ç•¥äº§ç”Ÿã€‚é™¤æ­¤ä¹‹å¤–çš„é¢œè‰²ä¾µèš€å’Œäº®åº¦ä¾µèš€è¾ƒå·®ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122328720.png" alt="å›¾2ï¼Œä½¿ç”¨IncResNetv2å¯¹æœ€ç»ˆæå–çš„éšè—ç‰¹å¾è¿›è¡Œt-SNEå¯è§†åŒ–ã€‚å¯¹äºå¹²å‡€å›¾åƒï¼Œäººå·¥æŸåçš„å›¾åƒæ—¶ä»åŸç†å¹²å‡€å›¾åƒçš„åŒºåˆ†åˆ†å¸ƒä¸­ç»˜åˆ¶å‡ºæ¥çš„"></p><h3 id="ç©ºé—´ä¾µèš€"><a href="#ç©ºé—´ä¾µèš€" class="headerlink" title="ç©ºé—´ä¾µèš€"></a>ç©ºé—´ä¾µèš€</h3><p>å¦‚æœå›¾åƒä¸­å‡ºç°çš„é¢ç›¸é‚»åƒç´ çš„ç©ºé—´è¿ç»­æ€§å·²ç»ç ´åï¼Œæ­£å¸¸çš„è®­ç»ƒæ¨¡å‹å¯èƒ½ä¼šæ”¹å˜å…¶åˆ¤åˆ«åŒºåŸŸï¼Œæ›´å¤šå…³æ³¨ç»“æ„å’Œä¸€èˆ¬ç‰¹å¾è€Œä¸æ˜¯å±€éƒ¨ç»†èŠ‚ï¼Œç±»ä¼¼äºé²æ£’æ¨¡å‹è¡Œä¸ºã€‚è¿™å¯å‘æˆ‘ä»¬ç ´åå½“å‰å›¾åƒ$xâ€™$çš„ç©ºé—´è¿ç»­æ€§æ¥é‡‡æ ·ä¾µèš€æ•°æ®$xâ€™_e$ï¼š</p><p>$xâ€™_e=M\cdot xâ€™,\ M\sim Bernulli(1-Î¾)$ï¼Œ(2)</p><p>å…¶ä¸­ï¼š</p><ul><li>$M$æ˜¯åœ¨æ¯æ¬¡è¿­ä»£ä¸­éšæœºç”Ÿæˆçš„äºŒè¿›åˆ¶æ©ç </li><li>$Î¾$æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„æ¦‚ç‡ä»¥æ§åˆ¶ä¾µèš€æ°´å¹³ï¼›è‹¥$Î¾=0$ï¼Œåˆ™æ²¡æœ‰åƒç´ è¢«ç ´åï¼Œè‹¥$Î¾=1$ï¼Œåˆ™æ‰€æœ‰å…ƒç´ å€¼è¢«ç ´åä¸º0.</li></ul><p>ç©ºé—´ä¾µèš€ç±»ä¼¼äºå¯¹è¾“å…¥æ•°æ®åº”ç”¨dropoutæ“ä½œï¼ŒåŒºåˆ«åœ¨äºç©ºé—´ä¾µèš€æ²¡æœ‰å°†å‰©ä½™çš„åƒç´ æ”¾å¤§$1/(1-Î¾)$</p><h3 id="è‰²å½©ä¾µèš€"><a href="#è‰²å½©ä¾µèš€" class="headerlink" title="è‰²å½©ä¾µèš€"></a>è‰²å½©ä¾µèš€</h3><p>å½©è‰²æŸæ¯å›¾åƒå…·æœ‰ä¸ç©ºé—´æŸæ¯æ•°æ®ç±»ä¼¼çš„æ€§è´¨ã€‚é€šè¿‡éšå³çº¿æ€§ç»„åˆåŸºæœ¬å½©è‰²å›¾åƒç”Ÿæˆä¾µèš€å›¾åƒï¼š</p><p>$x<em>eâ€™=\alpha_1\cdot xâ€™<em>{gb}+\alpha_2\cdot xâ€™</em>{rg}+\alpha_e\cdot xâ€™</em>{rb}$ï¼Œ(3)</p><p>å…¶ä¸­ï¼š</p><ul><li>$xâ€™<em>{gb},xâ€™</em>{rg},xâ€™<em>{rb}$ï¼ˆå³å¦‚ï¼š$xâ€™</em>{gb}$ä¿æŒgå’Œbè€Œç ´årï¼‰ä¸ºå¯¹æŠ—æ ·æœ¬$xâ€™$çš„åŸºæœ¬å½©è‰²å›¾åƒ</li><li>$\hat{\alpha}_i$ä¸ºå–è‡ªå‡åŒ€åˆ†å¸ƒ$U(0,1)$çš„æ­£æƒé‡$\alpha_i=\hat{\alpha}_i/\sum_j\hat{\alpha}_j$</li></ul><h3 id="äº®åº¦ä¾µèš€"><a href="#äº®åº¦ä¾µèš€" class="headerlink" title="äº®åº¦ä¾µèš€"></a>äº®åº¦ä¾µèš€</h3><p>é¦–å…ˆå°†è¾“å…¥å›¾åƒä»RGBæ¢åˆ°YUVç©ºé—´ï¼Œç„¶åå¯¹Y(äº®åº¦)å’ŒV(é¥±å’Œåº¦)é€šé“ä¸­çš„åˆ†é‡è¿›è¡Œéšæœºæ‰°åŠ¨ï¼š $x_eâ€™=\gamma_1\cdot x_yâ€™+\gamma_2\cdot xâ€™_v,\ \gamma_i\sim\mathcal{N}(I,\sigma_e^2)$ï¼Œ(3)</p><p>å…¶ä¸­ï¼š</p><ul><li>$x_yâ€™,x_uâ€™,x_vâ€™$è¡¨ç¤ºåŸºæœ¬äº®åº¦å›¾åƒï¼ˆå³å¦‚ï¼š$x_yâ€™$ä»$xâ€™$ä¿ç•™Yé€šé“çš„åˆ†é‡ï¼‰</li></ul><h3 id="å·®å¼‚"><a href="#å·®å¼‚" class="headerlink" title="å·®å¼‚"></a>å·®å¼‚</h3><p>ä»¥å¾€çš„æ–¹æ³•åœ¨æ”»å‡»ä¸­ä¹Ÿæ˜¯ç”¨å¢å¼ºï¼Œä¸æœ¬è®ºæ–‡çš„ä¸»è¦å·®åˆ«ï¼š</p><ol><li>å…¶é‡‡ç”¨å¢å¹¿æ¥é¿å…å±€éƒ¨æå¤§å€¼ï¼Œè€Œæœ¬è®ºæ–‡çš„å¢å¹¿æ•°æ®æ˜¯ç”¨æ¥ç¼©å°æ­£å¸¸æ¨¡å‹å’Œé˜²å¾¡æ¨¡å‹ä¹‹é—´çš„å·®è·</li><li>å…¶é€‰æ‹©ä¿æŒæŸå¤±çš„å˜æ¢æ¥ä¿æŒå›¾åƒç»†èŠ‚å’Œå®ç°æ¨¡å‹å¢å¼ºï¼Œè€Œæœ¬è®ºæ–‡ä¸å±äºè¿™ç§ç±»å‹æ“ä½œï¼Œè€Œæ˜¯è¿«ä½¿æ¨¡å‹é€šè¿‡ä¾µèš€åƒç´ æ¥å…³æ³¨ä¸€èˆ¬ç‰¹å¾ã€‚</li></ol><h2 id="ç½‘ç»œä¾µèš€"><a href="#ç½‘ç»œä¾µèš€" class="headerlink" title="ç½‘ç»œä¾µèš€"></a>ç½‘ç»œä¾µèš€</h2><p>ä¸ºäº†é€šè¿‡åˆ©ç”¨ä¸­é—´ç‰¹å¾æ¥å­¦ä¹ ä¸åŒçš„å†³ç­–è¾¹ç•Œï¼Œæˆ‘ä»¬æ”»å‡»åŸå§‹ç½‘ç»œå³ç ´åå…¶æŸåç‰ˆæœ¬çš„å’Œé›†æˆï¼Œä»¥è¾ƒå°ä»£ä»·ç”Ÿæˆæ›´å…·å¨èƒæ€§çš„å¯¹æŠ—æ ·æœ¬å¦‚å›¾3(a)ã€‚ç›®æ ‡å‡½æ•°ä¸ºï¼š</p><p>$\arg\max\limits_{xâ€™}={J(xâ€™,y)+J_e(xâ€™,y)}$ï¼Œ(4)</p><p>å…¶ä¸­$J_e$ä¸ºå·²æ„å»ºçš„ä¾µèš€ç½‘ç»œçš„ç›®æ ‡å‡½æ•°ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122352740.png" alt="å›¾3ï¼Œç½‘ç»œä¾µèš€æœºç†ã€‚(a)é€šè¿‡æ”»å‡»åŸå§‹ç½‘ç»œï¼ˆé¡¶å±‚ï¼‰å’ŒæŸåçš„ç½‘ç»œï¼ˆåº•å±‚ï¼‰çš„é›†åˆç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼›(b)æŸåçš„ç½‘ç»œçš„ä¸¤ä¸ªåŸºæœ¬è®¾è®¡ï¼šä¸­é—´ç‰¹å¾åˆ†ç±»å™¨ï¼Œè¢«è®¾è®¡ä¸ºç›´æ¥è¿æ¥ç‰¹å¾å›¾$f_l$å’Œä¸€ä¸ªå¾®è°ƒå—$f&#39;_c(top)$ï¼›ä»¥åŠéšå³å±‚ï¼Œä»–ä»¬å¯†é›†åœ°åµŒå…¥åœ¨å·ç§¯å—ä¹‹å‰ï¼ˆåº•éƒ¨ï¼‰"></p><p>å¦‚å›¾3(b)æ‰€ç¤ºï¼ŒåŸå§‹ç½‘ç»œä¸æŸåç½‘ç»œçš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š</p><ol><li>é€šè¿‡å°‘é‡çš„å¾®è°ƒå¼€é”€ï¼Œç ´åäº†åŸå§‹æ¨¡å‹çš„ç»“æ„ï¼Œæ„å»ºäº†ä¸€ä¸ªå…·æœ‰ä¸åŒè¾¹ç•Œçš„ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨</li><li>åœ¨å·ç§¯å—é’±åŠ å…¥éšå³å±‚ï¼Œè¿›ä¸€æ­¥æé«˜æ¨¡å‹çš„å¤šæ ·æ€§å’Œé²æ£’æ€§</li></ol><h3 id="ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨"><a href="#ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨" class="headerlink" title="ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨"></a>ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨</h3><p>å‡è®¾è¢«æ”»å‡»å¯¹è±¡æœ‰ä¸€éƒ¨åˆ†å›¾åƒå¯ä»¥è¢«ä»£ç†æ¨¡å‹æ­£ç¡®æ ‡è®°ï¼Œå³ä½¿è¿™äº›å›¾åƒä¸å±äºä»£ç†ç½‘ç»œå’Œé»‘ç›’ç½‘ç»œçš„è®­ç»ƒé›†ï¼Œä¹Ÿæ˜¯åˆç†çš„ã€‚ä¸ºæ­¤æˆ‘ä»¬æ—¨åœ¨ç”¨è¾ƒå°çš„ä»£ä»·æå–è¿™äº›å›¾åƒçš„è¡¨ç¤ºï¼Œç”¨äºå¾®è°ƒä¸­é—´ç‰¹å¾åˆ†ç±»å™¨ï¼ˆIFCï¼‰ã€‚ç‰¹åˆ«çš„ï¼Œå¯¹äºç»™å®šå›¾åƒ$x$ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªä»£ç†æ¨¡å‹$f$å¾—åˆ°å®ƒåœ¨ç¬¬$l$å±‚çš„é¢„æµ‹æ ‡ç­¾$y$å’Œä¸­é—´ç‰¹å¾$z_l$ï¼Œå³$y=f(x),\ z_l=f_l(x)$ï¼Œå› æ­¤ï¼Œåˆ©ç”¨æ ‡å‡†äº¤å‰ç†µæŸå¤±(CE)åœ¨æ ¡çš„æ›¿ä»£æ•°æ®é›†$\mathcal Dâ€™$ä¸Šè®­ç»ƒç‰¹å¾åˆ†ç±»å¤´$fâ€™_e$ï¼š</p><p>$\begin{split}J_{CE}(x,\thetaâ€™)=\mathbb{E}<em>{x\sim\mathcal{D}â€™}[-y^T\log f_câ€™(z_l)]\ =\mathbb{E}</em>{x\sim\mathcal{D}â€™}[-f(x)^T\log f_câ€™(f_l(x))]\end{split}$ï¼Œ(5)</p><p>å…¶ä¸­$fâ€™_c$æ˜¯IFCçš„å¾®è°ƒå—ï¼Œä¸ç™½ç›’æ¨¡å‹$f$çš„åˆ†ç±»å¤´$f_c$å…·æœ‰ç›¸åŒç»“æ„ã€‚</p><p>ç›´è§‰ä¸ŠIFCçš„ç»“æ„å¯ä»¥çœ‹ä½œæ˜¯ç‰¹å®šçš„ä¸­é—´å±‚å¾®è°ƒåçš„åˆ†ç±»å—ä¹‹é—´å»ºç«‹è·³è·ƒé“¾æ¥ï¼Œ è€Œè·³è·ƒçš„å±‚å·²ç»â€œæŸåâ€è€Œæ— æ³•å·¥ä½œ</p><h3 id="éšæœºå±‚"><a href="#éšæœºå±‚" class="headerlink" title="éšæœºå±‚"></a>éšæœºå±‚</h3><p>åœ¨æ•´ä¸ªç½‘ç»œçš„æ¯ä¸ªå·ç§¯å—ä¹‹å‰åµŒå…¥éšæœºå±‚ï¼Œæ˜¯çš„å½“å‰å›¾åƒé€šè¿‡å±‚æ—¶ï¼Œç‰¹å¾å…·æœ‰å¤šæ ·æ€§ï¼Œè¿™ä½¿å¾—åœ¨ä¿æŒé«˜åˆ†ç±»ç²¾åº¦çš„åŒæ—¶ï¼Œè¾“å‡ºæ¦‚ç‡çš„å¤šæ ·æ€§å˜å¤§ã€‚è®¾è®¡äº†ä¸‰ä¸ªä¸åŒçš„éšæœºå±‚ï¼š</p><ul><li><p>éšæœºç¼©æ”¾å±‚ã€‚åœ¨è®­ç»ƒé˜¶æ®µï¼Œç›´æ¥åœ¨å›¾å±‚ä¸­åŠ å…¥é«˜æ–¯å™ªå£°ä»¥æé«˜è®­ç»ƒæ¨¡å‹çš„é²æ£’æ€§ã€‚æå‡ºå°†ç‰¹å¾åœ¨å°èŒƒå›´å†…è¿›è¡Œç¼©æ”¾ï¼š</p><p>$z_{l+1}=g_l^\mathfrak{r}(z_l)=s\cdot z_l,\ s\sim\mathcal{N}(I,\sigma^2)$ï¼Œ(6)</p><p>å…¶ä¸­ï¼š</p><ul><li>$g_l^\mathfrak{r}$æ˜¯ç¬¬$l$å±‚çš„éšæœºç¼©æ”¾æ“ä½œ</li><li>$z_l+1$æ˜¯ä¸‹ä¸€å±‚çš„ç‰¹å¾å›¾</li><li>$s$æ˜¯ä»$x_l$çš„åŒä¸€ç»´ç©ºé—´ä¸­é‡‡æ ·çš„å‘é‡</li><li>$\sigma=0.025$</li></ul></li><li><p>ç‰¹å¾å¹³æ»‘å±‚ã€‚æ‰°åŠ¨åœ¨åƒç´ çº§è¾ƒå°ï¼Œåœ¨ç‰¹å¾ç©ºé—´é€æ¸å¢å¤§ï¼Œå³å™ªå£°éšç€å›¾åƒåœ¨ç½‘ç»œä¸­ä¼ æ’­è€Œè¢«æ¿€æ´»ã€‚å¼•å…¥é«˜æ–¯æ ¸å¯¹ç‰¹å¾è¿›è¡Œå¹³æ»‘ï¼Œæé«˜å¾…æ”»å‡»æ¨¡å‹çš„é²æ£’æ€§ï¼š</p><p>$z_{l+1}=g_l^\mathfrak{f}(z_l)=W_d*z_l$ï¼Œ(7)</p><p>å…¶ä¸­ï¼š</p><ul><li>$g_l^\mathfrak{f}(\cdot)$è¡¨ç¤ºç‰¹å¾å¹³æ»‘æ“ä½œ</li><li>$W_d$æ˜¯æ ¸ä¸º$3\times 3$å¤§å°çš„å½’ä¸€åŒ–é«˜æ–¯æ»¤æ³¢å™¨ï¼Œç”¨äºå®ç°ä¸ç‰¹å¾å›¾$z_l$çš„å·ç§¯æ“ä½œ</li></ul></li><li><p>çº§è”ç»„å±‚ã€‚å°†æå‡ºçš„ä¸¤ä¸ªå±‚é›†æˆåˆ°å•ä¸ªæ¨¡å—ä¸­ï¼š</p><p>$z_{l+1}=g_l^\mathfrak{s}(z_l)=g_l^\mathfrak{r}\circ g_l^\mathfrak{f}(z_l)$ï¼Œ(8)</p><p>å…¶ä¸­å®šä¹‰ç¬¦å·$\circ$ä¸ºå¤åˆå‡½æ•°ï¼Œå³ï¼š$g_l^\mathfrak{r}\circ g_l^\mathfrak{f}(z_l))$</p></li></ul><h3 id="EAæ¡†æ¶"><a href="#EAæ¡†æ¶" class="headerlink" title="EAæ¡†æ¶"></a>EAæ¡†æ¶</h3><p>æ•°æ®æœé¥°å¼•å…¥äº†ä¸åŒæ³¨æ„åŠ›åŒºåŸŸçš„è‰¯å¥½å¢å¼ºï¼Œä»¥ç¼“è§£æ•°æ®ä¾èµ–æ•ˆåº”ã€‚ç½‘ç»œä¾µèš€äº§ç”Ÿäº†å…·æœ‰å¤šæ ·åŒ–å†³ç­–è¾¹ç•Œçš„æŸåç½‘è·¯ï¼Œä»¥é˜²æ­¢ç½‘ç»œè¿‡æ‹Ÿåˆæ•ˆåº”ã€‚å°†ä¹‹ç»“åˆåˆ°ä¸€ä¸ªé€šç”¨æ¡†æ¶ä¸­ï¼Œè¿›ä¸€æ­¥å¢å¼ºå¯¹æŠ—æ”»å‡»çš„å¯è¿ç§»æ€§ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122500769.png" alt></p><p>å½“å‰çš„å¯è¿ç§»æ”»å‡»å¯ä»¥è‡ªç„¶åœ°é›†æˆåˆ°æ‰€æå‡ºçš„ä¾µèš€æ”»å‡»æ¡†æ¶ä¸­ï¼Œä»¥ç”Ÿæˆæ›´å¼ºçš„å¯¹æŠ—æ ·æœ¬ã€‚å¦‚EA-TIMçš„é›†æˆç‰ˆæœ¬åªéœ€è¦æ›´æ–°ç®—æ³•ä¸­çš„ç¬¬10è¡Œï¼š</p><p>$g=W*\nabla_x\tilde{J}$ï¼Œ(9)</p><p>åŒç†äºDIMã€SIMç»„åˆç‰ˆæœ¬ç”ŸæˆEA-DIMå’ŒEA-SIMã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="å®éªŒè®¾ç½®"><a href="#å®éªŒè®¾ç½®" class="headerlink" title="å®éªŒè®¾ç½®"></a>å®éªŒè®¾ç½®</h2><ul><li>å½’ä¸€åŒ–åƒç´ ä¸­æœ€å¤§æ‰°åŠ¨$\epsilon=0.05$</li><li>æ€»è¿­ä»£æ¬¡æ•°$T=10$</li><li>æ­¥é•¿$\alpha=0.005$</li><li>å¯¹äºbaselineï¼ŒåŠ¨é‡è¡°å‡$\mu=1.0$<ul><li>DIMçš„è½¬æ¢æ¦‚ç‡$p=0.7$</li><li>TIMçš„é«˜æ–¯æ ¸å¤§å°ä¸º$11\times11$</li><li>SIMçš„ç¼©æ”¾å›¾åƒæ•°é‡$m=4$</li><li>SGMçš„è·³è·ƒè¡°å‡$\gamma=0.2$</li><li>VTçš„æ–¹å·®è°ƒæ•´$\beta=1.5ï¼ŒN=20$</li><li>LAFEATä½¿ç”¨å…¶æå‡ºçš„DLRæŸå¤±ç»“åˆå€’æ•°ç¬¬äºŒä¸ªè®­ç»ƒçš„logitså±‚</li><li>FIAä¸ºIncv3ã€Incv4ã€IncRev2å’ŒRev50åˆ†åˆ«é€‰æ‹©äº†æœ€ä¼˜å±‚ï¼Œå³$Mixed_5ã€Mixed_6fã€Conv_4aã€block2_unit6$</li></ul></li></ul><h2 id="å®éªŒåˆ†æ"><a href="#å®éªŒåˆ†æ" class="headerlink" title="å®éªŒåˆ†æ"></a>å®éªŒåˆ†æ</h2><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122515205.png" alt="å›¾5ï¼Œæ•°æ®ä¾µèš€æ–¹æ³•åˆ†æã€‚(a)ä¸åŒç±»å‹çš„å¢å¼ºå›¾åƒåœ¨é²æ£’æ€§å¢å¼ºåçš„Inc3-ens3å’Œæ­£å¸¸è®­ç»ƒçš„IR2ä¹‹é—´è·¨æ”»å‡»è¿­ä»£çš„æ¢¯åº¦ç›¸ä¼¼æ€§ï¼›(b)ä¸åŒç±»å‹çš„å¢å¼ºå›¾åƒå­å››ç§æ­£å¸¸è®­ç»ƒæ¨¡å‹ä¸Šçš„å¹³å‡äº¤å‰ç†µå€¼"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122531470.png" alt="å›¾6ï¼Œå¹³å‡æˆå¯¹$\mathbf{JSD}(\times10^{-2})$å€¼ï¼Œåœ¨æ•´ä¸ªImageNetéªŒè¯æ•°æ®é›†ä¸Šè®¡ç®—çœŸå”±è®­ç»ƒçš„æ¨¡å‹å’ŒæŸåæ¨¡å‹ä¹‹é—´çš„JSDï¼Œå€¼è¶Šé«˜ï¼Œå¤šæ ·æ€§è¶Šå¤§"></p><p>å›¾(6)çš„å«ä¹‰ï¼š</p><ul><li>åŸå§‹æ¨¡å‹IR2ä¸å…¶æŸåç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚è¾ƒå¤§ï¼Œç”šè‡³å¯ä»¥ä¸å…¶å®ƒvanillaæ¨¡å‹(I3,R50)åª²ç¾</li><li>ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨å’ŒåµŒå…¥éšæœºå±‚çš„ç½‘ç»œä¹‹é—´ä¹Ÿè¡¨ç°å‡ºæ˜¾è‘—çš„å·®å¼‚æ€§</li><li>çº§è”ç»„å±‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ¯”éšæœºç¼©æ”¾å’Œç‰¹å¾å¹³æ»‘èƒ½ç»™æ¨¡å‹å¸¦æ¥æ›´å¤§çš„å¤šæ ·æ€§ï¼Œå¯èƒ½ä¼šå½±å“å¯è¿ç§»æ€§çš„æ€§èƒ½</li></ul><h3 id="å•ä¸€æ¨¡å‹æ”»å‡»å®éªŒ"><a href="#å•ä¸€æ¨¡å‹æ”»å‡»å®éªŒ" class="headerlink" title="å•ä¸€æ¨¡å‹æ”»å‡»å®éªŒ"></a>å•ä¸€æ¨¡å‹æ”»å‡»å®éªŒ</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122548527.png" alt="è¡¨1ï¼Œå•ä¸€æ€§èƒ½å®éªŒ"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122602623.png" alt="è¡¨2ï¼Œç»„åˆæ€§èƒ½çš„è·¨ç½‘ç»œå®éªŒ"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122619495.png" alt="è¡¨3ï¼Œæœ€å¤§æ‰°åŠ¨0.05ä¸‹ä½¿ç”¨baselineså’ŒEAç»„åˆæ”»å‡»çš„æˆåŠŸç‡"></p><h3 id="é›†æˆæ¨¡å‹æ”»å‡»å®éªŒ"><a href="#é›†æˆæ¨¡å‹æ”»å‡»å®éªŒ" class="headerlink" title="é›†æˆæ¨¡å‹æ”»å‡»å®éªŒ"></a>é›†æˆæ¨¡å‹æ”»å‡»å®éªŒ</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122632044.png" alt="è¡¨4ï¼Œæœ€å¤§æ‰°åŠ¨0.05ä¸‹ä½¿ç”¨baselineså’ŒEAçš„é›†æˆæ¨¡å‹æ”»å‡»æˆåŠŸç‡"></p><p>è¯å®äº†è¯¥æ–¹æ³•å¯ä»¥åˆ©ç”¨å°‘é‡ç°æœ‰ç½‘ç»œï¼Œä»¥è¾ƒä½çš„å¾®è°ƒæˆæœ¬æ¥æé«˜æ¨¡å‹å¤šæ ·æ€§ï¼Œè€Œä¸æ˜¯ç®€å•å·¡ç¤¼é‚£ä¸åŒæ¶æ„çš„æ–°æ¨¡å‹ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ ‡å‡†çš„é›†æˆæ”»å‡»æ¥è¾¾åˆ°è¿™ä¸€ç›®çš„ã€‚</p><h2 id="æ¶ˆèå®éªŒ"><a href="#æ¶ˆèå®éªŒ" class="headerlink" title="æ¶ˆèå®éªŒ"></a>æ¶ˆèå®éªŒ</h2><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122642908.png" alt="å›¾9ï¼Œç©ºé—´ä¾µèš€å¯¹I3å’ŒIR2çš„æ¶ˆèç ”ç©¶ã€‚å³ä½¿æ˜¯ä¸€å°éƒ¨åˆ†åƒç´ è¢«æŸåï¼Œå…¶å¯è¿ç§»æ€§ä¹Ÿå¾—åˆ°äº†æ˜æ˜¾çš„æå‡"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122700586.png" alt="å›¾10ï¼Œå¢å¼ºæ•°æ®å¯¹äº”ä¸ªé˜²å¾¡æ¨¡å‹çš„æ¶ˆèå®éªŒã€‚å¢å¼ºå›¾åƒè¶Šå¤šï¼Œæ€§èƒ½è¶Šå¥½"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122714419.png" alt="å›¾11ï¼Œä¸­é—´ç‰¹å¾åˆ†ç±»å™¨IFCæœ€ä¼˜å±‚çš„æ¶ˆèå®éªŒã€‚é’ˆå¯¹ä¸¤ä¸ªå¯¹æŠ—æ¨¡å‹I3ens3å’ŒR2ensï¼Œåœ¨I3å’ŒIR2ä¸Šè®¾è®¡äº†å¯¹æŠ—æ ·æœ¬ï¼Œæˆ‘ä»¬å°†åŸºçº¿DIM*ã€TIMå’ŒSIMçš„æˆåŠŸç‡ç»˜åˆ¶ä¸ºè™šçº¿ï¼Œä¸­é—´ç‰¹å¾åˆ†ç±»å™¨ä¼˜åŒ–åçš„æ€§èƒ½ç»˜åˆ¶ä¸ºå®çº¿ã€‚å¯ä»¥çœ‹å‡ºå°†IFCåº”ç”¨åˆ°é›†åˆä¼˜åŒ–ä¸­ï¼Œå¯è¿ç§»æ€§å¾—åˆ°æ˜¾è‘—æ”¹å–„ã€‚æ­¤å¤–ï¼Œå¯¹äºç»™å®šçš„ä»£ç†æ¨¡å‹ï¼Œä¸åŒæ”»å‡»æ–¹æ³•ä¸‹çš„å¯è¿ç§»æ€§å˜åŒ–è¶‹åŠ¿ç›¸ä¼¼ã€‚"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122731708.png" alt="å›¾12ï¼Œä¸åŒæ¯”ä¾‹çº§è”ç»„å±‚çš„æˆåŠŸç‡ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæ›´å¤šçš„éšæœºå±‚ä¼šå¯¼è‡´æ›´å¥½çš„æ€§èƒ½ï¼Œä¸ç®¡æ˜¯æ”»å‡»æ–¹æ³•è¿˜æ˜¯æ”»å‡»ä»£ç†æ¨¡å‹"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230814122745635.png" alt="è¡¨6ï¼Œç½‘ç»œä¾µèš€çš„æˆåŠŸç‡ã€‚åŒ…æ‹¬åŒ…å«ä¸­é—´ç‰¹å¾åˆ†ç±»å™¨æˆ–éšæœºå±‚çš„é›†æˆçš„æˆåŠŸç‡ï¼ŒåŒ…æ‹¬éšå³ç¼©æ”¾RSã€ç‰¹å¾å¹³æ»‘FSå’Œçº§è”ç»„CG"></p>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> ç›®æ ‡æ£€æµ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]åŸºäºå¹³å‡æ¢¯åº¦çš„å¯¹æŠ—æ”»å‡»-I-FAGSM</title>
      <link href="/article/4c9ebfef/"/>
      <url>/article/4c9ebfef/</url>
      
        <content type="html"><![CDATA[<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š<a href="https://ieeexplore.ieee.org/document/10065458/">Average gradient-based adversarial attack</a></p><p>æ—¥æœŸï¼š2023-03</p><p>å…³é”®è¯ï¼šAdversarial Attackï¼Œ black-box attack, dynamic set of daversarial examples</p><p>å‡ºå¤„ï¼šIEEE Trans. Multimedia</p></blockquote><h1 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„åŸºäºå¹³å‡æ¢¯åº¦çš„å¯¹æŠ—æ”»å‡»ã€‚åœ¨æˆ‘ä»¬æå‡ºçš„æ–¹æ³•ä¸­ï¼Œé€šè¿‡åˆ©ç”¨è¿‡å»æ¯æ¬¡è¿­ä»£çš„æ¢¯åº¦ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­é¦–å…ˆæ„å»ºä¸€ä¸ªåŠ¨æ€çš„å¯¹æŠ—æ ·æœ¬é›†ï¼Œç„¶åæ ¹æ®æŸå¤±å‡½æ•°å…³äºæ‰€æ„é€ çš„åŠ¨æ€é›†å’Œå½“å‰å¯¹æŠ—æ ·æœ¬ä¸­æ‰€æœ‰æ ·æœ¬çš„æ¢¯åº¦ï¼Œå¯ä»¥è®¡ç®—å‡ºå¹³å‡æ¢¯åº¦ï¼Œç”¨äºç¡®å®šæ‰€æ·»åŠ çš„æ‰°åŠ¨ã€‚</p><p>ä¸ç°æœ‰çš„å¯¹æŠ—æ”»å‡»ä¸åŒï¼Œæ‰€æå‡ºçš„åŸºäºå¹³å‡æ¢¯åº¦çš„æ”»å‡»é€šè¿‡ä¸€ä¸ªåŠ¨æ€çš„å¯¹æŠ—æ ·æœ¬é›†æ¥ä¼˜åŒ–æ·»åŠ çš„æ‰°åŠ¨ï¼Œå…¶ä¸­åŠ¨æ€é›†çš„å¤§å°éšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ è€Œå¢åŠ ã€‚è¯¥æ–¹æ³•å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œå¯ä»¥é›†æˆåˆ°å¤§å¤šæ•°ç°æœ‰çš„åŸºäºæ¢¯åº¦çš„æ”»å‡»ä¸­ã€‚</p><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ç°æœ‰çš„æ•°æ®å¢å¼ºç­–ç•¥å¤§å¤šæ˜¯é€šè¿‡ä½¿ç”¨ä¸€äº›æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯å¯¹è¾“å…¥æ ·æœ¬è¿›è¡Œè½¬æ¢æ¥å®ç°çš„ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å¼•å…¥åˆ°ä¸Šè¿°åŸºäºæ¢¯åº¦çš„æ”»å‡»ä¸­ã€‚</p><p>åŸºäºå¹³å‡æ¢¯åº¦çš„æ”»å‡»å¯ä»¥çœ‹ä½œæ˜¯åŸºäºé«˜çº§æ¢¯åº¦è®¡ç®—çš„æ”»å‡»å’ŒåŸºäºæ•°æ®å¢å¼ºçš„å¯¹æŠ—æ”»å‡»çš„ç»“åˆã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨åŸºäºæ¢¯åº¦çš„å¯¹æŠ—æ”»å‡»ä¸­å¼•å…¥ä¸€ä¸ªæ–°çš„å¹³å‡æ¢¯åº¦é¡¹ï¼Œå®ƒå¯ä»¥å¸®åŠ©ç¨³å®šæ‰°åŠ¨çš„æ›´æ–°æ–¹å‘ï¼Œé¿å…é™·å…¥äº¤å‰çš„å±€éƒ¨æœ€ä¼˜ã€‚</p><p>å…¶æ¬¡ï¼Œä¸åŒäºç°æœ‰çš„æ•°æ®å¢å¼ºç­–ç•¥ï¼Œä½¿ç”¨ç»å…¸çš„æ•°å­—å›¾åƒå¤„ç†å¥‡æ•°å¯¹è¾“å…¥æ ·æœ¬è¿›è¡Œå˜æ¢ï¼Œæˆ‘ä»¬æå‡ºçš„æ–¹æ³•ä½¿ç”¨è¿‡å»è¿­ä»£ä¸­è·å¾—çš„å¹³å‡æ¢¯åº¦å¯¹è¾“å…¥æ ·æœ¬è¿›è¡Œå˜æ¢ï¼Œä»è€Œå½¢æˆå¯¹æŠ—ç©ºé—´æ¥å¢å¼ºç®—æ³•çš„æ³›åŒ–èƒ½åŠ›ã€‚</p><p>è´¡çŒ®ï¼š</p><ul><li>é€šè¿‡å……åˆ†åˆ©ç”¨è¿‡å»è¿­ä»£ä¸­çš„æ¢¯åº¦ä¿¡æ¯ï¼Œåœ¨å½“å‰è¿­ä»£ä¸­æ„å»ºä¸€ä¸ªåŠ¨æ€çš„å¯¹æŠ—æ ·æœ¬é›†ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§æ–°çš„æ•°æ®å¢å¼ºç­–ç•¥ã€‚</li><li>é€šè¿‡ç»“åˆæŸå¤±å‡½æ•°å…³äºåŠ¨æ€é›†åˆä¸­æ‰€æœ‰æ ·æœ¬å’Œå½“å‰å¯¹æŠ—æ ·æœ¬çš„æ¢¯åº¦ï¼Œå¯ä»¥è®¡ç®—å‡ºå¹³å‡æ¢¯åº¦é¡¹ï¼Œå¯è§†ä¸ºä¸€ç§æ–°çš„é«˜çº§æ¢¯åº¦è®¡ç®—ç­–ç•¥ã€‚</li><li>æ‰€æå‡ºçš„å¹³å‡æ¢¯åº¦é¡¹å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°é›†æˆåˆ°å¤§å¤šæ•°ç°æœ‰çš„åŸºäºæ¢¯åº¦çš„æ”»å‡»ä¸­ï¼Œå½¢æˆä¸€ç³»åˆ—æ–°çš„å¼ºå¤§çš„æ”»å‡»ï¼Œè€Œä¸éœ€è¦å¼•å…¥ä»»ä½•æ–°çš„è¶…å‚æ•°ã€‚</li><li>æœ¬è®ºæ–‡æ‰€æå‡ºçš„åŸºäºå¹³å‡æ¢¯åº¦çš„æ”»å‡»èƒ½å¤Ÿå–å¾—è¾ƒé«˜çš„æ”»å‡»æˆåŠŸç‡ï¼Œç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬è¡¨ç°å‡ºè‰¯å¥½çš„å¯ç§»æ¤æ€§ã€‚</li></ul><h1 id="ç ”ç©¶æ–¹æ³•"><a href="#ç ”ç©¶æ–¹æ³•" class="headerlink" title="ç ”ç©¶æ–¹æ³•"></a>ç ”ç©¶æ–¹æ³•</h1><h2 id="æå‡ºæ–¹æ¡ˆ"><a href="#æå‡ºæ–¹æ¡ˆ" class="headerlink" title="æå‡ºæ–¹æ¡ˆ"></a>æå‡ºæ–¹æ¡ˆ</h2><p>è®¾$x$ä¸ºåŸå§‹æ ·æœ¬ï¼Œ$y$ä¸ºä¸$x$ç›¸å…³çš„æ ‡ç­¾ï¼Œ$T$ä¸ºè¿­ä»£æ¬¡æ•°ï¼Œ$Î±$ä¸ºå°æ­¥é•¿ï¼Œ$x_T^{adv}$ä¸ºè·å¾—çš„å¯¹æŠ—æ ·æœ¬ã€‚$x_T^{adv}$æ˜¯åœ¨åŸç®—ä¾‹$x$ï¼ˆå³$x_0^{adv}$ï¼‰çš„åŸºç¡€ä¸ŠåŠ å…¥æ‰°åŠ¨åå¾—åˆ°çš„ã€‚</p><p>æ”¹è¿›æ¢¯åº¦å’Œæ•°æ®å¢å¼ºæ˜¯æé«˜å¯¹æŠ—æ ·æœ¬å¯è¿ç§»æ€§çš„ä¸¤ç§ä¸»è¦ç­–ç•¥ã€‚æ‰€ææ”»å‡»å¯è§†ä¸ºåŸºäºé«˜çº§æ¢¯åº¦è®¡ç®—çš„æ”»å‡»çš„ç»„åˆã€‚åœ¨æœ¬è®ºæ–‡çš„æ–¹æ¡ˆä¸­ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­é¦–å…ˆæ„é€ ä¸€ä¸ªåŠ¨æ€çš„å¯¹æŠ—æ ·æœ¬é›†ï¼Œè¿™äº›æ ·æœ¬å®é™…ä¸Šä¸è¾“å…¥æ ·æœ¬éå¸¸ç›¸ä¼¼ï¼Œå¹¶ç”¨ä½œæ•°æ®å¢å¼ºæ ·æœ¬ã€‚</p><p>ç„¶åï¼Œå°†æŸå¤±å‡½æ•°å…³äºå½“å‰ç¤ºä¾‹å’ŒåŠ¨æ€é›†ä¸­ç¤ºä¾‹çš„å¹³å‡æ¢¯åº¦ä½œä¸ºæ–°çš„é«˜çº§æ¢¯åº¦é¡¹åº”ç”¨åˆ°æˆ‘ä»¬çš„ç®—æ³•ä¸­ã€‚ä¸å¤±ä¸€èˆ¬æ€§ï¼Œæˆ‘ä»¬å‡è®¾å½“å‰è¿­ä»£ä¸ºç¬¬$t$æ¬¡è¿­ä»£ï¼Œå¾…ç”Ÿæˆçš„åŠ¨æ€é›†åˆç”¨$S_t$è¡¨ç¤ºã€‚</p><h3 id="å®šä¹‰1-å¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆ"><a href="#å®šä¹‰1-å¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆ" class="headerlink" title="å®šä¹‰1. å¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆ"></a>å®šä¹‰1. å¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆ</h3><p>åŠ¨æ€çš„å¯¹æŠ—å®ä¾‹é›†$S_t={\tilde{x}^{adv}_t[0],\tilde{x},\tilde{x}^{adv}_t[1],â€¦,\tilde{x}^{adv}_t[t-1]}$ç”±$t$ä¸ªä¸´æ—¶å¯¹æŠ—&gt;æ ·æœ¬ç»„æˆï¼Œç”±ä¸‹å¼è®¡ç®—ï¼š</p><ul><li><p>$\tilde{x}^{adv}<em>t[i]=x^{adv}</em>{t-1}+Î±Â·\frac{\bar{A_i}}{||\bar{A_i}||_1}$ï¼Œ(1)</p><ul><li>$\tilde{x}^{adv}_{t-1}$æ˜¯åœ¨$(t-1)$æ¬¡è¿­ä»£ä¸­å¾—åˆ°çš„å¯¹æŠ—æ ·æœ¬</li></ul></li><li>$\tilde{A_i}$æ˜¯åœ¨ç¬¬$i$æ¬¡$(0â‰¤iâ‰¤t-1)$æ¬¡è¿­ä»£ä¸­å¾—åˆ°çš„å¹³å‡æ¢¯åº¦</li></ul><p>å¦‚å¼(1)æ‰€ç¤ºï¼Œå¯¹å¯¹æŠ—æ ·æœ¬${x}^{adv}_{t-1}$æ·»åŠ å½’ä¸€åŒ–å¹³å‡æ¢¯åº¦$\frac{\bar{A_i}}{||\bar{A_i}||_1}(0â‰¤iâ‰¤t-1)$ï¼Œå¯ä»¥å¾—åˆ°ç”±$t$ä¸ªä¸´æ—¶æ ·æœ¬ç»„æˆçš„åŠ¨æ€é›†åˆ$S_t={\tilde{x}^{adv}_t[0],\tilde{x},\tilde{x}^{adv}_t[1],â€¦,\tilde{x}^{adv}_t[t-1]}$ã€‚é€šè¿‡å……åˆ†åˆ©ç”¨è¿‡å»æ¯æ¬¡è¿­ä»£çš„æ¢¯åº¦æ¥æ„é€ å¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆï¼Œå¯è§†ä¸ºä¸€ç§æ–°çš„æ•°æ®å¢å¼ºç­–ç•¥ã€‚æ¯æ¬¡è¿­ä»£ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆå¦‚å›¾ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813223906192.png" alt="æ¯æ¬¡è¿­ä»£ä¸­ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å’Œå¯¹æŠ—æ ·æœ¬çš„åŠ¨æ€é›†åˆ"></p><p>å…¶ä¸­å¯¹æŠ—æ ·æœ¬ï¼ˆåŒ…æ‹¬åŸå§‹è¾“å…¥æ ·æœ¬$x^{adv}<em>0$ï¼‰ï¼Œä¸€äº›ä¸­é—´æ ·æœ¬${x^{adv}_1ï¼Œx^{adv}_2ï¼Œâ€¦x^{adv}</em>{T-1}}$å’Œæœ€ç»ˆæ ·æœ¬$x^{adv}<em>T$å’ŒåŠ¨æ€é›†ï¼ˆåŒ…æ‹¬$S_0,S_1,â€¦,S</em>{T-1}$ï¼‰åˆ†åˆ«åŒ…æ‹¬åœ¨ç»¿è‰²è™šçº¿å’Œç´«è‰²è™šçº¿æ¡†ä¸­ã€‚å¯ä»¥è§‚å¯Ÿåˆ°åœ¨åˆçº§é˜¶æ®µï¼ˆ$t=0$ï¼‰ï¼ŒåŠ¨æ€é›†$S_0=\emptyset$ï¼Œåœ¨ç¬¬$t$æ¬¡è¿­ä»£ä¸­ï¼ŒåŠ¨æ€é›†$S_t$ä¸­æœ‰$t$ä¸ªä¸´æ—¶å¯¹æŠ—æ ·æœ¬ã€‚</p><h3 id="å®šä¹‰2-å¹³å‡æ¢¯åº¦"><a href="#å®šä¹‰2-å¹³å‡æ¢¯åº¦" class="headerlink" title="å®šä¹‰2. å¹³å‡æ¢¯åº¦"></a>å®šä¹‰2. å¹³å‡æ¢¯åº¦</h3><p>å¦‚å‰æ‰€è¿°ï¼Œåœ¨ç¬¬$t$æ¬¡è¿­ä»£ä¸­ï¼Œå­˜åœ¨$(t+1)$ä¸ªå¯¹æŠ—æ ·æœ¬ï¼Œå³å½“å‰æ ·æœ¬$x^{adv}<em>t$å’Œå…¶ä»–$t$ä¸ªä¸´æ—¶æ ·æœ¬$\tilde{x}^{adv}_t[0],\tilde{x},\tilde{x}^{adv}_t[1],â€¦,\tilde{x}^{adv}_t[t-1]$ã€‚æŸå¤±å‡½æ•°å…³äºå½“å‰ç¤ºä¾‹$x^{adv}_t$å’Œä¸´æ—¶ç¤ºä¾‹$\tilde x^{adv}_t<a href="0\leq i \leq t-1">i</a>$çš„æ¢¯åº¦åˆ†åˆ«ç”¨$\nabla</em>{x^{adv}_t}L(x^{adv}_t,y)$å’Œ$\nabla*{\tilde x^{adv}_t}L(\tilde x^{adv}_t,y)$è¡¨ç¤ºã€‚</p><p>ç¬¬$t$æ¬¡è¿­ä»£çš„å¹³å‡æ¢¯åº¦$\bar A_t$è®¡ç®—ä¸ºä¸‹å¼ï¼š</p><p>$\bar A<em>t=\begin{cases}\nabla</em>{x<em>0^{adv}}L(x_0^{adv},y)&amp;\text{t=0}\ \frac{1}{t+1}[\nabla</em>{x<em>t^{adv}}L(x^{adv}<em>t,y)+\sum \limits</em>{i=0}^{t-1}\nabla</em>{\tilde x_t^{adv}[i]}L(\tilde x_t^{adv}[i],y)] &amp;\text{tâ‰¥1}\end{cases}$ï¼Œ(2)</p><p>åœ¨ç¬¬1æ¬¡è¿­ä»£ï¼ˆ$t=0$ï¼‰ä¸­ï¼Œç”±äºæ²¡æœ‰ä¸´æ—¶å¯¹æŠ—æ ·æœ¬ï¼Œä¸”åŠ¨æ€é›†åˆ$S0=\emptyset$ï¼Œå› æ­¤å¹³å‡æ¢¯åº¦$\tilde{A<em>0}$ç­‰äº$\nabla</em>{x_0^{adv}}L(x^{adv}_0,y)$ã€‚å¦‚å¼(2)ï¼Œéšç€è¿­ä»£æ¬¡æ•°$T$çš„å¢åŠ ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¾‹å­è¢«è€ƒè™‘åˆ°è®¡ç®—å¹³å‡æ¢¯åº¦$A_t$ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œèåˆæ›´å¤šç¤ºä¾‹çš„æ¢¯åº¦ä¸€èˆ¬å¯ä»¥æé«˜æ³›åŒ–æ€§ã€‚</p><p>å¯¹äºå¦‚ä½•åœ¨ç¬¬$t$æ¬¡è¿­ä»£ä¸­è·å¾—å¯¹æŠ—æ ·æœ¬$x_{t+1}^{adv}$ï¼Œç”±ä¸‹å¼å¾—å‡ºï¼š</p><p>$g_{t+1}=\muÂ·g_t+\frac{\bar A_t}{||\bar A_t||_t}$ï¼Œ(3)</p><p>$x^{adv}_{t+1}=Clip^\epsilon_x {x^{adv}<em>t+Î±Â·sign(g</em>{t+1})}$ï¼Œ(4)</p><p>å…¶ä¸­$g<em>0=0$ï¼Œ$\bar A_t$ä¸ºç¬¬$t$æ¬¡è¿­ä»£å¾—åˆ°çš„å¹³å‡æ¢¯åº¦ï¼Œ$g_t$ä¸ºè¿­ä»£$t$æ—¶å½’ä¸€åŒ–å¹³å‡æ¢¯åº¦çš„ç´¯åŠ ï¼Œ$Î¼$ä¸ºè¡°å‡å› å­ã€‚åœ¨æœ¬è®ºæ–‡æ–¹æ³•ä¸­ï¼Œé¦–å…ˆå¯¹å¹³å‡æ¢¯åº¦$A_t$è¿›è¡Œå½’ä¸€åŒ–ï¼Œç„¶åç»“åˆç´¯åŠ æ¢¯åº¦$g_t$æ¥æ›´æ–°æ¢¯åº¦$g</em>{t+1}$ï¼Œå¦‚å¼(3)æ‰€ç¤ºã€‚æœ€åï¼Œæ ¹æ®æ¢¯åº¦$g<em>{t+1}$å¯ä»¥ç”Ÿæˆå¼(14)æ‰€ç¤ºçš„å¯¹æŠ—æ ·æœ¬$x^{adv}</em>{t+1}$ã€‚å¯ä»¥çœ‹å‡ºï¼Œåœ¨æœ¬æ–¹æ¡ˆä¸­ï¼Œå¢åŠ çš„æ‰°åŠ¨ä¸»è¦ç”±å½’ä¸€åŒ–å¹³å‡æ¢¯åº¦çš„ç´¯åŠ å†³å®šï¼Œè¿™å¯ä»¥è¢«è®¤ä¸ºæ—¶ä¸€ç§æ–°çš„é«˜çº§æ¢¯åº¦è®¡ç®—ç­–ç•¥ã€‚</p><h3 id="MI-FAGSMç®—æ³•"><a href="#MI-FAGSMç®—æ³•" class="headerlink" title="MI-FAGSMç®—æ³•"></a>MI-FAGSMç®—æ³•</h3><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813223937572.png" alt="Untitled"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨ç¬¬$t$æ¬¡è¿­ä»£ä¸­ç”Ÿæˆ$t$ä¸ªä¸´æ—¶æ ·æœ¬ï¼Œæ€»å…±éœ€è¦ç”Ÿæˆ$\sum \limits<em>{i=0}^{T-1}i$ä¸ªä¸´æ—¶æ ·æœ¬æ‰èƒ½å¾—åˆ°æœ€ç»ˆçš„å¯¹æŠ—æ ·æœ¬$x_T^{adv}$ï¼Œé™¤äº†è®¡ç®—æŸå¤±å‡½æ•°å…³äº$T$ä¸ªå¯¹æŠ—æ ·æœ¬ï¼ˆå³$x^{adv}_0ï¼Œx^{adv}_1ï¼Œâ€¦ï¼Œx^{adv}</em>{T-1}$ï¼‰çš„æ¢¯åº¦å¤–ï¼Œè¿˜éœ€è¦è®¡ç®—æŸå¤±å‡½æ•°å…³äº$\sum\limits<em>{i=0}^{T-1}i$ä¸ªä¸´æ—¶æ ·æœ¬çš„æ¢¯åº¦ã€‚å› æ­¤ï¼Œç”Ÿæˆå¯¹æŠ—æ ·æœ¬$x_T^{adv}$çš„æ¢¯åº¦è®¡ç®—æ€»æ•°ä¸º$\sum \limits</em>{i=1}^Ti$ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œåœ¨åŸºäºæ¢¯åº¦çš„æ”»å‡»ä¸­ï¼Œæ¢¯åº¦è®¡ç®—æ¬¡æ•°æ˜¯è¡¡é‡æ”»å‡»ç®—æ³•æ—¶é—´å¤æ‚åº¦çš„ä¸»è¦å› ç´ ã€‚</p><h2 id="å»¶å±•æ€§"><a href="#å»¶å±•æ€§" class="headerlink" title="å»¶å±•æ€§"></a>å»¶å±•æ€§</h2><p>ä¸MI-FGSMç›¸æ¯”ï¼Œæˆ‘ä»¬æå‡ºçš„æ–¹æ³•å°†å½“å‰æ¢¯åº¦$\nabla_{x^{adv}_t}L(x_t^{adv},y)$æ›¿æ¢ä¸ºå¹³å‡æ¢¯åº¦$\bar A_t$ã€‚</p><blockquote><p>MI-FGSMï¼š$g<em>{t+1}=\muÂ·g_t+\frac{\nabla</em>{x^{adv}_t}L(x^{adv}_t,y)}{||\nabla L(x^{adv}_t,y)||_1}$</p><p>MI-FAGSMï¼š$g_{t+1}=\muÂ·g_t+\frac{\bar A_t}{||\bar A_t||_1}$</p></blockquote><p>æå‡ºçš„å¹³å‡æ¢¯åº¦é¡¹å¯ä»¥å¾ˆå®¹æ˜“åœ°å¼•å…¥åˆ°åŸºäºæ¢¯åº¦çš„å¯¹æŠ—æ”»å‡»ä¸­ï¼Œå³åœ¨MI-FGSMã€NI-FGSMã€PI-FGSMå¼•å…¥å¹³å‡æ¢¯åº¦é¡¹ï¼Œå¾—åˆ°MI-FAGSMã€NI-FAGSMã€PI-FAGSMã€‚</p><p>æœ¬ç®—æ³•ä¸­å¼•å…¥çš„å¹³å‡æ¢¯åº¦é¡¹ä¸éœ€è¦ä»»ä½•æ–°çš„è¶…å‚æ•°ï¼Œå› è€Œå¾—åˆ°çš„æ–¹æ³•ï¼ˆMI-FAGSMç­‰ï¼‰å¯ä»¥ä¸ç°æœ‰çš„ä¸€äº›æ•°æ®å¢å¼ºç­–ç•¥ï¼ˆå¦‚DIMã€TIMã€SIMç­‰ï¼‰ç›¸ç»“åˆï¼Œå¾—åˆ°ä¸€ç³»åˆ—æ–°çš„å¼ºå¤§çš„å¯¹æŠ—æ”»å‡»ã€‚æˆ–è€…å°†è¿™ä¸‰ç§æ•°æ®å¢å¼ºç­–ç•¥ä¸€èµ·å¼•å…¥MI-FAGSMä¸­ï¼Œåˆ™å¯ä»¥å¾—åˆ°ä¸€ç§æ›´å¼ºå¤§çš„å¯¹æŠ—æ”»å‡»ï¼Œç§°ä¸ºSI-TI-DIMI-FAGSMï¼Œå…¶ç®—æ³•å¦‚ä¸‹ï¼š</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813224209785.png" alt></p><p>å…¶ä¸­ï¼š</p><ul><li>$g_x,g_s,g_a$ï¼š3ä¸ªä¸­é—´å˜é‡</li><li>$p$ï¼šDIMä¸­çš„è½¬æ¢æ¦‚ç‡</li><li>$W$ï¼šTIMä¸­é«˜æ–¯æ ¸çš„å¤§å°</li><li>$m$ï¼šSIMä¸­çš„å°ºåº¦æ‹·è´æ•°</li><li>$T(x;p)$ï¼šè¡¨ç¤º$x$ä»¥æ¦‚ç‡$p$éšæœºå˜æ¢</li><li>$g=W*g$ï¼šè¡¨ç¤ºæ¢¯åº¦$g$ä¸æ ¸çŸ©é˜µ$W$å·ç§¯</li><li>$S_j(x)=x/2^j$ï¼šè¡¨ç¤ºå°ºåº¦å› å­ä¸º$1/2^j$çš„è¾“å…¥å›¾åƒ$x$çš„å°ºåº¦æ‹·è´ï¼Œ$j$å–å€¼èŒƒå›´ä¸º$0\sim(m-1)$ï¼Œ$m$è¡¨ç¤ºå°ºåº¦æ‹·è´æ•°</li></ul><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="å‚æ•°è®¾ç½®"><a href="#å‚æ•°è®¾ç½®" class="headerlink" title="å‚æ•°è®¾ç½®"></a>å‚æ•°è®¾ç½®</h2><ul><li>æœ€å¤§æ‰°åŠ¨$\epsilon=16$</li><li>è¿­ä»£æ¬¡æ•°$T=10$</li><li>æ­¥é•¿$\alpha=\epsilon/T=1.6$</li><li>è¡°å‡å› å­$\mu=1.0$</li><li>å¯¹äºæ•°æ®å¢å¼ºç­–ç•¥ï¼š<ul><li>DIMè½¬æ¢æ¦‚ç‡è®¾ç½®ä¸º$0.5$</li><li>TIMæ ¸çŸ©é˜µè®¾ç½®ä¸º$15\times 15$çš„é«˜æ–¯æ ¸</li><li>SIMçš„å°ºåº¦æ‹·è´æ•°è®¾ç½®ä¸º$3$</li></ul></li></ul><h2 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h2><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813224249925.png" alt="è¡¨1ï¼Œå¯¹æŠ—æ ·æœ¬å¯¹ä¸ƒä¸ªæ¨¡å‹çš„æ”»å‡»æˆåŠŸç‡ï¼Œ*è¡¨ç¤ºç™½ç›’æ”»å‡»"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813224308542.png" alt="è¡¨2ï¼ŒInc-V3ç”Ÿæˆå¯¹æŠ—æ ·æœ¬æ”»å‡»æˆåŠŸç‡"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813224320880.png" alt="è¡¨3&amp;4ï¼Œinc-v3ç”Ÿæˆå¯¹æŠ—æ ·æœ¬å¯¹7ä¸ªæ¨¡å‹å’Œ10ä¸ªå…ˆè¿›é˜²å¾¡æ¨¡å‹æ”»å‡»æˆåŠŸç‡"></p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813224334288.png" alt="è¡¨5&amp;6ï¼Œæ¨¡å‹é›†åˆç”Ÿæˆå¯¹æŠ—æ ·æœ¬æ”»å‡»æˆåŠŸç‡"></p><h2 id="è®¨è®º"><a href="#è®¨è®º" class="headerlink" title="è®¨è®º"></a>è®¨è®º</h2><p>æœ¬æ–¹æ³•åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½ä¼šäº§ç”Ÿä¸€ç³»åˆ—çš„ä¸´æ—¶æ ·æœ¬ï¼Œç”¨ä»¥è®¡ç®—æŸå¤±å‡½æ•°å…³äºæ‰€æœ‰ä¸´æ—¶æ ·æœ¬çš„æ¢¯åº¦ã€‚å¼•å…¥å¹³å‡æ¢¯åº¦é¡¹ä¼šå¢åŠ æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p><img src="https://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230813224350327.png" alt="å›¾3ï¼Œ æ¯æ¬¡è¿­ä»£ç”Ÿæˆ10000ä¸ªå¯¹æŠ—æ ·æœ¬çš„è¿è¡Œæ—¶é—´ã€‚"></p>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> å›¾åƒè¯†åˆ« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]å¹¶è¡ŒçŸ©å½¢ç¿»è½¬æ”»å‡»PRFA-é’ˆå¯¹ç›®æ ‡æ£€æµ‹çš„åŸºäºæŸ¥è¯¢çš„é»‘ç›’æ”»å‡»</title>
      <link href="/article/14bdc2a2/"/>
      <url>/article/14bdc2a2/</url>
      
        <content type="html"><![CDATA[<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š<a href="http://arxiv.org/abs/2201.08970">[2201.08970] Parallel Rectangle Flip Attack: A Query-based Black-box Attack against Object Detection(arCiv.rog)</a></p><p>æ—¥æœŸï¼š2022-01</p><p>å…³é”®è¯ï¼šAdversarial Attack</p><p>å‡ºå¤„ï¼šCVPR 2022</p></blockquote><h1 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h1><p>é¦–å…ˆï¼Œç›®æ ‡æ£€æµ‹åœ¨å¯¹å¯¹æŠ—æ ·æœ¬çš„è„†å¼±æ€§å°šæœªå¾—åˆ°å……åˆ†çš„ç ”ç©¶ï¼Œç‰¹åˆ«æ˜¯åœ¨é»‘ç›’æ”»å‡»çš„å®é™…åœºæ™¯ä¸‹ï¼Œæ”»å‡»è€…åªèƒ½è®¿é—®è¢«æ”»å‡»æ¨¡å‹è¿”å›çš„é¢„æµ‹çŸ©å½¢æ¡†å’Œtop1åˆ†æ•°çš„æŸ¥è¯¢åé¦ˆã€‚ä¸é’ˆå¯¹å›¾åƒåˆ†ç±»çš„é»‘ç›’æ”»å‡»ç›¸æ¯”ï¼Œé»‘ç›’æ”»å‡»å¯¹æ£€æµ‹çš„æŒ‘æˆ˜ä¸»è¦æœ‰ä¸¤ç‚¹ã€‚é¦–å…ˆï¼Œå³ä½¿ä¸€ä¸ªè¾¹ç•Œæ¡†è¢«æˆåŠŸæ”»å‡»ï¼Œä¹Ÿå¯èƒ½åœ¨è¢«æ”»å‡»è¾¹ç•Œæ¡†é™„è¿‘æ£€æµ‹åˆ°å¦ä¸€ä¸ªæ¬¡ä¼˜è¾¹ç•Œæ¡†ã€‚</p><p>å…¶æ¬¡ï¼Œå­˜åœ¨å¤šä¸ªåŒ…å›´ç›’ï¼Œå¯¼è‡´æ”»å‡»ä»£ä»·éå¸¸é«˜ã€‚</p><p>ä¸ºäº†åº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæœ¬è®ºæ–‡æå‡ºäº†ä¸€ç§åŸºäºéšæœºæœç´¢çš„å¹¶è¡ŒçŸ©å½¢ç¿»è½¬æ”»å‡»ï¼ˆPRFAï¼‰ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230808120728021.png" alt="å›¾1. æœ¬è®ºæ–‡ä½¿ç”¨åæ ‡è½´æ¥å±•ç¤ºç›®æ ‡æ£€æµ‹ä¸­å¯¹æŠ—æ”»å‡»çš„åˆ†ç±»ã€‚ä¸ç™½ç›’æ”»å‡»å’Œè¿ç§»æ”»å‡»ä¸åŒï¼ŒPRFAä»…ä¾é é¢„æµ‹æ¡†å’ŒNMSåçš„top1åˆ†æ•°è¾“å‡ºè¿›è¡Œæ— æ¢¯åº¦çš„æŸ¥è¯¢æ”»å‡»ã€‚PRFAè¿˜å¯ä»¥åŒæ—¶æ”»å‡»æ— é”šå’ŒåŸºäºé”šçš„æ¨¡å‹"></p><p>æœ¬è®ºæ–‡ï¼š</p><ul><li><p>åœ¨æ¯ä¸ªçŸ©å½¢å—ä¸­äº§ç”Ÿæ‰°åŠ¨ï¼Œä»¥é¿å…åœ¨æ”»å‡»åŒºåŸŸé™„è¿‘è¿›è¡Œæ¬¡ä¼˜æ£€æµ‹ã€‚</p><p>é¦–å…ˆéšæœºæœç´¢ä¸€ä¸ªçŸ©å½¢å—ï¼Œå¹¶ç”Ÿæˆç¬¦å·æ²¿å‚ç›´æˆ–æ°´å¹³æ–¹å‘åè½¬çš„å¯¹æŠ—æ€§æ‰°åŠ¨ï¼Œä»¥å‘ˆç°è¯¥æ”»å‡»å—ä¸­çš„ä»»ä½•æ£€æµ‹ï¼ŒåŒ…æ‹¬ä»»ä½•æ¬¡ä¼˜æ–¹æ¡ˆã€‚</p></li><li><p>åˆ©ç”¨ç™½ç›’æ”»å‡»ä¸‹å¯¹æŠ—æ‰°åŠ¨ä¸»è¦é›†ä¸­åœ¨ç‰©ä½“è½®å»“å’Œä¸´ç•Œç‚¹é™„è¿‘çš„ç‰¹ç‚¹ï¼Œç¼©å°æ”»å‡»çŸ©å½¢çš„æœç´¢ç©ºé—´ï¼Œæé«˜æ”»å‡»æ•ˆç‡ã€‚</p></li><li><p>å¼€å‘äº†ä¸€ç§åŒæ—¶æ”»å‡»å¤šä¸ªçŸ©å½¢çš„å¹¶è¡Œæœºåˆ¶ï¼Œè¿›ä¸€æ­¥åŠ é€Ÿäº†æ”»å‡»è¿‡ç¨‹ã€‚</p></li></ul><h1 id="ç›¸å…³å·¥ä½œ"><a href="#ç›¸å…³å·¥ä½œ" class="headerlink" title="ç›¸å…³å·¥ä½œ"></a>ç›¸å…³å·¥ä½œ</h1><h2 id="å¯¹è±¡æ£€æµ‹"><a href="#å¯¹è±¡æ£€æµ‹" class="headerlink" title="å¯¹è±¡æ£€æµ‹"></a>å¯¹è±¡æ£€æµ‹</h2><p>ä¸»æµçš„ç›®æ ‡æ£€æµ‹å™¨å¤§åº¦åŸºäºæ·±åº¦ç¥ç»ç½‘ç»œDNNsï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºåŸºäºé”šç‚¹å’Œæ— é”šç‚¹ä¸¤ç±»ï¼š</p><ul><li>åŸºäºé”šç‚¹çš„æ£€æµ‹å™¨å°†é¢„å®šä¹‰çš„æ»‘åŠ¨çª—å£åˆ†ä¸ºæ­£æ ·æœ¬æˆ–è´Ÿæ ·æœ¬ï¼Œç„¶åå¯¹é¢„æµ‹æ¡†è¿›è¡Œç»†åŒ–å’Œåˆ†ç±»ã€‚ç”±äºå›å½’çš„å½¢å¼ä¸åŒï¼Œåˆå¯ä»¥ç»†åˆ†ä¸ºä¸€é˜¶æ®µæ£€æµ‹å™¨å’Œä¸¤é˜¶æ®µæ£€æµ‹å™¨ã€‚</li><li>æ— é”šç‚¹çš„æ£€æµ‹å™¨èˆå¼ƒäº†é”šç‚¹ï¼Œç›´æ¥åœ¨å¯¹è±¡ä¸­å¿ƒé¢„æµ‹è¾¹ç•Œæ¡†ã€‚ç”±äºæ— é”šç‚¹çš„æ£€æµ‹å™¨ä¸éœ€è¦é¢å¤–çš„å‚æ•°è°ƒæ•´ï¼Œè¿™ç±»æ£€æµ‹å™¨å¾—åˆ°äº†å¹¿æ³›çš„æ™®åŠã€‚</li></ul><p>ç°æœ‰çš„é’ˆå¯¹ç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„å¯¹æŠ—æ”»å‡»ä¸»è¦æ˜¯ç™½ç›’æ”»å‡»ã€‚</p><h2 id="å›¾åƒåˆ†ç±»çš„é»‘ç›’æ”»å‡»"><a href="#å›¾åƒåˆ†ç±»çš„é»‘ç›’æ”»å‡»" class="headerlink" title="å›¾åƒåˆ†ç±»çš„é»‘ç›’æ”»å‡»"></a>å›¾åƒåˆ†ç±»çš„é»‘ç›’æ”»å‡»</h2><p>é»‘ç›’æ”»å‡»åŒ…æ‹¬åŸºäºä¼ è¾“çš„æ”»å‡»å’ŒåŸºäºæŸ¥è¯¢çš„æ”»å‡»ï¼Œæ”»å‡»è€…é€šè¿‡è®¿é—®æ¨¡å‹çš„è¾“å‡ºå’Œä¿®é¥°æ”¹æ€§å¹²å‡€å›¾åƒæ¥è·å–å¯¹æŠ—æ ·æœ¬ï¼Œé‡‡ç”¨å¯è¿ç§»çš„æ”»å‡»ç­–ç•¥ï¼Œå¯ä»¥è®­ç»ƒä¸€ä¸ªæ›¿ä»£æ¨¡å‹æ›¿ä»£ç›®æ ‡æ¨¡å‹å¾—åˆ°å¯¹æŠ—æ¢¯åº¦ã€‚</p><p>ä¸å›¾åƒåˆ†ç±»ä¸åŒï¼Œç›®æ ‡æ£€æµ‹çš„ä¼˜åŒ–é—®é¢˜æ˜¯å¤æ‚çš„ã€‚å‡è®¾$d$è¡¨ç¤ºä¸€å¹…å›¾åƒçš„åƒç´ ä¸ªæ•°ï¼Œæ¯ä¸ªå€™é€‰åŒºåŸŸç”±ä¸¤ä¸ªåƒç´ /åæ ‡å†³å®šï¼Œç›®æ ‡æ£€æµ‹çš„å¤æ‚åº¦ä¸º$O(d^2)$ï¼Œåˆ†ç±»çš„å¤æ‚åº¦ä¸º$O(d)$ã€‚æ£€æµ‹å™¨çš„è¾“å‡ºä¸ºNMSåçš„é¢„æµ‹æ¡†å’Œtop-1å¾—åˆ†ï¼Œä½¿å¾—å¯¹ç›®æ ‡æ£€æµ‹çš„é»‘ç›’æ”»å‡»æ›´åƒæ˜¯ä¸€ä¸ªä»‹äºåŸºäºå¾—åˆ†å’ŒåŸºäºå†³ç­–ä¹‹é—´çš„ä¸­é—´è®¾ç½®ã€‚å¦‚ä½•åˆ©ç”¨æœ‰é™çš„ä¿¡æ¯å’Œå¯¹æ£€æµ‹å™¨çš„æŸ¥è¯¢å®ç°æœ‰æ•ˆçš„æ”»å‡»æ˜¯æˆ‘ä»¬çš„ç ”ç©¶é‡ç‚¹ã€‚</p><h1 id="å¹¶è¡ŒçŸ©å½¢ç¿»è½¬æ”»å‡»"><a href="#å¹¶è¡ŒçŸ©å½¢ç¿»è½¬æ”»å‡»" class="headerlink" title="å¹¶è¡ŒçŸ©å½¢ç¿»è½¬æ”»å‡»"></a>å¹¶è¡ŒçŸ©å½¢ç¿»è½¬æ”»å‡»</h1><h2 id="ç•Œå®šé—®é¢˜"><a href="#ç•Œå®šé—®é¢˜" class="headerlink" title="ç•Œå®šé—®é¢˜"></a>ç•Œå®šé—®é¢˜</h2><p>å‡è®¾ä¸€å‰¯åŸå§‹å›¾åƒ$x$æœ‰$M$ä¸ªè¯†åˆ«å¯¹è±¡$O={o_1,o_2â€¦,o_M}$ï¼Œå¯¹äºæ¯ä¸€ä¸ªå¯¹è±¡$O_m$ï¼Œ$m=1,2,â€¦,M$ï¼Œç”¨çœŸå®è¾¹ç•Œæ¡†$g_m$å’Œç±»æ ‡$y_m\in{1,2,â€¦,Y}$æ ‡è®°ï¼Œå…¶ä¸­$Y$ä¸ºç±»çš„ä¸ªæ•°ã€‚ç›®æ ‡æ£€æµ‹å™¨$f(x)\in R^{N\times(4+1)}$é¢„æµ‹é¢„æµ‹æ¡†$b_n$ï¼Œ$n=1,2,â€¦,N$å’Œtop-1æ ‡ç­¾$c_n$ï¼Œ$n=1,2,â€¦,N$ï¼Œ$N$ä¸ªç›®æ ‡çš„å¾—åˆ†$f_C$ï¼ˆå¯¹é¢„æµ‹æ ‡ç­¾$C$è¿›è¡Œsoftmaxå½’ä¸€åŒ–åçš„æ¦‚ç‡ï¼‰</p><p>ç”Ÿæˆå¯¹æŠ—æ ·æœ¬$\hat{x}\in[0,1]^d$ï¼Œå¯¹äºåŸå§‹å›¾åƒ$x$ï¼Œå°†å…¶è§†ä¸º$l_p-norm$$=\epsilon$çš„å¯¹æŠ—æ ·æœ¬ï¼Œå³$||\hat{x}-x||_p&lt;\epsilon$ï¼Œç›®æ ‡æ˜¯ä½¿æ‰€æœ‰é¢„æµ‹æ¡†å’ŒçœŸå®æ¡†çš„IoUå°äºæŸä¸ªé˜ˆå€¼æˆ–é¢„æµ‹æ¡†çš„æ ‡ç­¾è¢«é”™è¯¯åˆ†ç±»ï¼Œå³$\forall n\in N,\ \forall m\in M,\ (IoU(b_n,g_m)&lt;threshold)\vee(c_nâ‰ y_m)$ã€‚å…¶ä¸­ï¼ŒIoUåˆ†æ•°æ˜¯ç›®æ ‡æ£€æµ‹çš„æ ‡å‡†æ€§èƒ½æŒ‡æ ‡ï¼Œå³$\mathsf{IoU}(a,b)=(a\cap b)/(a\cup b)$ï¼Œæ£€æµ‹ä»»åŠ¡çš„é˜ˆå€¼è®¾ä¸º$0.5$ã€‚</p><p>å¯»æ‰¾$\hat{x}$çš„ä»»åŠ¡å¯ä»¥è¡¨è¿°ä¸ºæ±‚è§£ä¸‹é¢çš„ä¼˜åŒ–å‡½æ•°ï¼š</p><p>$\begin{split} \arg\min<em>{\hat{ x}âˆˆ[0,1]^d} H(f (\hat{ x}), B, Y ) = \sum \limits</em>{ n=1}^N\sum \limits ^ M  <em>{m=1} [IoU(b_n, g_m) Â· \mathbb{1}</em>{f<em>{c_n} â‰¥Î¶} +\ Î» Â· (f</em>{c<em>n} âˆ’ \max \limits</em>{ C â‰ y_m} f_C ) Â· \mathbb{1}<em>{f</em>{c_n} &lt;Î¶} ],\  s.t. ||\hat{ x} âˆ’ x||<em>p â‰¤\epsilon  , f</em>{c_n} = f_C (\hat x, b_n)\end{split}$ï¼Œ(1)</p><p>å…¶ä¸­ï¼š</p><ul><li>$\mathbb{1}$è¡¨ç¤ºæŒ‡ç¤ºå‡½æ•°ã€‚å¦‚æœ$a$ä¸ºå¸§ï¼Œåˆ™$\mathbb{1}_a=1$ï¼Œå¦åˆ™ä¸º0ã€‚</li></ul><p>ç”±äºæ”»å‡»æ»¡è¶³ç­‰å¼ä¸­çš„ä¸€ä¸ªæ¡ä»¶ã€‚å¼(1)ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨top1åˆ†æ•°$f_{c_n}$ä½œä¸ºåˆ¤æ–­ä¼˜åŒ–å…¬å¼ä¹‹ä¸€ã€‚å…·ä½“æ¥è¯´å½“top-1åˆ†æ•°å¤§äºé˜ˆå€¼$Î¶$æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘é™ä½ç›¸åº”é¢„æµ‹æ¡†å’ŒçœŸå®å€¼çš„IoUï¼Œå½“å°äºå…¶æ—¶ï¼Œæˆ‘ä»¬ä¼˜åŒ–top1åˆ†æ•°ã€‚</p><p>æœ¬è®ºæ–‡æå‡ºäº†ä¸€ç§åŸºäºç±»åˆ«çš„ä¼˜åŒ–å‡½æ•°ï¼Œå°†é¢„æµ‹æ¡†å’ŒçœŸå®å€¼åœ¨åŒä¸€ç±»åˆ«ä¸‹è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶å°†è®¡ç®—å¤æ‚åº¦è®¾ç½®ä¸º$O(M*N/|Y|)$ã€‚ç”±äºæ£€æµ‹æ•°æ®é›†çš„ç±»åˆ«å¤ªå¤šï¼Œè¿™æ ·ä¼šå¤§å¤§æé«˜ä¸€æ¬¡æŸ¥è¯¢çš„é€Ÿåº¦ã€‚$(N|y)$è¡¨ç¤ºæ ‡å·ä¸º$y$çš„å¯¹è±¡çš„ç´¢å¼•é›†åˆï¼Œå³$(N|y)={i|c_i=y,i=1,2,â€¦,N}$ã€‚æ–°çš„ä¼˜åŒ–å‡½æ•°$H$å¦‚ä¸‹ï¼š</p><p>$\begin{split}\arg\min \limits<em>{\hat{x}âˆˆ[ 0 , 1]^d} \sum \limits</em>{y = 1}^Y\sum \limits^{ ( N | y )}<em>{n = 1 }\sum \limits^{( M | y )}</em>{m = 1}[ IoU( b<em>n , gm) Â· \mathbb{1}<em>{f</em>{c_n}â‰¥Î¶} + \ Î» Â· ( f</em>{c<em>n = y} ( \hat{x} , b_n )-\max\limits</em>{ Câ‰  y} f_C ) Â· \mathbb{1}<em>{f</em>{c_n} &lt; Î¶}],\ s.t. || \hat{x}-x || <em>pâ‰¤\epsilon,\ f</em>{c_n} = f_C( \hat{ x} , b_n )\end{split}$ ï¼Œ(2)</p><h2 id="Priors-amp-Objectness"><a href="#Priors-amp-Objectness" class="headerlink" title="Priors&amp;Objectness"></a>Priors&amp;Objectness</h2><p>æœ¬è®ºæ–‡åˆ©ç”¨æ£€æµ‹å™¨çš„å…ˆéªŒä¿¡æ¯å’Œç™½ç›’æ”»å‡»ä¸‹çš„å…ˆéªŒè§‚æµ‹æ¥å‡å°‘éšæœºæœç´¢ç©ºé—´ã€‚</p><p>è™½ç„¶åŸºäºé”šç‚¹å’Œæ— é”šç‚¹çš„æ¨¡å‹åœ¨é”šç‚¹ä¸Šæœ‰ç€æœ¬è´¨ä¸åŒï¼Œä½†æ˜¯éƒ½è€ƒè™‘äº†é¢„æµ‹çš„å®¢è§‚æ€§ã€‚Objectnessï¼ˆå¯¹è±¡åº¦ï¼Ÿï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡åœ¨æ„Ÿå…´è¶£åŒºåŸŸä¸­å­˜åœ¨çš„æ¦‚ç‡çš„åº¦é‡ã€‚å¦‚æœå¯¹è±¡åº¦è¾ƒé«˜ï¼Œåˆ™æ„å‘³ç€å›¾åƒçª—å£å¯èƒ½åŒ…å«ä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬æ”»å‡»çš„æ˜¯å…·æœ‰é«˜å¯¹è±¡åº¦çš„åŒºåŸŸè€Œä¸æ˜¯æ•´å¹…å›¾åƒã€‚</p><p>æ­¤å¤–æœ¬è®ºæ–‡ä½¿ç”¨DAGå’ŒUEAæ–¹æ³•æ¥è§‚å¯Ÿå¯¹æŠ—æ‰°åŠ¨åœ¨ä¸åŒæ¨¡å‹ä¸Šçš„åˆ†å¸ƒã€‚å°½ç®¡æ”»å‡»æ‰‹æ®µå’Œç›®æ ‡æ¨¡å‹ä¸åŒï¼Œä½†æ‰°åŠ¨çš„åˆ†å¸ƒéƒ½é›†ä¸­åœ¨ç›®æ ‡çš„å…³é”®åŒºåŸŸæˆ–è½®å»“ä¸Šã€‚</p><p>æœ¬è®ºæ–‡ä½¿ç”¨é¢„æµ‹æ¡†æˆ–å…ˆéªŒä¿¡æ¯è®¡ç®—ä¸€ä¸ªé«˜å¯¹è±¡åº¦çš„åŒºåŸŸï¼Œå¹¶åœ¨è¯¥åŒºåŸŸè¿›è¡Œéšå³æœç´¢ã€‚æœ¬è®ºæ–‡é€šè¿‡éšæœºæŠ½æ ·äº§ç”ŸçŸ©å½¢æ‰°åŠ¨ä¼˜åŒ–æ–¹ç¨‹(2)ï¼Œè¯¥æ‰°åŠ¨åœ¨ä½ç½®åˆ†å¸ƒä¸Šä¸ç™½ç›’æ¯”è¾ƒæ¥è¿‘ã€‚</p><p>ä¸‰ç§è®¡ç®—å¯¹è±¡åº¦çš„æ–¹æ³•ï¼š</p><ul><li>åŸºäºé”šç‚¹çš„å…ˆéªŒï¼ˆMask-RCNNçš„åˆ†å‰²ç»“æœï¼‰</li><li>æ— é”šç‚¹çš„å…ˆéªŒï¼ˆå…³é”®ç‚¹è¡¨ç¤ºæ¥è‡ªRepPointsï¼‰</li><li>é¢„æµ‹æ¡†ï¼ˆæ¢æµ‹å™¨çš„è¾“å‡ºï¼‰</li></ul><h2 id="å¹¶è¡Œæ”»å‡»åŠ é€Ÿå¹¿åº¦æœç´¢"><a href="#å¹¶è¡Œæ”»å‡»åŠ é€Ÿå¹¿åº¦æœç´¢" class="headerlink" title="å¹¶è¡Œæ”»å‡»åŠ é€Ÿå¹¿åº¦æœç´¢"></a>å¹¶è¡Œæ”»å‡»åŠ é€Ÿå¹¿åº¦æœç´¢</h2><p>åŸºäºSquare Attackï¼Œéšç€æŸ¥è¯¢æ¬¡æ•°çš„å¢åŠ ï¼Œäº§ç”Ÿçš„å¯¹æŠ—æ‰°åŠ¨é€æ¸èšé›†åœ¨å¯¹è±¡å‘¨å›´ã€‚è¿™ä¸€ç°è±¡è¡¨æ˜ï¼Œåœ¨ç­‰å¼(2)çš„çº¦æŸä¸‹ï¼Œé»‘ç›’æ”»å‡»æ–¹æ³•å¯ä»¥åœ¨å¤§é‡æŸ¥è¯¢ä¸­å‘ç°æ˜“å—æ”»å‡»çš„åƒç´ ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæŸ¥è¯¢ä¸­å¹¶è¡Œæ”»å‡»å¤šä¸ªä½ç½®ï¼Œä»è€Œé—´æ¥å¢åŠ åƒç´ æœç´¢æ¬¡æ•°ï¼Œå¯ä»¥ä½œä¸ºä¸€ç§åŠ é€Ÿå¹¿åº¦æœç´¢çš„æ–¹æ³•ã€‚</p><p>ä»ç†è®ºä¸Šåˆ†æï¼Œæ¯ä¸ªæŸ¥è¯¢$q$ä»…åœ¨ä¸€ä¸ªéšæœºä½ç½®ç”Ÿæˆå¯¹æŠ—æ‰°åŠ¨$Î´$å¹¶éæœ€ä½³é€‰æ‹©ï¼Œå‡è®¾ä¼˜åŒ–åçš„æ£€æµ‹å™¨$f$ä¸ºå¹³æ»‘åº¦ï¼Œä¸”å…·æœ‰Lipschitzæ¢¯åº¦ï¼Œåˆ™å­˜åœ¨å¸¸æ•°$L$æ»¡è¶³ï¼š</p><p>$f(x_{q+1})-f(x_q)â‰¤\langle fâ€™(x_q),Î´\rangle+\frac L2||Î´||^2$ï¼Œ(3)</p><p>éšæœºæ¢¯åº¦æ˜¯æ— åä¸”æ–¹å·®æœ‰ç•Œçš„ï¼Œå…¶ä¸Šç•Œä¸ºå¸¸æ•°$Î´^2$ã€‚</p><p>SquareAttackæ–¹æ³•æ»¡è¶³ï¼š</p><p>$\frac1Q\sum\limits<em>{q=0}^Q\mathbb{E}[||fâ€™(x_q)||^2]\lesssim\frac{f(x_0)-\mathbb{E}[f(x</em>{Q+1})]}{Q_\gamma}+\gamma L \sigma^2$ï¼Œ(4)</p><p>å…¶ä¸­ï¼š</p><ul><li>$\gamma$ä¸ºè¡¥å¿ï¼Œå½“$\gamma=\frac{1}{L+\sigma\sqrt{QL}}$æ—¶ï¼Œæ”¶æ•›é€Ÿåº¦ä¸º$O(1/\sqrt{Q})$</li><li>$\lesssim$æ„æ€æ˜¯å°ä¸”ç­‰äºä¸€ä¸ªå¸¸æ•°å› å­</li></ul><p>å¼(4)æ„å‘³ç€è¿­ä»£æ¬¡æ•°$Q$è¶³å¤Ÿå¤§ï¼Œéšæœºæœç´¢ç®—æ³•å°†æ”¶æ•›ã€‚</p><p>æœ¬è®ºæ–‡æå‡ºäº†ä¸€ç§åœ¨å›¾åƒä¸Šçš„å¹¶è¡Œéšæœºæœç´¢ã€‚æ¯æ¬¡è¿­ä»£$q$å¯ä»¥éšæœºé‡‡æ ·æœç´¢ç©ºé—´$D$ä¸­çš„$P$ä¸ªä½ç½®ï¼Œé™ä½äº†æ¢¯åº¦ä¼°è®¡$\mathbb E[||g^P(x)-fâ€™(x)||^2]â‰¤(\frac{D-P}{D-1})\frac{\sigma^2}{P}$çš„æ–¹å·®ï¼ŒåŠ é€Ÿäº†ç®—æ³•çš„æ”¶æ•›ï¼Œæ­¤æ—¶æ”¶æ•›æ€§å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p><p>$\frac1Q\sum\limits^Q_{q=0}\mathbb E[||fâ€™(x_q)||^2]\lesssim\frac L Q+\frac{\sqrt{L}\sigma}{\sqrt{Q}P}$ï¼Œ(5)</p><p>å¼(5)ä¸­çš„æŸ¥è¯¢$Q$å¯¹ç®—æ³•æ”¶æ•›æ€§çš„å½±å“ä»ç„¶æ¯”å¹¶è¡Œæ”»å‡»æ¬¡æ•°$P$æ›´æ˜¾è‘—ï¼Œæ”¶æ•›é€Ÿåº¦æ¯”å¼(4)å¿«$O(1/\sqrt QP)$ã€‚</p><p>ç”±äºæŸ¥è¯¢çš„å‰æœŸè¿­ä»£æ¬¡æ•°è¾ƒå°‘ï¼Œæ ·æœ¬æ•°$P$æœ€å¤§ï¼Œéšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ ï¼Œé€æ¸å‡å°$P$çš„å€¼ç›´åˆ°$1$ã€‚</p><h2 id="é’ˆå¯¹æ·±åº¦æœç´¢çš„çŸ©å½¢ç¿»è½¬æ”»å‡»"><a href="#é’ˆå¯¹æ·±åº¦æœç´¢çš„çŸ©å½¢ç¿»è½¬æ”»å‡»" class="headerlink" title="é’ˆå¯¹æ·±åº¦æœç´¢çš„çŸ©å½¢ç¿»è½¬æ”»å‡»"></a>é’ˆå¯¹æ·±åº¦æœç´¢çš„çŸ©å½¢ç¿»è½¬æ”»å‡»</h2><p>ä¸€èˆ¬è€Œè¨€ï¼Œæ£€æµ‹æ•°æ®é›†ä¸­ç”¨çŸ©å½¢æ¡†æ ‡è®°çš„å¯¹è±¡å…·æœ‰å›ºå®šçš„å°ºå¯¸å’Œå°ºåº¦ã€‚æ£€æµ‹å™¨ä½¿ç”¨å›ºå®šæ¯”ä¾‹çš„é¢„å®šä¹‰é”šç‚¹æ˜¯ä¸€ç§å…¸å‹çš„å…ˆéªŒã€‚</p><blockquote><p>ä¾‹å¦‚ï¼ŒFaster-RCNNé‡‡ç”¨1:1ã€1:2ã€2:1çš„é”šç‚¹è®¾ç½®ï¼ŒYOLOé€šè¿‡k-mwansèšç±»ä»è®­ç»ƒé›†ä¸­å­¦ä¹ ä¸åŒçš„é”šç‚¹</p></blockquote><p>å®éªŒè§‚å¯Ÿå¯çŸ¥ï¼Œç»™å®šä¸€ä¸ªè¾¹ç•Œæ¡†å†…çš„ä¸€ä¸ªåŒºåŸŸï¼Œç›¸å¯¹äºç”¨ç›¸ä¼¼çš„å™ªå£°è¿›è¡Œæ‰°åŠ¨ï¼Œç”¨ä¸åŒçš„å™ªå£°å¯¹ä¸åŒçš„å­åŒºåŸŸè¿›è¡Œæ‰°åŠ¨æ›´æœ‰å¯èƒ½å¯¼è‡´è¯¥åŒºåŸŸè¢«åˆ†åˆ«æ£€æµ‹åˆ°ä¸åŒçš„è¾¹ç•Œæ¡†ã€‚</p><p>æ­¤å¤–ï¼Œå¦‚å›¾3æ‰€ç¤ºï¼ŒçŸ©å½¢æ¡†å¾€å¾€è¦†ç›–äº†ä¸€ä¸ªç‰©ä½“çš„å±€éƒ¨åŒºåŸŸï¼Œæ°´å¹³æˆ–å‚ç›´åè½¬ç¬¦å·å¯ä»¥æé«˜æ‰°åŠ¨çš„å¤šæ ·æ€§ã€‚å› æ­¤ï¼Œè¯¥åŒºåŸŸæ›´å®¹æ˜“è¢«è¯¯æ£€ä¸ºä¸åŒçš„åŒ…å›´æ¡†ï¼Œå¯¼è‡´è¯¥å¯¹è±¡ä¸Šçš„åŸå§‹åŒ…å›´æ¡†å‘ç”Ÿå˜åŒ–ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230808121150937.png" alt="å›¾3ï¼Œç¿»è½¬æ‰°åŠ¨ç¬¦å·çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬é€šè¿‡ç¿»è½¬ç¬¦å·çš„æ–¹å¼è¿«ä½¿å…·æœ‰ç›¸åŒç‰¹å¾çš„ç‚¹ä¸åŒï¼Œè¿™æ ·ä¼šå¯¼è‡´æ£€æµ‹å™¨å°†å…¶åˆ†ç¦»ä»è€Œå®ç°æœ‰æ•ˆçš„æ”»å‡»ã€‚"></p><p>ç»™å®šä¸€ä¸ª$\epsilon$çº¦æŸçš„åˆå§‹çŸ©å½¢$\delta\in\mathbb{R}^{a\times a}$å’Œä¸€ä¸ªå·ç§¯æ»¤æ³¢å™¨$w\in\mathbb{R}^{k\times k}$ã€‚ä»¤$z=F((x<em>p+\delta)<em>w)$è¡¨ç¤ºCNNçš„è¾“å‡ºæ¥æ›´æ–°$\delta$ï¼Œå…¶ä¸­$F$è¡¨ç¤ºæ¿€æ´»å‡½æ•°ï¼Œ$x_p$è¡¨ç¤ºåŸå§‹è¡¥ä¸ï¼ˆå¹²å‡€è¡¥ä¸ï¼‰ã€‚$(m,n)$è¡¨ç¤ºå¯¹æŠ—è¡¥ä¸$\hat{x}</em>p$çš„åæ ‡ã€‚å°†$(m,n)$åˆ’åˆ†ä¸º$|Y|+1$ä¸ªå›¢${T_i}*{i=0}^{|Y|+1}$ï¼Œä¸”$(u,v )\in T_i$è¡¨ç¤ºç¬¬$i$ä¸ªå›¢ä¸­æŸä¸€ç‚¹çš„åæ ‡ã€‚$\alpha$ä¸ºå¤§äº0çš„å¸¸æ•°ã€‚$z$çš„æœ€å¤§å˜åŒ–$l</em>âˆ-norm$è¡¨ç¤ºä¸ºï¼š</p><p>$\begin{split}| | z | |<em>âˆ= \max\limits</em>{ mï¼Œn }| z<em>mï¼Œn |\ = \max\limits</em>{ mï¼Œn }| F ( \sum\limits^k<em>{i , j = 1} ( x_p + Î´)<em>{m-\lfloor \frac s 2 \rfloor + iï¼Œn-\lfloor \frac s 2 \rfloor + j} Â· w</em>{iï¼Œj} ) |\â‰¤\max\limits</em>{ mï¼Œn} | F ( \sum\limits ^k<em>{ i , j = 1}Î´</em>{m-\lfloor\frac s2\rfloor + i , n-\lfloor \frac s2 \rfloor + j} Â· w_{i , j}) + Î± |\end{split}$ï¼Œ(6)</p><p>å¯¹äºç›®æ ‡æ£€æµ‹ä¸­çš„å¯¹æŠ—æ”»å‡»ï¼Œä¸€ä¸ªè¡¥ä¸ä¸­åŒ…å«çš„ç›®æ ‡çš„æ­£ç¡®æ ‡ç­¾$y$çš„æœ€å¤§å˜åŒ–åˆ†é‡åº”è¯¥å°äºå…¶ä»–ç±»çš„æœ€å¤§å˜åŒ–åˆ†é‡ã€‚è¡¥ä¸$\hat{x}_p$ä¸­çš„ä¼˜åŒ–å‡½æ•°$H$å¯è¡¨ç¤ºä¸ºï¼š</p><p>$\begin{split}\min\limits<em>\delta H\approx\min\limits</em>\delta[\sum\limits<em>{(u,v)\in T_y}^{T_y}max|F(\sum\limits</em>{i,j=1}^k\delta<em>{u:,v:}\cdot w</em>{i,j})+\alpha<em>y|\-max\sum\limits</em>{lâ‰ y}^{|Y|}[\sum\limits<em>{(u,v)\in T_i}^{T_i}max|F(\sum\limits^k</em>{i,j=1}\delta<em>l\cdot w</em>{i,j})+\alpha_l|]]\end{split}$ï¼Œ(7)</p><p>å…¶ä¸­$\delta<em>{u:,v:}$æ˜¯å¼(6)ä¸­çš„ç®€å†™ã€‚åŒæ—¶ï¼Œç”±äºè‹¥ä¸¤ä¸ªç‚¹ä½äºåŒä¸€ä¸ªæ¡†åŒºï¼Œå±äºåŒä¸€ä¸ªå›¢ï¼Œé‚£ä¹ˆä»–ä»¬çš„æ‰°åŠ¨åº”è¯¥æ˜¯ç›¸åŒçš„ï¼Œå³$(u_1,v_1)\in T_l$$(u_2,v_2)\in T_l$ï¼Œé‚£ä¹ˆ$\delta</em>{u<em>1:,v_1:}=\delta</em>{u_2:,v_2:}$ï¼Œå› è€Œä½¿ç”¨è¿‘ä¼¼ã€‚</p><p>å½“æ‰°åŠ¨åœ¨æ¯ä¸ªç‚¹ä¸Šç¬¦å·æ­£ç¡®ä¸”ä¸€è‡´æ—¶ï¼Œå›¢$T_y$çš„å˜åŒ–å€¼æœ€å¤§ã€‚ç”±äºæˆ‘ä»¬æ”»å‡»çš„å…³é”®åŒºåŸŸåŒ…å«å¯¹è±¡$y$ï¼Œå› æ­¤æ ‡è®°ä½$T_y$çš„å›¢å æ®ä¸»å¯¼åœ°ä½ï¼Œä½¿å¾—å¼(1)æœ€å°åŒ–ã€‚å¼(7)ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æœ€å°åŒ–ä¸Šé¡¹çš„ç•Œé™ã€‚è¡¥ä¸ä¸­å±äºåŒä¸€æ¡†åŒºçš„ç‚¹åœ¨ç©ºé—´ä½ç½®ï¼ˆvalueæ¥è¿‘ï¼‰å’Œè¯­ä¹‰ç‰¹å¾ï¼ˆæ€§è´¨æ¥è¿‘ï¼‰ä¸Šé«˜åº¦ç›¸ä¼¼ã€‚å› æ­¤ï¼Œå¦‚æœæ‰°åŠ¨é¡¹çš„ç¬¦å·èƒ½å¤Ÿæ”¹å˜ä¸€ä¸ªç‚¹çš„è¯­ä¹‰ç‰¹å¾ï¼Œé‚£ä¹ˆå¯¹äºå…¶ä»–æ¦‚ç‡è¾ƒå¤§çš„ç‚¹ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚å› æ­¤å¯ä»¥é€šè¿‡ç¿»è½¬ç¬¦å·æ¥äº§ç”Ÿä¸€ä¸ªçŸ©å½¢æ‰°åŠ¨ï¼Œä½¿å¾—åŒä¸€ä¸ªå›¢ä¸­çš„ç‚¹æ˜¯ä¸ä¸€è‡´çš„ï¼Œå¹¶å°†ä»–ä»¬æ¨åˆ°ä¸åŒçš„åˆ†ç±»è¾¹ç•Œï¼Œç”±æ­¤æœ€å°åŒ–æ–¹ç¨‹ã€‚</p><h2 id="å¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆ"><a href="#å¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆ" class="headerlink" title="å¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆ"></a>å¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆ</h2><ol><li>åˆ©ç”¨Prior&amp;Objectnessç« èŠ‚ä¸­çš„æ–¹æ³•è·å–ä¸­æ£€æµ‹å™¨çš„å…ˆéªŒä¿¡æ¯ï¼Œä»¥è®¡ç®—é«˜å¯¹è±¡åº¦çš„åŒºåŸŸï¼Œç¡®å®šä¸´ç•Œç‚¹è¿›è¡Œéšæœºæœç´¢ã€‚</li><li>æ ¹æ®åŠ¨æ€è°ƒåº¦ç®—æ³•è®¾å®šäº†æ–¹å½¢æ‰°åŠ¨çš„è¾¹é•¿$a$å’Œå¹¶è¡Œç‚¹æ•°$P$ã€‚</li><li>é¦–å…ˆä¸ºæ¯æ¬¡è¿­ä»£ç”Ÿæˆè¾¹é•¿$a$çš„æ–¹å½¢æ‰°åŠ¨ï¼Œæ¥ç€å°†æ–¹å½¢æ‰°åŠ¨çš„ä¸€åŠï¼ˆ$a*a/2$çš„çŸ©å½¢ï¼‰çš„ç¬¦å·å‚ç›´æˆ–æ°´å¹³ç¿»è½¬ã€‚</li><li>é€šè¿‡å¼(2)è®¡ç®—åˆ†æ•°ï¼Œè‹¥å½“å‰å¾—åˆ†å¤§äºæœ€ä¼˜åˆ†æ•°ï¼Œåˆ™æ›´æ–°å¯¹æŠ—æ‰°åŠ¨ã€‚</li></ol><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="å®éªŒè®¾ç½®"><a href="#å®éªŒè®¾ç½®" class="headerlink" title="å®éªŒè®¾ç½®"></a>å®éªŒè®¾ç½®</h2><ol><li><p>æ£€æµ‹æ•°æ®é›†</p><p>MS-COCOçš„å‰100å¼ å›¾åƒä½œä¸ºé»‘ç›’æ”»å‡»çš„å¹²å‡€å›¾åƒï¼Œè¿™äº›æ ·æœ¬åŒ…å«ä¸°å¯Œçš„å¯¹è±¡å®ä¾‹ï¼Œå¦‚å°å¯¹è±¡æˆ–ç¨ å¯†å¯¹è±¡ã€‚</p></li><li><p>è¯„ä»·æ ‡å‡†AP</p><p>ä¸åŒå¬å›ç‡ä¸‹çš„å¹³å‡æ£€æµ‹å‡†ç¡®ç‡ï¼Œæˆ‘ä»¬é€šå¸¸ä»¥ç‰¹å®šç±»åˆ«çš„æ–¹å¼ï¼ˆå¦‚å¹³å‡APã€mAPï¼‰å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚æˆ‘ä»¬é‡‡ç”¨MS-COCOæä¾›çš„è¯„ä»·æ ‡å‡†ï¼Œä¾‹å¦‚ï¼š</p><ul><li>$mAP$ï¼ˆåœ¨0.5~0.95ä¹‹é—´çš„å¤šä¸ªIoUé˜ˆå€¼ä¸Šå–å¹³å‡å€¼ï¼‰</li><li>$mAP_{50}$ï¼ˆIoU=0.5çš„å¹³å‡APï¼‰</li><li>$mAP_{75}$ï¼ˆIoU=0.75çš„å¹³å‡APï¼‰</li><li>$mAP_5$ï¼ˆé¢ç§¯&lt;322ï¼‰</li><li>$mAP_M$ï¼ˆ322&lt;é¢ç§¯&lt;962ï¼‰</li><li>$mAP_L$ï¼ˆé¢ç§¯&gt;962ï¼‰</li></ul><p>ä¸€ä¸ªæœ‰æ•ˆçš„é»‘ç›’æ”»å‡»æ„å‘³ç€ä¸€ä¸ªå°çš„$mAP$ã€‚åœ¨ç®—æ³•æ•ˆç‡æ–¹é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨$AQ$ï¼ˆå¹³å‡æŸ¥è¯¢ï¼‰æ¥è¯„ä¼°ç®—æ³•çš„æ”¶æ•›æ€§ã€‚æˆ‘ä»¬å¸Œæœ›å°½å¯èƒ½å‡å°‘æŸ¥è¯¢æ¬¡æ•°ã€‚</p></li><li><p>ç›®æ ‡æ¨¡å‹</p><p>é€‰å–4ä¸ªå…·æœ‰ä»£è¡¨æ€§çš„æ£€æµ‹å™¨ä½œä¸ºç›®æ ‡æ¨¡å‹ï¼š</p><p>åŸºäºé”šï¼š</p><ul><li>ä»¥ResNet50ç½‘ç»œä¸ºéª¨æ¶çš„ä¸¤çº§æ£€æµ‹å™¨Faster-RCNN</li><li>DarkNet53ä¸ºéª¨æ¶çš„YOLOv3æ¨¡å‹</li></ul><p>æ— é”šï¼š</p><ul><li>ä»¥ResNet50ä¸ºéª¨æ¶çš„FCOS</li><li>å¯ä»¥è‡ªé€‚åº”é€‰æ‹©æ­£è´Ÿæ ·æœ¬çš„æ£€æµ‹å™¨ATSSï¼ˆå¯ä»¥æ¶ˆé™¤åŸºäºé”šé¡¶å•Šå’Œæ— é”šç‚¹ç®—æ³•çš„æ€§èƒ½å·®å¼‚ï¼‰</li></ul></li><li><p>å‚æ•°è®¾ç½®</p><p>ç»™å®šå¤§å°$w<em>h$çš„å›¾åƒï¼Œé•¿åº¦ä¸º$a$çš„æ–¹å½¢çš„é•¿åº¦ä¸º$\sqrt{e</em>w*h}$ï¼Œ$e\in [0,1]$</p><ul><li>$e$$=0.05$ï¼Œåœ¨æŸ¥è¯¢$q\in{20,100,400,1000,2000,4000,8000}$æ—¶$e$å‡åŠ</li><li>åˆå§‹é˜¶æ®µå¹¶è¡Œ$P=4$ï¼Œåœ¨æŸ¥è¯¢$q\in{20,100,1000,2000}$æ—¶å‡åŠ</li><li>å¼(2)ä¸­$Î¶=0.90$ï¼Œ$\epsilon=0.50$</li><li>IoUé˜ˆå€¼ä¸º$0.50$</li></ul></li></ol><h2 id="æ¶ˆèå®éªŒ"><a href="#æ¶ˆèå®éªŒ" class="headerlink" title="æ¶ˆèå®éªŒ"></a>æ¶ˆèå®éªŒ</h2><p>é€šè¿‡æ”»å‡»æ€§èƒ½ï¼ˆå¦‚$mAP$çš„é™ä½ï¼‰å’ŒæŸ¥è¯¢æ¥è¯„ä¼°ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230808121226876.png" alt="å›¾4ï¼Œ$mAP$æ”¹å˜äº†é’ˆå¯¹ä¸åŒæ”»å‡»çš„æŸ¥è¯¢æ¬¡æ•°ã€‚FPRAå®ç°äº†æœ€å¿«çš„æ”¶æ•›å’Œæœ€æœ‰æ•ˆçš„æ”»å‡»"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230808121242125.png" alt="è¡¨1ï¼ŒFaster-RCNNæ¨¡å‹çš„æ¶ˆèå®éªŒ"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230808121252344.png" alt="è¡¨2ï¼Œå¯¹æ£€æµ‹å™¨çš„éé’ˆå¯¹æ€§æ”»å‡»"></p><h2 id="é»‘ç›’æ”»å‡»çš„å¯è¿ç§»æ€§"><a href="#é»‘ç›’æ”»å‡»çš„å¯è¿ç§»æ€§" class="headerlink" title="é»‘ç›’æ”»å‡»çš„å¯è¿ç§»æ€§"></a>é»‘ç›’æ”»å‡»çš„å¯è¿ç§»æ€§</h2><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230808121303688.png" alt="è¡¨3ï¼Œä¸åŒæ£€æµ‹å™¨ä¹‹é—´çš„é»‘ç›’å¯è¿ç§»æ€§ã€‚å…·æœ‰*è¡¨ç¤ºçš„ç»“æœè¡¨ç¤ºç™½ç›’ã€‚"></p><p>å¯çŸ¥ï¼ŒFaster-RCNNã€ATSSå’ŒFCOSä¸‰ä¸ªæ¨¡å‹çš„æ”»å‡»æ•ˆæœæ˜¯ç¨³å¥çš„ï¼Œå› ä¸ºå…¶èƒ½å¤ŸæŠµå¾¡æ¥è‡ªå…¶ä»–æ•°æ®é›†çš„æ”»å‡»ã€‚</p><p>å…¶ä¸­ï¼Œæœ€ç¨³å¥çš„æ–¹æ³•æ˜¯ATSSï¼Œåœ¨å…¶ä»–æ•°æ®é›†ä¸Šè¾¾åˆ°äº†è‡³å°‘0.30$mAP$çš„æ•ˆæœã€‚</p><p>YOLOæ˜¯æœ€å®¹æ˜“è¢«æ”»å‡»çš„æ¨¡å‹ï¼Œå…¶ä»–æ¨¡å‹ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å¯ä»¥æœ‰æ•ˆæ”»å‡»ä»–ï¼Œç”šè‡³è¶…è¿‡è‡ªèº«ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> ç›®æ ‡æ£€æµ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]SiblingAttack-é’ˆå¯¹é¢éƒ¨è¯†åˆ«çš„å¯è¿ç§»å¯¹æŠ—æ”»å‡»çš„å†æ€è€ƒ</title>
      <link href="/article/33812311/"/>
      <url>/article/33812311/</url>
      
        <content type="html"><![CDATA[<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š<a href="http://arxiv.org/abs/2303.12512">[2303.12512]Sibling-Attack: Rethinking Transferable Adversarial Attacks against Face Recognition</a></p><p>æ—¥æœŸï¼š2023-03</p><p>å‡ºå¤„ï¼šCVPR 2023</p></blockquote><h1 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h1><p>ç”±äºç›®æ ‡äººè„¸è¯†åˆ«ï¼ˆFRï¼‰æ¨¡å‹çš„é»‘ç›’æ€§è´¨ã€‚</p><p>æå‡ºä¸€ç§æ–°çš„FRæ”»å‡»æŠ€æœ¯SiblingAttackï¼Œé¦–æ¬¡æ¢ç´¢äº†ä¸€ç§æ–°é¢–çš„å¤šä»»åŠ¡è§†è§’ï¼ˆå³ï¼Œåˆ©ç”¨å¤šç›¸å…³ä»»åŠ¡çš„é¢å¤–ä¿¡æ¯æ¥æé«˜æ”»å‡»çš„å¯è¿ç§»æ€§ï¼‰ã€‚</p><ul><li>ç›´è§‰ä¸Šï¼ŒSiblingAttacké€‰å–ä¸€ç»„ä¸FRç›¸å…³çš„ä»»åŠ¡ï¼Œå¹¶åŸºäºç†è®ºå’Œå®šé‡åˆ†æé€‰å–å±æ€§è¯†åˆ«ARä»»åŠ¡ä½œä¸ºSiblingAttackä¸­ä½¿ç”¨çš„ä»»åŠ¡ã€‚</li><li>SiblingAttackå¼€å‘äº†ä¸€ä¸ªèåˆå¯¹æŠ—æ¢¯åº¦ä¿¡æ¯çš„ä¼˜åŒ–æ¡†æ¶ï¼Œé€šè¿‡ï¼š<ul><li>å°†è·¨ä»»åŠ¡ç‰¹å¾çº¦æŸåœ¨åŒä¸€ç©ºé—´ä¸‹</li><li>å¢å¼ºä»»åŠ¡é—´æ¢¯åº¦å…¼å®¹æ€§çš„è”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJoint-Task Meta Optimizationï¼ŒJTMOï¼‰æ¡†æ¶</li><li>å‡è½»æ”»å‡»è¿‡ç¨‹ä¸­éœ‡è¡æ•ˆåº”çš„è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCross-Task Gradient Stabilizationï¼ŒCTGSï¼‰æ–¹æ³•ã€‚</li></ul></li></ul><h1 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åŸºäºæ·±åº¦ç¥ç»ç½‘ç»œDNNsçš„äººè„¸è¯†åˆ«FRæ¨¡å‹å¯èƒ½å—åˆ°å¯¹æŠ—æ”»å‡»ã€‚åœ¨å®é™…æ”»å‡»åœºæ™¯ä¸­ï¼Œè¢«æ”»å‡»FRæ¨¡å‹çš„å‚æ•°å¯¹äºæ”»å‡»è€…æ˜¯é»‘ç›’çš„ã€‚</p><p>ä¸€ç§å¯è¡Œçš„é»‘ç›’ç­–ç•¥æ˜¯é€šè¿‡æ”»å‡»ä¸€ä¸ªç™½ç›’ä»£ç†æ¨¡å‹æ¥æ„é€ å¯è¿ç§»å¯¹æŠ—æ ·æœ¬ã€‚</p><p>åœ¨äººè„¸è¯†åˆ«ä»»åŠ¡ä¸Šï¼Œæœ€è¿‘çš„ç ”ç©¶ï¼ˆoptimization-based metgodsã€model-ensmble trainingã€input data transformationsï¼‰æ˜¾ç¤ºäº†æé«˜æ”»å‡»å¯è¿ç§»æ€§çš„æœ‰æ•ˆæ€§ã€‚æœ¬è´¨ä¸Šï¼Œè¿™äº›æ–¹æ³•é€šè¿‡èåˆæ¥è‡ªé›†æˆæ¨¡å‹çš„è¾…åŠ©æ¢¯åº¦ä¿¡æ¯æˆ–å„ç§é‡‡æ ·/å¢å¼ºç­–ç•¥æ¥é˜²æ­¢å¯¹æŠ—æ ·æœ¬å¯¹å•ä¸ªæ¨¡å‹/å›¾åƒçš„è¿‡æ‹Ÿåˆã€‚ç„¶è€Œï¼Œä»–ä»¬å¯¹online commerical FRçš„ç³»ç»Ÿæ˜¯ç›¸å½“æ‚²è§‚çš„ã€‚</p><h2 id="ç›¸å…³å·¥ä½œ"><a href="#ç›¸å…³å·¥ä½œ" class="headerlink" title="ç›¸å…³å·¥ä½œ"></a>ç›¸å…³å·¥ä½œ</h2><ol><li><p>å¯¹äºé’ˆå¯¹FRä»»åŠ¡çš„å¯è¿ç§»å¯¹æŠ—æ”»å‡»ï¼š</p><ul><li>Adv-Faceä½¿ç”¨åŸºäºGANçš„æ¡†æ¶æ¥è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ã€‚</li><li>DFANetä½¿ç”¨dropoutå±‚æ¥æé«˜æ”»å‡»çš„å¯è¿ç§»æ€§ã€‚</li><li>ä½¿ç”¨åŸºäºè¡¥ä¸çš„æ–¹æ³•ç ”ç©¶é’ˆå¯¹FRç³»ç»Ÿçš„å¯è¿ç§»ç‰©ç†æ”»å‡»ï¼šAdv-Glaseså’ŒAdv-Haté€šè¿‡æ³¨å…¥è¡¥ä¸å¸½å­æˆ–çœ¼ç›è¿›è¡Œç‰©ç†å¯¹æŠ—æ”»å‡»</li><li>ç”Ÿæˆç‰¹å®šåŒ–å¦†å’Œé¢éƒ¨å±æ€§çš„ä¸å¯æ„ŸçŸ¥çš„æ‰°åŠ¨</li></ul></li><li><p>å¤šä»»åŠ¡å­¦ä¹ </p><p>ä¸å•ä»»åŠ¡å­¦ä¹ ï¼ˆSTlï¼‰ç›¸æ¯”ï¼Œå¤šä»»åŠ¡å­¦ä¹ ï¼ˆMTLï¼‰æ˜¯åŒæ—¶å­¦ä¹ å¤šä¸ªä»»åŠ¡ï¼Œä»¥æé«˜æ¯ä¸ªä»»åŠ¡çš„å‡†ç¡®ç‡ã€‚ç°æœ‰çš„ä¸€äº›å·¥ä½œå·²ç»è¯æ˜äº†FRå’ŒARäººç‰©ä¹‹é—´çš„å¼ºç›¸å…³æ€§ã€‚ç ”ç©¶è¡¨æ˜ï¼ŒFRæ¨¡å‹åœ¨è¡¨ç¤ºä¸­éšå«ç¼–ç æ½œåœ¨çš„å±æ€§ç‰¹å¾ï¼ŒFRæ¨¡å‹çš„éšå«å±‚å¯ç”¨äºè¿›è¡Œå±æ€§é¢„æµ‹ã€‚ARä»»åŠ¡çš„æ¨¡å‹å¯ä»¥å­¦ä¹ åˆ°æ›´é²æ£’çš„ç‰¹å¾ï¼Œå› æ­¤å¯ä»¥å®ƒç”¨æ¥æé«˜FRçš„é²æ£’æ€§ã€‚</p><p>å¤šä»»åŠ¡è®­ç»ƒå¯ä»¥å­¦ä¹ åˆ°æ›´å¤šçš„å¯¹æŠ—é²æ£’ç‰¹å¾ã€‚</p></li></ol><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><ul><li><p>æœ¬è®ºæ–‡è®¤ä¸ºï¼Œç°æœ‰çš„æ–¹æ³•ä»…ä»å•ä¸ªä»»åŠ¡ä¸­æ‰‹è®°çš„å¯¹æŠ—æ¢¯åº¦ï¼Œä»è€Œå¿½ç•¥äº†è¿›ä¸€æ­¥æé«˜å¯è¿ç§»æ€§çš„æ½œåœ¨å¯èƒ½æ€§ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727104903136.png" alt="å›¾1ï¼Œåœ¨å•ä¸€ä»»åŠ¡ä¸‹ï¼Œå…ˆå‰çš„æ”»å‡»(a)é€šè¿‡æ”»å‡»å¤šä¸ªæ¨¡å‹æˆ–ä½¿ç”¨å„ç§èœå…»æ´»å¢å¼ºç­–ç•¥æ¥æé«˜å¯è¿ç§»æ€§ã€‚ç„¶è€Œï¼Œåœ¨æå‡ºçš„SiblingAttackï¼ˆå›¾1(b)ï¼‰ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨å±æ€§è¯†åˆ«(Attribute Recognition, AR)ä½œä¸ºè¾…åŠ©ä»»åŠ¡æ¥æé«˜å¯è¿ç§»æ€§ã€‚å…¶ä¸­åˆ©ç”¨ç¡¬å‚æ•°å…±äº«æ¶æ„ä½œä¸ºæ”»å‡»éª¨å¹²ã€‚"></p><ul><li><p>å¤šä»»åŠ¡å­¦ä¹ ï¼ˆMTLï¼‰æ–¹æ³•æŒ‡å‡ºï¼Œåœ¨ç›¸å…³ä»»åŠ¡ä¹‹é—´è¿›è¡Œå¤šä»»åŠ¡æˆ–æ¥æ‹Ÿåˆä»»åŠ¡è®­ç»ƒï¼Œå¯ä»¥å­¦ä¹ åˆ°æ›´åŠ é²æ£’å’Œé€šç”¨çš„ç‰¹å¾ï¼Œä»è€Œæé«˜æ•´ä½“çš„æ³›åŒ–èƒ½åŠ›ã€‚æœ¬è®ºæ–‡å¯»æ±‚åœ¨è·¨ä»»åŠ¡èŒƒå›´å†…æé«˜FRä»»åŠ¡çš„æ”»å‡»å¯è¿ç§»æ€§ã€‚ä¸ºäº†æ¢ç©¶å¤šä»»åŠ¡ç¯å¢ƒä¸‹FRæ”»å‡»çš„å¯è¿ç§»æ€§ï¼Œå­˜åœ¨ä¸¤ä¸ªæŒ‘æˆ˜ï¼š</p><ol><li>åœ¨æ‰§è¡Œå¤šä»»åŠ¡æ”»å‡»æ—¶ï¼Œå¦‚ä½•ç¡®å®šä¸€ä¸ªåˆé€‚çš„è¾…åŠ©ä»»åŠ¡ä½œä¸ºFRä»»åŠ¡çš„åˆé€‚å€™é€‰</li><li>å¦‚ä½•å……åˆ†åˆ©ç”¨ä¸¤ä¸ªä»»åŠ¡çš„å¯¹æŠ—ä¿¡æ¯ï¼Œä»è€Œæé«˜å¯è¿ç§»æ€§</li></ol><p>åŸºäºè¿™ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªä¸é¢éƒ¨ç›¸å…³çš„ä»»åŠ¡ï¼Œå¯ä»¥ä¸ºç›®æ ‡FRä»»åŠ¡æä¾›ç›¸å…³ä½†å¤šæ ·çš„å¯¹æŠ—æ¢¯åº¦ä¿¡æ¯æ¥è¡¥å……å†…åœ¨ç¼ºå¤±çš„å¯¹æŠ—çŸ¥è¯†ï¼Œå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¾…åŠ©ä»»åŠ¡å€™é€‰è€…ï¼Œå‘½åä¸ºsibling-taskï¼ˆåŒèƒä»»åŠ¡ï¼Ÿï¼‰ã€‚</p></li></ul></li></ul><p>ARæ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°æ–‡ä»¶çš„èº«ä»½ç‰¹å¾ï¼Œå¯ä»¥ç”¨æ¥å¢å¼ºFRçš„è¯†åˆ«ç¨³å¥æ€§ã€‚åè¿‡æ¥ï¼ŒFRç‰¹å¾ä¹Ÿéšå¼åœ°ç¼–ç äº†æ½œåœ¨çš„é¢éƒ¨å±æ€§ç‰¹å¾ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å®šé‡çš„ç»“æœæ¥å±•ç¤ºARä»»åŠ¡çš„æœ‰æ•ˆæ€§ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸€ä¸ªç›¸å…³çš„ARä»»åŠ¡ä½œä¸ºsibling-taskæ¥æé«˜æ”»å‡»çš„å¯è¿ç§»æ€§ï¼Œå³SiblingAttackã€‚</p><p>ç”±äºä¸åŒä»»åŠ¡çš„ç‰¹å¾ç©ºé—´å’Œæ¢¯åº¦ç©ºé—´å­˜åœ¨è¾ƒå¤§å·®å¼‚ï¼Œå¦‚æœä¸è€ƒè™‘æ›´å¥½çš„æ¢¯åº¦èåˆå’Œç¨³å®šçš„è®­ç»ƒç­–ç•¥ï¼Œç›´æ¥ä¼˜åŒ–FRæˆ–å¦‚ARæ¨¡å‹å°†å¯¼è‡´æ”»å‡»å¯è¿ç§»æ€§ååˆ†æœ‰é™ã€‚åœ¨SiblingAttackä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆé‡‡ç”¨åº”å‚æ•°å…±äº«æ¶æ„ä½œä¸ºæˆ‘ä»¬çš„éª¨å¹²æ”»å‡»æ¡†æ¶ï¼Œå°†ä»–ä»¬é™åˆ¶åœ¨ç›¸åŒçš„ç‰¹å¾ç©ºé—´å†…ï¼Œå¦‚å›¾1(b)æ‰€ç¤ºã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŸºäºå…ƒå­¦ä¹ çš„é«˜å±‚ç†å¿µè®¾è®¡äº†ä¸€ç§äº¤æ›¿è”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJTMOï¼‰ç®—æ³•ï¼Œä»¥è¿›ä¸€æ­¥æé«˜ä¸¤ä¸ªä»»åŠ¡ä¹‹é—´çš„æ¢¯åº¦å…¼å®¹æ€§ã€‚æœ€åï¼Œä¸ºäº†ç¼“è§£è®­ç»ƒéœ‡è¡æ•ˆåº”ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç”¨äºç¨³å®šå¯¹æŠ—æ ·æœ¬ä¼˜åŒ–çš„è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰ç­–ç•¥ã€‚</p><h2 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h2><p>å¤§é‡å®éªŒè¡¨æ˜ï¼ŒSiblingAttackæ¯”ç›®å‰æœ€å…ˆè¿›çš„FRæ”»å‡»æŠ€æœ¯æœ‰éå¸¸æ˜æ˜¾çš„ä¼˜åŠ¿ï¼Œåœ¨æœ€å…ˆè¿›çš„é¢„è®­ç»ƒFRæ¨¡å‹å’Œä¸¤ä¸ªè‘—åçš„ã€å¹¿æ³›ä½¿ç”¨çš„å•†ä¸šFRç³»ç»ŸFace++äººè„¸è¯†åˆ«å’ŒMicrosoft face APIä¸Šï¼Œæ”»å‡»æˆåŠŸç‡å¹³å‡æé«˜äº†12.61%å’Œ55.77%ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSiblingAttackåœ¨ä¸¤ä¸ªå¸¸ç”¨æ•°æ®é›†ä¸Šæ”»å‡»å¹¿æ³›ä½¿ç”¨åçš„Face++å•†ä¸šäººè„¸APIçš„ASRåˆ†åˆ«è¾¾åˆ°äº†86.50%å’Œ96.10%ï¼Œè€Œç›®å‰çš„ç ”ç©¶ç»“æœè¿›åˆ†åˆ«è¾¾åˆ°äº†58.10%å’Œ64.30%ã€‚</p><h2 id="è´¡çŒ®"><a href="#è´¡çŒ®" class="headerlink" title="è´¡çŒ®"></a>è´¡çŒ®</h2><ol><li>æå‡ºåˆ©ç”¨ç›¸å…³ARä»»åŠ¡ä¸­çš„å¯¹æŠ—ä¿¡æ¯æ¥ç”Ÿæˆå¯¹æŠ—äººè„¸è¯†åˆ«çš„é«˜åº¦å¯è¿ç§»çš„å¯¹æŠ—æ ·æœ¬</li><li>æå‡ºSiblingAttackæ–¹æ³•ï¼Œä»¥æœ‰æ•ˆçš„æ–¹å¼è”åˆå­¦ä¹ æ¥è‡ªå¤šä¸ªä»»åŠ¡çš„å¯¹æŠ—ä¿¡æ¯</li></ol><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>é’ˆå¯¹FRçš„é¶å‘å¯¹æŠ—æ”»å‡»ï¼Œå³impersonation-attackæ¨¡æ‹Ÿæ”»å‡»ï¼Œé€šè¿‡æ¬ºéª—ç›®æ ‡FRæ¨¡å‹ï¼Œä½¿æ”»å‡»è€…è¯¯è®¤ä¸ºä¸ç›®æ ‡å…·æœ‰ç›¸åŒçš„èº«ä»½ã€‚æœ¬è®ºæ–‡ä¸»è¦é’ˆå¯¹Adv-makeupï¼ˆ Advmakeup: A new imperceptible and transferable attack on face recognition. In Proceedings of the Thirtieth International Joint Conference on Artificial Intelligence (IJCAI), pages 1252â€“1258. International Joint Conferences on Artificial Intelligence Organization, 8 2021. Main Trackï¼‰å’Œé’ˆå¯¹æ·±åº¦äººè„¸è¯†åˆ«çš„å¯è¿ç§»å¯¹æŠ—æ”»å‡»ï¼ˆTowards transferable adversarial attack against deep face recognition. IEEE Transactions on Information Forensics and Security (TIFS), 16:1452â€“1466, 2020.ï¼‰è¿›è¡Œç ”ç©¶ã€‚ä¼ªé€ æ”»å‡»çš„ç›®æ ‡å¯ä»¥è¡¨è¿°ä¸º:</p><p>$\min \limits_{\epsilon_a} \mathcal{L}(x_a + \epsilon_a, x_v), s.t. â€–\epsilon_aâ€–_p â‰¤ Î¾$ï¼Œ(1)</p><p>å…¶ä¸­ï¼š</p><ul><li>$x_aâˆˆ\mathcal{R}^{HÂ·WÂ·C}$ä¸ºæ”»å‡»é¢å­”</li><li>$x_vâˆˆ\mathcal{R}^{HÂ·WÂ·C}$ä¸ºç›®æ ‡è¢«æ”»å‡»é¢å­”</li><li>å¯¹æ”»å‡»è€…çš„æ‰°åŠ¨$aâˆˆ[0,1]^{HÂ·WÂ·C}$å—åˆ°$\ell_p-norm$ï¼ˆ$pâˆˆ{0,2,âˆ}$ï¼‰çš„çº¦æŸã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œ$p=âˆ$.</li><li>$Î¾$ æ˜¯ä¸€ä¸ªå°çš„å¸¸æ•°ç”¨æ¥çº¦æŸ$\epsilon_a$</li><li>$\mathcal{L}(Â·)$è¡¨ç¤ºå¯¹æŠ—æŸå¤±å‡½æ•°</li></ul><h2 id="SiblingAttackæ¡†æ¶"><a href="#SiblingAttackæ¡†æ¶" class="headerlink" title="SiblingAttackæ¡†æ¶"></a>SiblingAttackæ¡†æ¶</h2><p>å¦‚å›¾1(b)æ‰€ç¤ºï¼Œä¸ºäº†é¿å…è¾ƒå¤§çš„ç‰¹å¾æ–¹å·®ï¼Œæˆ‘ä»¬åœ¨SiblingAttackä¸­é‡‡ç”¨äº†ä¸€ç§ä¼˜ç§€çš„åº”å‚æ•°å…±äº«æ¶æ„ä½œä¸ºä¸»å¹²ã€‚å›¾1(b)æ‰€ç¤ºçš„ç™½ç›’ä»£ç†æ¨¡å‹è®°ä¸º$\mathcal{S(P;F;A)}$ï¼Œå…¶ç¬¬ä¸€ä¸ªéƒ¨ä»¶æ˜¯ä¸€ä¸ªå…±äº«å‚æ•°ç¼–ç å™¨$\mathcal{P}$ï¼Œç„¶åä»£ç†æ¨¡å‹åˆ†æ”¯æˆä¸¤ä¸ªå­ç½‘ç»œï¼šä¸€ä¸ªFRåˆ†æ”¯$\mathcal{F}$å’Œä¸€ä¸ªARåˆ†æ”¯$\mathcal{A}$ã€‚ç»™å®šæ”»å‡»å›¾åƒ$x<em>a$å’Œç›®æ ‡å›¾åƒ$x_v$ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡$\mathcal S$ç”Ÿæˆå¯¹æŠ—æ ·æœ¬$x</em>{adv}$æ¥æ¬ºéª—é»‘ç›’ç›®æ ‡FRæ¨¡å‹$\mathcal T$ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå¯¹æ¯ä¸ª$x_a$å’Œ$x_v$ï¼Œ$\mathcal S$çš„æ¯ä¸ªåˆ†æ”¯åˆ†åˆ«é€šè¿‡$\mathcal F$å’Œ$\mathcal A$è®¡ç®—å…¶å¯¹åº”çš„è¾“å‡ºé«˜å±‚ç‰¹å¾å‘é‡${f_a^{\mathcal F},f_v^{\mathcal F}}$å’Œ${f_a^{\mathcal A},f_v^{\mathcal A}}$ã€‚ç„¶åï¼Œè¿™äº›ç‰¹å¾è¢«ç”¨äºè®¡ç®—é’ˆå¯¹FRçš„ç›®æ ‡æ”»å‡»çš„ç›¸åº”å¯¹æŠ—æŸå¤±ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>$\mathcal L_{adv}^<em>=1-cos(f_a^</em>,f_v^*)$ï¼Œ(2)</p><p>å…¶ä¸­ï¼š</p><p>$*âˆˆ{\mathcal{F,A}}$ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªç‰¹å¾å‘é‡ä¹‹é—´çš„ä½™å¼¦å€¼ä½œä¸ºè¯„ä»·æŒ‡æ ‡æ¥è¡¡é‡ä»–ä»¬çš„ç›¸ä¼¼æ€§ã€‚</p><p>åŸºäºæ­¤ï¼Œæœ¬æ–‡å¯¹è”åˆä»¿å†’æ”»å‡»çš„ä¸»è¦ç›®æ ‡å‡½æ•°è¿›è¡Œäº†å¦‚ä¸‹è®¾è®¡ï¼š</p><p>$\min\limits<em>{\epsilon_a}Î»_1 Â·\mathcal{ L^F</em>{adv} + Î»<em>2 Â· L^A</em>{adv},\ s.t. ||\epsilon_a||_p â‰¤ Î¾}$ï¼Œ(3)</p><p>å…¶ä¸­ï¼š</p><p>$Î»_1$å’Œ$Î»_2$ä¸ºéœ€è¦è¿›è¡Œå–èˆçš„è¶…å‚æ•°ã€‚</p><h2 id="è”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJTMOï¼‰"><a href="#è”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJTMOï¼‰" class="headerlink" title="è”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJTMOï¼‰"></a>è”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJTMOï¼‰</h2><p>å¯¹äºå…ƒå­¦ä¹ æ¡†æ¶ï¼Œäº¤æ›¿é‡‡ç”¨æ¢¯åº¦å¯ä»¥æé«˜è¿›è¡Œç‰¹å¾å­¦ä¹ çš„è·¨æ•°æ®é›†å…¼å®¹æ€§ï¼Œäº¤æ›¿é‡‡ç”¨æ¢¯åº¦å¯ä»¥æé«˜è¿›è¡Œç‰¹å¾å­¦ä¹ çš„è·¨æ•°æ®é›†å…¼å®¹æ€§ï¼Œä»è€Œå¢å¼ºå¯æ¨å¹¿æ€§ã€‚ä¸ºæ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ä¸¤ä¸ªä»»åŠ¡ä¹‹é—´è·å¾—æ›´å¥½çš„æ¢¯åº¦å…¼å®¹æ€§æ¥æ„å»ºå¯è¿ç§»çš„å¯¹æŠ—æ ·æœ¬ã€‚</p><p>å› æ­¤ï¼Œæœ¬è®ºæ–‡æå‡ºäº†ä¸€ç§æ–°çš„é’ˆå¯¹å¯¹æŠ—åœºæ™¯çš„ä¼˜åŒ–ç­–ç•¥ï¼Œå³è”åˆä»»åŠ¡å…ƒä¼˜åŒ–(JTMO)ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œåœ¨JTMOä¸­ï¼Œæˆ‘ä»¬æ¨¡ä»¿å…ƒå­¦ä¹ çš„å‚æ•°æ›´æ–°ç­–ç•¥ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¡ç®—ä¸¤ä¸ªä»»åŠ¡çš„åŠ æƒå¹³å‡å¯¹æŠ—æŸå¤±ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105041114.png" alt="å›¾2ï¼ŒSiblingAttackä¼˜åŒ–è¿‡ç¨‹ã€‚ç¬¬ä¸€è¡Œè¡¨ç¤ºè”åˆä»»åŠ¡å…ƒä¼˜åŒ–ï¼ˆJTMOï¼‰ï¼Œç¬¬äºŒè¡Œè¡¨ç¤ºè·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰ã€‚æ¯æ¬¡è¿­ä»£ï¼ŒJTMOä»ä¸åŒçš„ä»»åŠ¡ä¸­äº¤æ›¿é€‰æ‹©æ¨¡å‹ã€‚CTGSé€šè¿‡å†å²ä¿¡æ¯ç¨³å®šè·¨ä»»åŠ¡æ¢¯åº¦ã€‚"></p><p>ä¸ºäº†ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œæˆ‘ä»¬å¿…é¡»æ·»åŠ ä¸€ä¸ªæ‰°åŠ¨$a$æ¥è¿­ä»£åœ°ä¿®æ”¹$x<em>a$ä¸­çš„åƒç´ ã€‚å¯¹äºæ¯æ¬¡è¿­ä»£ï¼Œæˆ‘ä»¬ä»$\mathcal S$ä¸­äº¤æ›¿é€‰æ‹©ä¸€ä¸ªåˆ†æ”¯ï¼Œç„¶åè¿›è¡Œå‰å‘å’Œåå‘ä¼ æ’­ï¼Œä»ç›¸åº”çš„å¯¹æŠ—æŸå¤±$\mathcal{L</em>{adv}^{F}}$æˆ–$\mathcal {L_{adv}^{A}}$ä¸­è®¡ç®—æ¢¯åº¦ã€‚åˆ†æ”¯é€‰æ‹©çš„å…ˆåé¡ºåºä¸ä¼šå½±å“æœ€ç»ˆçš„æ€§èƒ½ã€‚å¯¹äºæ¯æ¬¡è¿­ä»£ä¸­çš„æ¯ä¸ªåˆ†æ”¯ï¼Œæ›´æ–°åçš„æ‰°åŠ¨$\epsilon_aâ€™$å¯ä»¥é€šè¿‡è®¡ç®—å¾—åˆ°ï¼š</p><p>$\epsilon^â€²<em>a â† \prod {\epsilon_a âˆ’ Î± Â· sign(Î³_1 Â· \triangledown</em>{\epsilon<em>a} L^âˆ— </em>{adv}(x_a + \epsilon_a, x_v))}$ï¼Œ(4)</p><p>å…¶ä¸­ï¼š</p><ul><li>$\prod{Â·}$è¡¨ç¤ºç”±$\ell_âˆ$çº¦æŸä¿è¯çš„æŠ•å½±å‡½æ•°</li><li>$\alpha$è¡¨ç¤ºå­¦ä¹ ç‡</li><li>$\gamma_1$ä¸ºæ›´æ–°è¶…å‚æ•°</li><li>$*âˆˆ{\mathcal{F,A}}$</li></ul><p>ç„¶åï¼Œæˆ‘ä»¬åˆ©ç”¨æ›´æ–°åçš„æ‰°åŠ¨$\epsilon^â€²<em>a$è®¡ç®—$L^{</em>^â€²}_{adv}$ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬èšåˆæ‰€æœ‰æ¢¯åº¦ä¿¡æ¯æ¥æ›´æ–°æ‰°åŠ¨ï¼Œå…·ä½“ä¸ºï¼š</p><p>$\epsilon^{â€²â€²}<em>a â† \prod {\epsilon^â€²_a âˆ’ Î± Â· sign(Î³_1 Â· \triangledown</em>{\epsilon<em>a^â€²} L^{*^â€²}</em>{adv}(x_a^â€² + \epsilon_a^â€², x_v))}$ï¼Œ(5)</p><p>å…¶ä¸­ï¼š</p><ul><li>$x^â€²_a=x_a+\epsilon_a$ï¼Œ$\gamma_2$ä¸ºæ›´æ–°çš„è¶…å‚æ•°</li><li>$\epsilon^{â€²â€²}_a$æ˜¯æ¯æ¬¡è¿­ä»£çš„å¯¹æŠ—æ‰°åŠ¨è¾“å‡º</li></ul><p>å—å…ƒå­¦ä¹ çš„å¯å‘ï¼Œæˆ‘ä»¬çš„ä¼˜åŒ–ç­–ç•¥é¦–å…ˆä»æ‰°åŠ¨å‚æ•°çš„ä¸¤ä¸ªåˆ†æ”¯äº¤æ›¿æ”¶é›†æ¢¯åº¦ï¼Œç„¶åå†æ¯æ¬¡è¿­ä»£ä¸­ä½¿ç”¨æ¢¯åº¦åœ¨ä¸¤ä¸ªä»»åŠ¡ä¹‹é—´äº¤æ›¿ä¼˜åŒ–$\epsilon^{â€²â€²}_a$ï¼Œä»¥è·å¾—ä¼˜åŒ–å…¼å®¹æ€§ã€‚</p><h2 id="è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰"><a href="#è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰" class="headerlink" title="è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰"></a>è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰</h2><p>åœ¨ä¸¤ä¸ªäººç‰©ä¹‹é—´æ›´æ–°å¯¹æŠ—æ‰°åŠ¨ï¼Œä¸å¯é¿å…åœ°ä¼šå¼•èµ·éœ‡è¡çš„å‰¯ä½œç”¨ï¼Œå¹¶å¯¼è‡´æ¬¡ä¼˜è§£ã€‚è¿™ç§å‰¯ä½œç”¨å¯ä»¥å½’å› äºä¸¤ç§ä¸åŒçš„ä»»åŠ¡å…·æœ‰ä¸åŒçš„æ¢¯åº¦æ›´æ–°æ–¹å‘ã€‚</p><p>åŸºäºå•ä»»åŠ¡å¯¹æŠ—æ”»å‡»æ–¹æ³•ä¸­ï¼Œå†å²æ¢¯åº¦å’Œé€‚å½“æ¢¯åº¦èšåˆå¯ä»¥ç¨³å®šä¼˜åŒ–è¿‡ç¨‹ä»è€Œæé«˜æ”»å‡»çš„å¯è¿ç§»æ€§çš„ç‰¹æ€§ï¼Œæœ¬è®ºæ–‡è®¾è®¡äº†ä¸€ç§æ–°çš„æ›´æ–°ç­–ç•¥ï¼Œå³äº¤å‰ä»»åŠ¡æ¢¯åº¦ç¨³å®šï¼ˆCTGSï¼‰ï¼Œä»¥è¿›ä¸€æ­¥æé«˜SiblingAttackçš„æ”»å‡»å¯è¿ç§»æ€§ã€‚</p><p>å¦‚å›¾2æ‰€ç¤ºï¼Œåœ¨ä¼˜åŒ–è¿‡ç¨‹çš„æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œä¸ºé€‰å®šçš„ä»»åŠ¡åˆ†æ”¯å®šä¹‰ä¸€ä¸ªæ›´æ–°æ­¥é•¿$N$ï¼Œä¾‹å¦‚$\mathcal F$ã€‚åˆ™$N$ä¸ªå¯¹æŠ—æ‰°åŠ¨$\mathcal {E^{â€²F}}={\epsilon^{â€²\mathcal F}<em>{a1},â€¦,\epsilon^{â€²\mathcal F}</em>{aN}}$å¯ä»¥é€šè¿‡è¿ç»­è®¡ç®—å…¬å¼(4)æ¥è¿­ä»£å¤„ç†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ‰°åŠ¨æ·»åŠ åˆ°æ”»å‡»å›¾åƒ$x<em>a$ä¸­ï¼Œç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œå¹¶å°†å…¶å‘é€åˆ°å¦ä¸€ä¸ªä»»åŠ¡åˆ†æ”¯$\mathcal A$ä¸­ï¼Œè®¡ç®—å…¶å¯¹åº”çš„æ¢¯åº¦å›¾$\mathcal G^{â€²A}={\triangledown^\mathcal  A</em>{\epsilon^{â€²\mathcal  F}<em>{a1}},â€¦,\triangledown^\mathcal  A</em>{\epsilon^{â€²\mathcal  F}_{a_N}}}$ã€‚å› æ­¤ï¼Œå½“æ›´æ–°$\mathcal A$ä¸Šçš„$\epsilon^â€²_a$æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼(5)ä¸Šå¾—åˆ°æ–¹ç¨‹ï¼š</p><p>$\epsilon^{â€²â€²\mathcal A}<em>a â† \prod {\epsilon^{â€²\mathcal F}</em>{aN} âˆ’ Î± <em> sign[Î³_2 </em>( \triangledown<em>{\epsilon</em>{aN}^{â€²\mathcal F}}^{\mathcal A}+\gamma<em>3\sum\limits</em>{i=1}^{N-1}\triangledown<em>{\epsilon</em>{ai}^{â€²\mathcal F}}^{\mathcal A})]}$ï¼Œ(6)</p><p>æŒ‰ç…§è¿™ä¸ªæ›´æ–°è¿‡ç¨‹ï¼Œæ¥è‡ª$\mathcal F$çš„å†å²å¯¹æŠ—æ¢¯åº¦åœ¨$\mathcal A$ä¸Šçš„è®¡ç®—æ¢¯åº¦è¢«èšåˆä»¥ç¨³å®šå½“å‰çš„ä¼˜åŒ–ã€‚$\gamma_3$æ˜¯ä¸€ä¸ªç”¨ä»¥å¹³è¡¡è®­ç»ƒæƒé‡çš„è¶…å‚æ•°ã€‚ç”±äºå†å²å¯¹æŠ—æ¢¯åº¦åªæä¾›è¾…åŠ©æ¢¯åº¦ä¿¡æ¯ï¼Œè€Œä¸ä¸»å¯¼ä¸»æ›´æ–°æ–¹å‘ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©$\gamma_3$ä½œä¸ºè¾ƒå°çš„æ•°å€¼ã€‚</p><p>è¯¥ç­–ç•¥é€šè¿‡åˆ©ç”¨æ¥è‡ªå¦ä¸€ä¸ªä»»åŠ¡åˆ†æ”¯çš„å†å²$N-1$ä¸ªå¯¹æŠ—æ ·æœ¬çš„è·¨ä»»åŠ¡æ¢¯åº¦ï¼Œå¢å¼ºäº†ä¼˜åŒ–çš„ç¨³å®šæ€§ï¼Œæå‡äº†å¯è¿ç§»æ€§ã€‚</p><p>SiblingAttackçš„æ•´ä½“æµç¨‹å¦‚ç®—æ³•1æ‰€ç¤ºï¼š</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105536355.png" alt="è¡¨1ï¼ŒSiblingAttackæ•´ä½“æµç¨‹ç®—æ³•"></p><h1 id="å®éªŒ-1"><a href="#å®éªŒ-1" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><ol><li>Celeb A-HQ</li><li>LFW</li></ol><h2 id="è¯„ä»·æŒ‡æ ‡"><a href="#è¯„ä»·æŒ‡æ ‡" class="headerlink" title="è¯„ä»·æŒ‡æ ‡"></a>è¯„ä»·æŒ‡æ ‡</h2><p>é‡‡ç”¨Attack Success Rateï¼ˆASRï¼‰è¯„ä¼°ã€‚è®¡ç®—å…¬å¼ï¼š</p><p>$\mathsf{ASR}=\frac{\text{No. of Comparisons â‰¥}\mathcal T}{\text{Total No. of Comparisons}}$ï¼Œ(7)</p><p>åˆ†å­å®šä¹‰å¯¹æŠ—æ”»å‡»æ˜¯å¦æˆåŠŸï¼Œå…¶æ¥å—æ¥è‡ªé»‘ç›’æ¨¡å‹çš„å¯¹æŠ—æ ·æœ¬å’Œä¸¤æ€§æ ·æœ¬åœ¨ç›¸åº”çš„é˜ˆå€¼$\mathcal T$ä¸Šçš„ç›¸ä¼¼æ€§åˆ†æ•°ã€‚</p><h2 id="ç›®æ ‡æ¨¡å‹"><a href="#ç›®æ ‡æ¨¡å‹" class="headerlink" title="ç›®æ ‡æ¨¡å‹"></a>ç›®æ ‡æ¨¡å‹</h2><ol><li>ç¦»çº¿æ¨¡å‹ï¼š<ul><li>IR152</li><li>IRSE50</li><li>FaceNet</li><li>IR550</li><li>ResNet101</li></ul></li><li>åœ¨çº¿æ¨¡å‹<ul><li>Face++</li><li>Microsoft</li></ul></li></ol><p>å¯¹äºç¦»çº¿FRæ¨¡å‹ï¼Œæœ¬è®ºæ–‡ä½¿ç”¨IR152ã€IRE50å’ŒFaceNetä½œä¸ºç™½ç›’ï¼Œç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œå¹¶åœ¨å…¶ä»–æ¨¡å‹ä¸Šè¯„ä¼°æ”»å‡»çš„å¯è¿ç§»æ€§ã€‚ç¦»çº¿æ¨¡å‹çš„æ‰€æœ‰é˜ˆå€¼å‡ä»LFWæ•°æ®é›†ä¸­çš„å›¾åƒè·å¾—ã€‚</p><p>å¯¹äºARæ¨¡å‹ï¼Œæœ¬è®ºæ–‡ä½¿ç”¨IR152å’ŒMobilefaceä½œä¸ºéª¨å¹²ç½‘ç»œï¼Œå¹¶åœ¨MSCeleb-1Må’ŒCelebA-HQä¸Šè¿›è¡Œè®­ç»ƒï¼Œä»¥ä¿è¯åœ¨ARä»»åŠ¡ä¸Šçš„æ€§èƒ½ã€‚</p><h2 id="å‚æ•°è®¾ç½®"><a href="#å‚æ•°è®¾ç½®" class="headerlink" title="å‚æ•°è®¾ç½®"></a>å‚æ•°è®¾ç½®</h2><p>åœ¨SIblingAttackä¸­ï¼Œå¯¹äºFRä»»åŠ¡å’ŒARä»»åŠ¡ï¼Œç™½ç›’ä»£ç†æ¨¡å‹çš„ç»“æ„å‡ä¸ºIR152.æ ¹æ®å…ˆå‰å·¥ä½œçš„å®éªŒé…ç½®ï¼Œè®¾ç½®ï¼š</p><p>$Î¾=40/255$</p><p>$\ell_âˆ$</p><p>$\alpha=2/255$</p><p>$T=200$</p><p>$N=4$</p><p>$(\gamma_1,\gamma_2,\gamma_3)=(0.1,0.9,0.01)$</p><h2 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h2><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105554795.png" alt="è¡¨2ï¼ŒCelebA-HQæ•°æ®é›†ä¸Šé»‘ç›’æ¨¡æ‹Ÿæ”»å‡»çš„ASRç»“æœã€‚ä¸¤ä¸ªç¦»çº¿æ¨¡å‹å’Œä¸¤ä¸ªåœ¨çº¿æ¨¡å‹è¢«ç”¨æ¥è¯„ä¼°æ”»å‡»çš„å¯è¿ç§»æ€§ã€‚SiblingAttackä½¿ç”¨IR152 FRå’ŒIR152 ARè¿›è¡Œç™½ç›’è®­ç»ƒï¼Œè€Œå…¶ä»–ç”¨äºæ¯”è¾ƒçš„æ–¹æ³•åˆ™ä½¿ç”¨ä¸¤ç§ä¸åŒçš„FRæ¨¡å‹è¿›è¡Œè®­ç»ƒã€‚"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105646781.png" alt="è¡¨3ï¼ŒLFWæ•°æ®é›†ä¸Šé»‘ç›’æ¨¡æ‹Ÿæ”»å‡»çš„ASRç»“æœã€‚"></p><p>ç”±è¡¨2è¡¨3å¯çŸ¥ï¼ŒåŸºäºè¡¥ä¸çš„æ–¹æ³•åœ¨å¤§å¤šæ•°ç›®æ ‡æ¨¡å‹ä¸Šå…·æœ‰è¾ƒå¼±çš„å¯è¿ç§»æ€§ï¼Œå› ä¸ºå…¶æ˜¯é’ˆå¯¹æ”»å‡»åŒºåŸŸè¾ƒå°çš„ç‰©ç†æ”»å‡»è€Œè®¾è®¡å’Œè°ƒæ•´çš„ã€‚ç»“æœè¡¨æ˜ï¼Œä¸æ‰€æœ‰å…¶ä»–åŸºäºäººè„¸çš„æ–¹æ³•ç›¸æ¯”ï¼Œæ”»å‡»æ•´ä¸ªäººè„¸çš„å¯¹æŠ—æ ·æœ¬å³Adv-Faceå…·æœ‰æœ€å¥½çš„å¯è¿ç§»æ€§ã€‚</p><p>ç„¶è€Œï¼Œä»è¡¨2ä¸­Celeb-AHQç»“æœå¯ä»¥çœ‹å‡ºSiblingAttackä»èƒ½æ˜¾è‘—è¶…è¿‡Adv-Faceã€‚</p><h2 id="æ¶ˆèå®éªŒ"><a href="#æ¶ˆèå®éªŒ" class="headerlink" title="æ¶ˆèå®éªŒ"></a>æ¶ˆèå®éªŒ</h2><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105703378.png" alt="è¡¨4ï¼ŒLFWæ•°æ®é›†ä¸Šæ¨¡æ‹Ÿæ”»å‡»çš„ASRç»“æœå¯¹æ¯”ã€‚Ensembleä»£è¡¨äº†åŸºäºé›†æˆè®­ç»ƒçš„æ–¹æ³•ã€‚"></p><p>å…·ä½“æ¥è¯´ï¼ŒSiblingAttackåŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š</p><ol><li>ç¡¬å‚æ•°å…±äº«(Hard P.S.)</li><li>è”åˆä»»åŠ¡å…ƒä¼˜åŒ–(JTMO)</li><li>è·¨ä»»åŠ¡æ¢¯åº¦ç¨³å®š(CTGS)</li></ol><p>åœ¨å®éªŒä¸­ï¼Œå¯ä»¥å¾ˆå¥½è¯æ˜ä½¿ç”¨ARä»»åŠ¡ä¸­çš„ä¿¡æ¯å¯ä»¥å¸®åŠ©æé«˜é’ˆå¯¹FRä»»åŠ¡çš„æ”»å‡»å¯è¿ç§»æ€§ã€‚æ­¤å¤–ï¼ŒASRéšç€æ¯ä¸ªæ‹Ÿè®®ç»„ä»¶çš„æ·»åŠ è€Œé€æ¸å¢åŠ ï¼Œå¹¶ä¸”æ˜¾è‘—ä¼˜äºå…¶ä»–åŸºäºå•ä¸€é›†æˆè®­ç»ƒçš„æ¨¡å‹ã€‚</p><h2 id="å¯è§†åŒ–åˆ†æ"><a href="#å¯è§†åŒ–åˆ†æ" class="headerlink" title="å¯è§†åŒ–åˆ†æ"></a>å¯è§†åŒ–åˆ†æ</h2><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105717562.png" alt="å›¾3ï¼Œä¸ä»…é’ˆå¯¹FRæ¨¡å‹çš„æ”»å‡»ç›¸æ¯”ï¼Œå°†SiblingAttackå¯è§†åŒ–å¯¹æŠ—æ€§æ‰°åŠ¨ã€‚æ¯ä¸€åˆ—å±•ç¤ºäº†å¯¹æŠ—æ ·æœ¬åŠå…¶åå¤„ç†çš„æ‰°åŠ¨ã€‚æ¥è‡ªFace++å’ŒMicrosoftçš„æŸ¥è¯¢ç»“æœä»¥è“è‰²å’Œçº¢è‰²æ˜¾ç¤º"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105732474.png" alt="å›¾4ï¼Œä½¿ç”¨Grad-CAMçš„å¯è§†åŒ–åœ¨ç¦»çº¿FRæ¨¡å‹(IRSE50)ä¸Šç”Ÿæˆæ³¨æ„åŠ›å›¾ã€‚æˆ‘ä»¬åœ¨æ¯å¼ å›¾ç‰‡ä¸‹çš„FRæ¨¡å‹ä¸Šæ˜¾ç¤ºæ”»å‡»è€…ä¸ç›®æ ‡äººè„¸ä¹‹é—´çš„ç›¸ä¼¼æ€§åˆ†æ•°ã€‚"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230727105745978.png" alt="å›¾5ï¼ŒåŸºäºFace++å’ŒMicrosoftçš„SiblingAttacké‡‡ç”¨ä¸åŒé¢éƒ¨å±æ€§çš„ARæ¨¡å‹çš„ASRç»“æœã€‚xè½´è¡¨ç¤ºç›¸ä¼¼åº¦å¾—åˆ†ã€‚yè½´è¡¨ç¤ºå¯¹åº”ç›¸ä¼¼åº¦çš„åˆ†ä¸‹çš„ASRã€‚"></p>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> FR </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]é€šè¿‡å¯¹æŠ—ç»Ÿè®¡ä¸€è‡´æ€§è§„é¿æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨-StatAttack</title>
      <link href="/article/58d0d04f/"/>
      <url>/article/58d0d04f/</url>
      
        <content type="html"><![CDATA[<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š<a href="https://arxiv.org/abs/2304.11670">[2304.11670] Evading DeepFake Detectors via Adversarial Statistical Consistency</a></p><p>æ—¥æœŸï¼š2023-04-23</p><p>å…³é”®è¯ï¼šAdversarial Attack, DeepFake</p><p>å‡ºå¤„ï¼šCVPR 2023</p></blockquote><h1 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h1><p>æ·±åº¦ä¼ªé€ æ£€æµ‹æŠ€æœ¯é€šå¸¸ä¾èµ–äºæ£€æµ‹è‡ªç„¶ï¼ˆçœŸå®ï¼‰å›¾åƒå’Œæ·±åº¦ä¼ªé€ ç”Ÿæˆå›¾åƒåœ¨<strong>ç©ºåŸŸå’Œé¢‘åŸŸ</strong>çš„ç»Ÿè®¡å·®å¼‚ã€‚</p><p>æœ¬è®ºæ–‡æå‡ºæ˜¾å¼åœ°æœ€å°åŒ–ç»Ÿè®¡å·®å¼‚æ¥è§„é¿æœ€å…ˆè¿›çš„æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨â€”â€”é’ˆå¯¹æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨çš„ç»Ÿè®¡ä¸€è‡´æ€§æ”»å‡»ï¼ˆStatAttackï¼‰ï¼š</p><ol><li>é€‰å–å‡ ç§ç»Ÿè®¡æ•æ„Ÿçš„<strong>è‡ªç„¶é€€åŒ–ï¼ˆæ›å…‰åº¦ã€æ¨¡ç³Šåº¦ã€å™ªå£°ï¼‰</strong>ï¼Œå¹¶å°†å…¶ä»¥å¯¹æŠ—çš„æ–¹å¼æ·»åŠ åˆ°ä¼ªé€ å›¾åƒä¸­ã€‚</li><li>è‡ªç„¶å›¾åƒå’Œæ·±åº¦ä¼ªé€ å›¾åƒä¹‹é—´çš„ç»Ÿè®¡å·®å¼‚ä¸ä¸¤ç§å›¾åƒä¹‹é—´çš„åˆ†å¸ƒåç§»æ­£ç›¸å…³ï¼Œæœ¬è®ºæ–‡æå‡º<strong>ä½¿ç”¨æ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒæŸå¤±æ¥æŒ‡å¯¼ä¸åŒé€€åŒ–çš„ä¼˜åŒ–</strong>ï¼Œå› æ­¤ï¼Œç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬çš„ç‰¹å¾åˆ†å¸ƒæ¥è¿‘æ›´è‡ªç„¶å›¾åƒã€‚</li><li>å°†StatAttackæ‰©å±•åˆ°MStat Attackï¼Œå°†å•å±‚é€€åŒ–ä¾æ¬¡æ‰©å±•åˆ°å¤šå±‚é€€åŒ–ï¼Œå¹¶åˆ©ç”¨æŸå¤±è”åˆè°ƒæ•´ç»„åˆæƒé‡ã€‚</li></ol><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨å®¹æ˜“å—åˆ°å¯¹æŠ—æ€§æ”»å‡»ï¼Œè¿™äº›æ”»å‡»å¯ä»¥é€šè¿‡å‘å‡å›¾åƒä¸­æ³¨å…¥æ‰°åŠ¨æ¥ç»•è¿‡æ£€æµ‹å™¨ã€‚</p><p>ä»¥å¾€çš„ä¸€äº›ç ”ç©¶æ¢è®¨äº†å¯¹æŠ—æ ·æœ¬çš„å¯è¿ç§»æ€§ï¼Œå®ƒæ˜¯é’ˆå¯¹ç‰¹å®šå—å®³è€…æ¨¡å‹è®¾è®¡çš„å¯¹æŠ—æ ·æœ¬æ”»å‡»ä¸ºåŒä¸€ä»»åŠ¡è®­ç»ƒçš„å…¶ä»–æ¨¡å‹çš„èƒ½åŠ›ã€‚</p><p>ä¸åŒçš„æ•°æ®å¢å¼ºå’Œé¢„å¤„ç†æ–¹æ³•å¯¼è‡´çš„ç½‘ç»œæ¶æ„å’Œè®­ç»ƒæ ·æœ¬çš„å˜åŒ–ï¼Œå®ç°é’ˆå¯¹æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨çš„å¯è¿ç§»æ”»å‡»å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œè¿™äº›å·®å¼‚å¾€å¾€å¯¼è‡´åœ¨é¢å¯¹ä¸åŒçš„æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨æ—¶ï¼ŒåŸºäºå…¸å‹æ”»å‡»æ–¹æ³•æ„é€ çš„å¯¹æŠ—æ ·æœ¬çš„å¯è¿ç§»æ€§è¾ƒå·®ã€‚</p><p>StatAttacké€‰æ‹©<strong>ä¸‰ç§ç»Ÿè®¡æ•æ„Ÿçš„è‡ªç„¶é€€åŒ–</strong>ï¼ŒåŒ…æ‹¬æ›å…‰ã€æ¨¡ç³Šå’Œå™ªå£°ï¼Œå¹¶ä»¥å¯¹æŠ—çš„æ–¹å¼å°†ä»–ä»¬æ·»åŠ åˆ°å‡å›¾åƒä¸­ã€‚çœŸå‡å›¾åƒé›†ä¹‹é—´çš„ç»Ÿè®¡å·®å¼‚ä¸å…¶åˆ†å¸ƒåç§»æ­£ç›¸å…³ã€‚</p><p>æœ¬è®ºæ–‡æå‡ºé€šè¿‡æœ€å°åŒ–ä¼ªé€ å›¾åƒå’Œè‡ªç„¶å›¾åƒçš„ç‰¹å¾åˆ†å¸ƒä¹‹é—´çš„è·ç¦»æ¥ç¼“è§£è¿™äº›å·®å¼‚ã€‚é€šè¿‡<strong>å¼•å…¥ä¸€ç§æ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒæŸå¤±å‡½æ•°</strong>ï¼Œæœ‰æ•ˆåœ°æœ€å°åŒ–äº†ç»Ÿè®¡å·®å¼‚ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528142334613.png" alt="fig1.æµ…è“è‰²åŒºåŸŸå’Œæµ…çº¢è‰²åŒºåŸŸåˆ†åˆ«è¡¨ç¤ºè‡ªç„¶/çœŸå®å›¾åƒå’Œä¼ªé€ å›¾åƒçš„å…¶çº³å…¥ç©ºé—´ã€‚æ·±è“è‰²åŒºåŸŸè¡¨ç¤ºä¸åŒæ£€æµ‹å™¨å…±äº«çš„çœŸå®å›¾åƒçš„åµŒå…¥ç©ºé—´ã€‚ç¬¬ä¸€è¡Œè¡¨æ˜ï¼Œå…¸å‹çš„æ”»å‡»å¯ä»¥å°†å‡æ ·æœ¬ï¼ˆæ©™è‰²ç‚¹ï¼‰æ˜ å°„åˆ°â€çœŸå®â€œæ ·æœ¬ï¼Œå¯ä»¥æ¬ºéª—æ£€æµ‹å™¨Aï¼Œä½†ä¸èƒ½è¯¯å¯¼æ£€æµ‹å™¨Bã€‚ç¬¬äºŒè¡Œåˆ™å°†å‡æ ·æœ¬æ£€æµ‹åˆ°ä¸åŒæ£€æµ‹å™¨çš„å…¬å…±åŒºåŸŸï¼Œå¯ä»¥æ¬ºéª—ä¸¤ä¸ªæ£€æµ‹å™¨ã€‚"></p><p>MStatAttackæ‰§è¡Œå¤šå±‚é€€åŒ–ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ¯ä¸ªæ”»å‡»æ­¥éª¤ä¸­åŠ¨æ€è°ƒæ•´ä¸åŒå±‚ä¸­æ¯ä¸ªé€€åŒ–çš„æƒé‡ã€‚</p><h2 id="ä¸»è¦è´¡çŒ®"><a href="#ä¸»è¦è´¡çŒ®" class="headerlink" title="ä¸»è¦è´¡çŒ®"></a>ä¸»è¦è´¡çŒ®</h2><ul><li>æå‡ºäº†ä¸€ç§æ–°çš„åŸºäºè‡ªç„¶é€€åŒ–çš„æ”»å‡»æ–¹æ³•StatAttackï¼Œå¯ä»¥é€šè¿‡æœ€å°åŒ–ä¸€ä¸ªæ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒæŸå¤±æ¥å¡«è¡¥çœŸå‡å›¾åƒä¹‹é—´çš„ç‰¹å¾åˆ†å¸ƒå·®å¼‚</li><li>æå‡ºäº†è¿›ä¸€æ­¥çš„å¤šå±‚å¯¹åº”çš„MStatAttackï¼Œå¯ä»¥é€‰æ‹©æ›´æœ‰æ•ˆçš„æ‰°åŠ¨ç»„åˆå¹¶ç”Ÿæˆæ›´è‡ªç„¶çš„å¯¹æŠ—æ ·æœ¬</li></ul><h1 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h1><h2 id="ç»Ÿè®¡å­¦å·®å¼‚"><a href="#ç»Ÿè®¡å­¦å·®å¼‚" class="headerlink" title="ç»Ÿè®¡å­¦å·®å¼‚"></a>ç»Ÿè®¡å­¦å·®å¼‚</h2><p>å‡ ç§æ£€æµ‹æ–¹æ³•è§£é‡Šäº†è‡ªç„¶å›¾åƒå’Œä¼ªé€ å›¾åƒåœ¨é¢‘åŸŸå’Œç©ºé—´åŸŸçš„ç»Ÿè®¡å·®å¼‚ã€‚</p><ol><li><p>GANç½‘ç»œæ¶æ„å’Œè®­ç»ƒè¿‡ç¨‹ä¼šå¯¼è‡´GANç”Ÿæˆå›¾åƒå’Œè‡ªç„¶å›¾åƒä¹‹é—´çš„äº®åº¦ç»Ÿè®¡å·®å¼‚ã€‚ä¾‹å¦‚ï¼Œä¸€äº›GANä»…èƒ½ç”Ÿæˆå¼ºåº¦å€¼æœ‰é™çš„å›¾åƒï¼Œæ— æ³•ç”Ÿæˆé¥±å’Œå’Œæ›å…‰ä¸è¶³çš„åŒºåŸŸã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528142420529.png" alt="fig2.äº®åº¦ç»Ÿè®¡å·®å¼‚ã€‚(a)å±•ç¤ºäº†è‡ªç„¶äººè„¸æ•°æ®é›†çš„å¹³å‡äº®åº¦ç›´æ–¹å›¾ï¼Œ(b)å±•ç¤ºäº†ProGANç”Ÿæˆçš„ç¼ºä¹é¥±å’Œæ›å…‰ä¸è¶³åŒºåŸŸçš„ä¼ªé€ äººè„¸æ•°æ®é›†çš„å¹³å‡äº®åº¦ç›´æ–¹å›¾ã€‚(c)æ˜¯ä¸(b)éƒ¨åˆ†æ›å…‰è°ƒæ•´ç›¸åŒçš„æ•°æ®é›†ã€‚è°ƒæ•´å±€éƒ¨äº®åº¦åï¼Œä¼ªå›¾åƒç›´æ–¹å›¾ä¸­å‡ºç°é¥±å’Œå’Œæ¬ æ›å…‰åƒç´ å€¼ã€‚"></p></li><li><p>è‡ªç„¶å›¾åƒå’ŒGANç”Ÿæˆå›¾åƒåœ¨é¢‘åŸŸä¿¡æ¯ä¸Šçš„ç»Ÿè®¡å·®å¼‚ï¼Œæ­ç¤ºäº†é«˜é¢‘æˆåˆ†çš„æ˜¾è‘—å·®å¼‚ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528142904840.png" alt="fig3.é¢‘ç‡ç»Ÿè®¡å·®å¼‚ï¼ˆåŠŸç‡è°±ï¼‰ã€‚(a)è¡¨æ˜GANç”Ÿæˆçš„å›¾åƒä¸è‡ªç„¶å›¾åƒç›¸æ¯”ï¼Œé«˜é¢‘æˆåˆ†æ€¥å‰§å¢åŠ ã€‚(b)æ­ç¤ºäº†é«˜æ–¯æ¨¡ç³Šè¿‡ç¨‹å¯ä»¥å‡å°è¿™äº›é¢‘ç‡å·®å¼‚ã€‚"></p></li><li><p>é€šè¿‡ç›´æ¥è§‚å¯ŸGANsç”Ÿæˆå›¾åƒçš„é¢‘è°±å›¾å‘ç°äº†ä¸€äº›ç»Ÿè®¡çº¿ç´¢ã€‚ä»–ä»¬çš„å®éªŒç»“æœè¡¨æ˜GANsä¸å¯é¿å…åœ°ä¼šåœ¨å¤„ç†åçš„å›¾åƒä¸­ç•™ä¸‹è§„åˆ™çš„é«˜é¢‘ä¼ªå½±ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528142538712.png" alt="fig4.é¢‘ç‡ç»Ÿè®¡å·®å¼‚ï¼ˆé¢‘è°±å›¾ï¼‰ã€‚(a)ä¸ºçœŸå®äººè„¸å›¾åƒã€‚(b)ä¸ºç»è¿‡Stargamç¯¡æ”¹çš„å›¾åƒï¼Œ(c)ä¸ºåŠ å…¥éšæœºå™ªå£°çš„ä¼ªé€ å›¾åƒã€‚å®ƒä»¬çš„ç›´æ–¹å›¾æ˜¾ç¤ºåœ¨æ¯å¹…å›¾åƒçš„å³è¾¹ã€‚ä¸è‡ªç„¶å›¾åƒç›¸æ¯”ï¼Œæ˜Ÿæ•å›¾åƒï¼ˆç”¨çº¢è‰²ç®­å¤´æŒ‡ç¤ºï¼‰çš„é¢‘è°±å›¾ä¸­å‡ºç°äº†è§„åˆ™çš„é¢‘ç‡ä¼ªå½±ã€‚åŠ å…¥å™ªå£°åï¼Œä¼ªå½±å›¾åƒä¸­çš„é«˜é¢‘ä¼ªå½±æ¶ˆå¤±ã€‚"></p></li></ol><h2 id="ç»Ÿè®¡ä¸€è‡´æ€§æ”»å‡»-StatAttack"><a href="#ç»Ÿè®¡ä¸€è‡´æ€§æ”»å‡»-StatAttack" class="headerlink" title="ç»Ÿè®¡ä¸€è‡´æ€§æ”»å‡»(StatAttack)"></a>ç»Ÿè®¡ä¸€è‡´æ€§æ”»å‡»(StatAttack)</h2><h3 id="ç»Ÿè®¡æ•æ„Ÿé€€åŒ–"><a href="#ç»Ÿè®¡æ•æ„Ÿé€€åŒ–" class="headerlink" title="ç»Ÿè®¡æ•æ„Ÿé€€åŒ–"></a>ç»Ÿè®¡æ•æ„Ÿé€€åŒ–</h3><ol><li><p>é€€åŒ–é€‰æ‹©</p><p>ä¸‰ç§å¸¸è§çš„èƒ½æœ‰æ•ˆé™ä½ç»Ÿè®¡å·®å¼‚çš„è‡ªç„¶é€€åŒ–ï¼š</p><ul><li>æ”¹å˜æ›å…‰ã€‚è°ƒæ•´å±€éƒ¨åŒºåŸŸåƒç´ çš„äº®åº¦å€¼å¯ä»¥æ”¹å˜ä¼ªé€ å›¾åƒçš„äº®åº¦åˆ†å¸ƒã€‚å¦‚<a href="https://www.notion.so/153d6722aaa84625aff399460f7d3153">fig2</a>ã€‚</li><li>æ·»åŠ æ¨¡ç³Šã€‚é€šè¿‡é«˜æ–¯ä½é€šæ»¤æ³¢å™¨æ»¤é™¤ä¼ªé€ å›¾åƒä¸­çš„é«˜é¢‘æˆåˆ†ï¼Œå¯ä»¥å‡å°é¢‘åŸŸç»Ÿè®¡å·®å¼‚ã€‚å¦‚<a href="https://www.notion.so/153d6722aaa84625aff399460f7d3153">fig3</a>ã€‚</li><li>æ·»åŠ å™ªå£°ã€‚å¦‚<a href="https://www.notion.so/153d6722aaa84625aff399460f7d3153">fig4</a>ã€‚é€šè¿‡åŠ å…¥éšæœºå™ªå£°ï¼Œä¼ªé€ å›¾åƒä¸­çš„è§„åˆ™ä¼ªå½±è¢«æ¶ˆé™¤ã€‚</li></ul><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å›¾åƒä¸­åŠ å…¥å±€éƒ¨æ›å…‰ä¸ä»…å¯ä»¥æ”¹å˜ç©ºé—´åŸŸçš„ä¿¡æ¯ï¼Œè¿˜å¯ä»¥æ”¹å˜é¢‘ç‡åŸŸçš„ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œé«˜æ–¯æ»¤æ³¢å¯ä»¥å‡å°‘ä¼ªå½±å›¾åƒä¸­ä¸€äº›è§„åˆ™çš„é«˜é¢‘ä¼ªå½±ã€‚</p></li><li><p>è‡ªç„¶çš„æ›å…‰å¯¹æŠ—</p><p>æ—¨åœ¨å°†å±€éƒ¨æ›å…‰æ³¨å…¥åˆ°ä¼ªé€ å›¾åƒä¸­ï¼Œä½¿å…¶äº®åº¦ç»Ÿè®¡æ›´æ¥è¿‘è‡ªç„¶å›¾åƒã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”±äºè‡ªç„¶æ›å…‰å˜åŒ–å¹³æ»‘ï¼Œå› æ­¤æ³¨å…¥åˆ°ä¼ªé€ å›¾åƒä¸­çš„æ›å…‰ä¹Ÿåº”è¯¥å…·æœ‰ç±»ä¼¼çš„ï¼ˆå³å›¾åƒä¸­ç›¸é‚»åƒç´ å…·æœ‰ç›¸ä¼¼çš„æ›å…‰å€¼ï¼‰æ€§è´¨ã€‚</p><p>é‡‡ç”¨å¯¹æŠ—æ›å…‰ç”Ÿæˆæ¨¡å‹ï¼šç”±ç”¨äºç”Ÿæˆæ›å…‰çš„å¤šé¡¹å¼æ¨¡å‹å’Œç”¨äºä¿æŒæ›å…‰è‡ªç„¶åº¦çš„å¹³æ»‘å…¬å¼æ„æˆã€‚</p><ul><li>$P_e(\mathbf{X}^{fake})=log^{-1}(\tilde{\mathbf{X}}^{fake}+\tilde{\mathbf{E}})$ï¼Œ(1)<ul><li>$\tilde{E}$ï¼šç”Ÿæˆæ›å…‰çš„å¤šé¡¹å¼æ¨¡å‹</li><li>$\mathbf{X}^{fake}$ï¼šfake image</li><li>$\tilde{\cdot}$ï¼šå¯¹æ•°è¿ç®—</li></ul></li></ul><p>ä¸ºäº†ä¿æŒæ›å…‰çš„è‡ªç„¶æ€§ï¼Œå¯¹äºå¤šé¡¹å¼æ¨¡å‹åŒ…å«çš„ä¸¤ç»„å‚æ•°$\mathbf{a}$å’Œ$Ï†$ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥å¹³æ»‘æ–¹ç¨‹æ¥çº¦æŸå…¶å–å€¼ï¼š</p><ul><li><p>$S (a, Ï†) = âˆ’Î»<em>a ||a||_2^2âˆ’Î»</em>Ï†||â–½Ï†||_2^2$ï¼Œ(2)</p><p>è¶…å‚æ•°$Î»<em>a$å’Œ$Î»</em>Ï†$ï¼šè°ƒèŠ‚å¯¹æŠ—æ”»å‡»ç”¨æˆ·å¹³æ»‘æ€§ä¹‹é—´çš„å¹³è¡¡ã€‚</p></li></ul></li><li><p>é«˜æ–¯æ¨¡ç³Šå¯¹æŠ—</p><p>å¯¹äºä¸€èˆ¬çš„é«˜æ–¯æ¨¡ç³Šï¼Œåœ¨å›¾åƒä¸­ä¸åŒä½ç½®ä½¿ç”¨çš„é«˜æ–¯æ ¸å…·æœ‰ç›¸åŒçš„å€¼ã€‚ä¸ºäº†ä»¥å¯¹æŠ—çš„æ–¹å¼æ·»åŠ é«˜æ–¯æ¨¡ç³Šé€€åŒ–ï¼Œæˆ‘ä»¬æå‡ºå°†é«˜æ–¯æ ¸è®¾è®¡ä¸ºå¯å­¦ä¹ çš„å¯¹æŠ—æ ¸ã€‚è¯¥æ–¹æ³•å…è®¸åœ¨å›¾åƒçš„ä¸åŒä½ç½®è‡ªé€‚åº”åœ°åº”ç”¨å¯¹æŠ—æ‰°åŠ¨ã€‚</p><p>æˆ‘ä»¬æ—¨åœ¨å­¦ä¹ ä¸€ä¸ªæ ‡å‡†å·®å›¾$Ïƒ$ï¼Œåˆ©ç”¨$Ïƒ_{x_i,y_i}$ï¼Œè®¡ç®—ç¬¬$i$ä¸ªåƒç´ $H_i$çš„å¯¹æŠ—é«˜æ–¯æ ¸å¦‚ä¸‹ï¼š</p><ul><li>$H<em>i(u, v) = \frac{1} {2Ï€ (Ïƒ</em>{x<em>i,y_i} )^2} exp(âˆ’\frac{ u^2 + v^2}{ 2Ï€ (Ïƒ</em>{x_i,y_i} )^2})$ï¼Œ(3)<ul><li>$Ïƒ_{x_i,y_i}$ï¼šé«˜æ–¯æ ¸åœ¨ç¬¬$i$ä¸ªåƒç´ ä½ç½®çš„åˆå§‹æ ‡å‡†å·®</li><li>$u$å’Œ$v$è¡¨ç¤ºé«˜æ–¯æ ¸å†…ç‚¹åˆ°ä¸­å¿ƒåƒç´ $(x_i,y_i)$çš„ç›¸å¯¹åæ ‡</li></ul></li></ul><p>åˆ©ç”¨å¯¹æŠ—é«˜æ–¯æ ¸ï¼Œå¯¹ä¼ªé€ å›¾åƒè¿›è¡Œæ¨¡ç³Šï¼š</p><ul><li>$P_b(\mathbf{X}^{fake}) = \sum \limits {iâˆˆ\mathcal{N} (i)} g(\mathbf{X}^{fake} i , k) âˆ— \mathbf{H}_i$ï¼Œ(4)<ul><li>$\mathcal{N}(i)$ï¼š$\mathbf{X}^{fake}$ä¸­æ‰€æœ‰åƒç´ </li><li>$g(\mathbf{X}^{fake},k)$ï¼šä»¥ç¬¬$i$ä¸ªåƒç´ ä¸ºä¸­å¿ƒï¼Œè¢«åŒ…å›´åœ¨åŠå¾„ä¸º$k$çš„é«˜æ–¯æ ¸å†…çš„åŒºåŸŸ</li><li>$*$ï¼šæ»¤æ³¢æ“ä½œè¿ç®—ç¬¦</li></ul></li></ul><p>ç»™ç”Ÿæˆçš„å›¾åƒ$P<em>b(\mathbf{X}^{fake})$ä¸€ä¸ªä¸å¯¹æŠ—ç›¸å…³çš„æŸå¤±å‡½æ•°ï¼Œå¹¶é€šè¿‡<a href="https://www.notion.so/153d6722aaa84625aff399460f7d3153">å…¬å¼(4)</a>æœ€å°åŒ–å®ƒå¾—åˆ°${Ïƒ</em>{x_i,y_i}}$å’Œ$\mathbf{H}_i$ã€‚éšåï¼Œé€šè¿‡è®¡ç®—çš„é«˜æ–¯æ ¸å¯¹ä¼ªé€ å›¾åƒæ–½åŠ åƒç´ çº§é«˜æ–¯æ¨¡ç³Šã€‚</p></li><li><p>å™ªå£°å¯¹æŠ—</p><ul><li>$P_n(\mathbf{X}^{fake}) = \mathbf{X}^{fake} + \mathbf{N}_a$ï¼Œ(5)<ul><li>$\mathbf{N}_a$ï¼šä¸$\mathbf{X}^{fake}$å¤§å°ç›¸åŒçš„å¯¹æŠ—å™ªå£°å›¾ã€‚</li></ul></li></ul><p>åœ¨æ¯ä¸ªæ”»å‡»æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æœ€å°åŒ–æˆ‘ä»¬çš„å¯¹æŠ—æŸå¤±å‡½æ•°æ¥ç”Ÿæˆå¯¹æŠ—å™ªå£°ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°æ¯ä¸ªfake imageä¸­ã€‚ä¸ºäº†ç¡®ä¿å¯¹æŠ—å™ªå£°ä¸ä¼šæ˜¾è‘—å½±å“å›¾åƒçš„è´¨é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¦æŸé¡¹å¯¹$\mathbf{N}_a$è¿›è¡Œç¨€ç–åŒ–ã€‚è¯¥çº¦æŸé¡¹è¢«çº³å…¥åˆ°æœ€ç»ˆçš„ç›®æ ‡å‡½æ•°ä¸­ã€‚</p></li><li><p>StatAttack</p><p>å°†ä¸Šè¿°æ‰°åŠ¨æ€»ç»“å¦‚ä¸‹ï¼š</p><ul><li><p>$P_Î¸(\mathbf{X}^{fake}) = P_n(P_b(P_e(\mathbf{X}^{fake})))$ï¼Œ(6)</p><p>$P_Î¸(\mathbf{X}^{fake})$ åŒ…å«å››ç»„å¾…ä¼˜åŒ–å‚æ•°${\mathbf{a},Ï†,Ïƒ,\mathbf{N}_a}$</p></li></ul></li></ol><h3 id="æ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒç»Ÿè®¡ä¸€è‡´æ€§"><a href="#æ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒç»Ÿè®¡ä¸€è‡´æ€§" class="headerlink" title="æ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒç»Ÿè®¡ä¸€è‡´æ€§"></a>æ„ŸçŸ¥èŠ‚ç‚¹åˆ†å¸ƒç»Ÿè®¡ä¸€è‡´æ€§</h3><p>ç»™å®šä¸€ç»„çœŸå®å›¾åƒå’Œä¸€ç»„ä¼ªé€ å›¾åƒï¼Œæœ¬è®ºæ–‡ç ”ç©¶äº†ä¸¤ä¸ªé›†åˆçš„ç»Ÿè®¡å·®å¼‚ä¸åˆ†å¸ƒåç§»ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå‘ç°ç»Ÿè®¡å·®å¼‚ä¸ä¸¤ä¸ªé›†åˆä¹‹é—´çš„åˆ†å¸ƒåç§»æ­£ç›¸å…³ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230507224035701.png" alt="fig6.ç»Ÿè®¡å·®å¼‚ä¸è‡ªç„¶å›¾åƒé›†å’Œä¼ªé€ å›¾åƒé›†çš„åˆ†å¸ƒåç§»ä¹‹é—´çš„ç›¸å…³æ€§ã€‚(1)-(4)å±•ç¤ºäº†ä¸¤ç»„ç‰¹å¾åˆ†å¸ƒä¹‹é—´çš„åŠŸç‡è°±å’ŒMMDå€¼ã€‚è“è‰²æ›²çº¿è¡¨ç¤ºGANç”Ÿæˆå›¾åƒçš„é«˜é¢‘éƒ¨åˆ†ï¼Œçº¢è‰²æ›²çº¿ä»£è¡¨è‡ªç„¶å›¾åƒçš„ã€‚ä½¿ç”¨ä¸åŒé«˜æ–¯æ ¸$\sigma$çš„é«˜æ–¯æ¨¡ç³Šå¤„ç†ä¼ªé€ å›¾åƒï¼Œè§‚å¯Ÿåˆ°éšç€é«˜é¢‘ç»Ÿè®¡å·®å¼‚çš„å‡å°ï¼ŒMMDå€¼ä¹Ÿéšä¹‹å‡å°ã€‚"></p><p>fig6.ç»Ÿè®¡å·®å¼‚ä¸è‡ªç„¶å›¾åƒé›†å’Œä¼ªé€ å›¾åƒé›†çš„åˆ†å¸ƒåç§»ä¹‹é—´çš„ç›¸å…³æ€§ã€‚(1)-(4)å±•ç¤ºäº†ä¸¤ç»„ç‰¹å¾åˆ†å¸ƒä¹‹é—´çš„åŠŸç‡è°±å’ŒMMDå€¼ã€‚è“è‰²æ›²çº¿è¡¨ç¤ºGANç”Ÿæˆå›¾åƒçš„é«˜é¢‘éƒ¨åˆ†ï¼Œçº¢è‰²æ›²çº¿ä»£è¡¨è‡ªç„¶å›¾åƒçš„ã€‚ä½¿ç”¨ä¸åŒé«˜æ–¯æ ¸$\sigma$çš„é«˜æ–¯æ¨¡ç³Šå¤„ç†ä¼ªé€ å›¾åƒï¼Œè§‚å¯Ÿåˆ°éšç€é«˜é¢‘ç»Ÿè®¡å·®å¼‚çš„å‡å°ï¼ŒMMDå€¼ä¹Ÿéšä¹‹å‡å°ã€‚</p><p>ä½¿ç”¨æœ€å¤§å‡å€¼å·®å¼‚ï¼ˆMMDï¼‰æ¥è¡¡é‡è¿‡æ»¤åçš„ä¼ªé€ å›¾åƒä¸è‡ªç„¶å›¾åƒçš„ç‰¹å¾åˆ†å¸ƒä¹‹é—´çš„è·ç¦»ã€‚å¢å¤§$\sigma$å¯ä»¥é™ä½ä¼ªé€ å›¾åƒä¸­çš„é«˜é¢‘é¢‘è°±ï¼Œä¸”MMDå€¼éšç€ç»Ÿè®¡å·®å¼‚çš„å‡å°è€Œå‡å°ã€‚</p><ol><li><p>ç›®æ ‡å‡½æ•°</p><p>è‹¥ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬è¢«åˆ†ç±»ä¸ºç›¸åçš„ç±»ï¼Œåˆ™è®¤ä¸ºå¯¹äºŒåˆ†ç±»å™¨çš„æ”»å‡»æ˜¯æˆåŠŸçš„ã€‚ç›®æ ‡å‡½æ•°ï¼š</p><ul><li>$\mathop{argmin} \limits<em>{a,Ï†,Ïƒ,\mathbf{N}a} J{MMD}( P</em>Î¸ (\mathcal{X}^{fake}) , \mathcal{X}^{real}) + S(\mathbf{a}, Ï†), \newline subject\ to\ âˆ¥N_aâˆ¥_p â‰¤ \epsilon$ï¼Œ(7)<ul><li>$\mathcal{X}$ï¼šå›¾åƒé›†</li><li>$J_{MMD}(\cdot)$ï¼šåœ¨æŸä¸ªæ£€æµ‹å™¨å±‚ä¸­ä¸¤ä¸ªç‰¹å¾åˆ†å¸ƒä¹‹é—´çš„MMDå€¼ã€‚</li></ul></li></ul><p>é€šè¿‡ç›®æ ‡å‡½æ•°è®¡ç®—æ›å…‰å¯¹æŠ—ã€é«˜æ–¯æ¨¡ç³Šå¯¹æŠ—å’Œå™ªå£°å¯¹æŠ—çš„å‚æ•°ã€‚</p></li><li><p>ç®—æ³•</p><p>åˆå§‹åŒ–3ä¸ªæ‰°åŠ¨å‚æ•°${\mathbf{a},Ï†,Ïƒ,\mathbf{N}_a}$ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä¼ªé€ å›¾åƒä¸­ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨æ¯ä¸ªåŸºäºDNNçš„æ£€æµ‹å™¨æ¨¡å‹ä¸­æ”¶é›†è‡ªç„¶å›¾åƒå’Œä¼ªé€ å›¾åƒåœ¨å…¨å±€æ± åŒ–å±‚ä¸Šçš„ç‰¹å¾åˆ†å¸ƒï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„MMDå€¼ã€‚ä¸ºäº†ä¼˜åŒ–æ‰°åŠ¨å‚æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¦å·æ¢¯åº¦ä¸‹é™æ¥æœ€å°åŒ–<a href="https://www.notion.so/153d6722aaa84625aff399460f7d3153">æ–¹ç¨‹(7)</a>ã€‚æœ€åï¼Œå°†${\mathbf{a},Ï†,Ïƒ,\mathbf{N}_a}$çš„ä¼˜åŒ–å€¼åº”ç”¨äºåŸå§‹ä¼ªé€ å›¾åƒï¼Œä»è€Œç”Ÿæˆå¯¹æŠ—ä¼ªé€ å›¾åƒã€‚</p></li></ol><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230507223500404.png" alt="fig5.æ”»å‡»ç”Ÿæˆæµç¨‹ã€‚é¦–å…ˆï¼Œåœ¨ä¼ªé€ å›¾åƒä¸­åŠ å…¥åˆå§‹åŒ–çš„å¯¹æŠ—é€€åŒ–ï¼ˆæ›å…‰å¯¹æŠ—ã€é«˜æ–¯æ¨¡ç³Šå¯¹æŠ—ã€å™ªå£°å¯¹æŠ—ï¼‰ã€‚ç„¶åï¼Œæ”¶é›†è‡ªç„¶å›¾åƒå’Œä¼ªé€ å›¾åƒçš„ç‰¹å¾åˆ†å¸ƒå¹¶è®¡ç®—å…¶MMDå€¼ï¼ˆæœ€å¤§å‡å€¼å·®å¼‚ï¼Œå¯è¢«ä½¿ç”¨ä¸ºæŸå¤±å‡½æ•°ï¼‰ã€‚æœ€åï¼Œé€šè¿‡æœ€å°åŒ–æŸå¤±å‡½æ•°æ¥ä¼˜åŒ–æ‰°åŠ¨å‚æ•°ï¼Œå¹¶å°†ä¼˜åŒ–åçš„é€€åŒ–åº”ç”¨äºä¼ªé€ å›¾åƒã€‚"></p><h2 id="å¤šå±‚Statæ”»å‡»ï¼ˆMAtatAttackï¼‰"><a href="#å¤šå±‚Statæ”»å‡»ï¼ˆMAtatAttackï¼‰" class="headerlink" title="å¤šå±‚Statæ”»å‡»ï¼ˆMAtatAttackï¼‰"></a>å¤šå±‚Statæ”»å‡»ï¼ˆMAtatAttackï¼‰</h2><p>åœ¨å›¾åƒä¸­åå¤æ·»åŠ å¯¹æŠ—æ‰°åŠ¨å¯èƒ½ä¼šæé«˜æ”»å‡»çš„æˆåŠŸç‡ã€‚å› æ­¤æˆ‘ä»¬è¿›ä¸€æ­¥å°†StatAttackæ‰©å±•åˆ°MStatAttackï¼Œä¾æ¬¡å°†å•å±‚é€€åŒ–æ‰©å±•åˆ°å¤šå±‚é€€åŒ–ï¼Œå¹¶ä½¿ç”¨æŸå¤±æ¥è”åˆè°ƒæ•´ç»„åˆæƒé‡ã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528142650597.png" alt="fig7.MStatæ”»å‡»çš„ä½“ç³»ç»“æ„ã€‚åœ¨æœ€å°åŒ–ç›®æ ‡å‡½æ•°æ—¶ï¼Œå¯¹æ¯ç§æ”»å‡»æ¨¡å¼çš„æƒé‡å’Œå‚æ•°è¿›è¡Œè”åˆä¼˜åŒ–ã€‚"></p><p>å¦‚fig7æ‰€ç¤ºï¼ŒMStatAttackä½¿ç”¨å¤šå±‚æ¥å¤„ç†è¾“å…¥ã€‚åœ¨ç¬¬kå±‚ï¼ŒMStatAttackå–ç¬¬(k-1)å±‚çš„è¾“å‡ºï¼Œè®°ä¸º$\mathbf{X}^{fake}<em>{p</em>{k-1}}$ï¼Œå¹¶è¡Œåº”ç”¨3ç§é€€åŒ–å¯¹æŠ—ï¼ˆ$eã€bã€n$ï¼‰ï¼›ç„¶åï¼Œæˆ‘ä»¬ç»´æŠ¤å››ä¸ªæƒé‡ï¼ˆ$wâ€™<em>{e_k}ã€wâ€™</em>{b<em>k}ã€wâ€™<em>{n_k}ã€wâ€™</em>{\mathbf{X}<em>k}$ï¼‰ä»¥æ··åˆ$\mathbf{X}^{fake}</em>{p</em>{k-1}}$åŠå…¶3ä¸ªæ‰°åŠ¨ç‰ˆæœ¬ï¼Œè·å–ç¬¬kå±‚çš„è¾“å‡ºã€‚ä¸ºäº†ä¿è¯å››ä¸ªæƒé‡ä¹‹å’Œç­‰äº1ï¼Œæˆ‘ä»¬å°†å®ƒä»¬é¦ˆé€åˆ°softmaxå±‚ï¼Œå¾—åˆ°ï¼ˆ$w<em>{e_k}ã€w</em>{b<em>k}ã€w</em>{n<em>k}ã€w</em>{\mathbf{X}_k}$ï¼‰ã€‚å„å±‚æ‰°åŠ¨å¯å†™ä½œï¼š</p><ul><li><p>$X^{fake}<em>{p_k} = w</em>{e<em>k} P_e(\mathbf{X}^{fake}<em>{ p</em>{kâˆ’1}})+w</em>{b<em>k} P_b(\mathbf{X}^{fake}</em> {p<em>{kâˆ’1}} ) + w</em>{n<em>k} P_n(\mathbf{X}^{fake}<em>{ p</em>{kâˆ’1}} ) + w</em>{\mathbf{X}<em>k} \mathbf{X}^{fake}</em>{ p_{kâˆ’1}} , n â‰¥ 1$ï¼Œ(8)</p><p>$\mathbf{X}^{fake}_{p_k}$ï¼šç¬¬kå±‚ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬</p></li></ul><p>åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼ŒåŸºäºæŸå¤±å‡½æ•°å¯¹åŸå§‹æƒé‡å’Œæ‰€æœ‰é€€åŒ–å‚æ•°è¿›è¡Œè”åˆä¼˜åŒ–ã€‚sofmaxå±‚ç¡®ä¿æ›´æ–°åçš„æƒé‡ç›¸åŠ ä¸º1ï¼Œé˜²æ­¢å›¾åƒæ··åˆè¿‡ç¨‹ç§çš„å¼ºåº¦æº¢å‡ºã€‚</p><p>é™¤äº†è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ”»å‡»ç­–ç•¥ï¼ˆå³æ‰°åŠ¨ç»„åˆï¼‰å¤–ï¼ŒMStatAttackè¿˜å¯ä»¥é€šè¿‡åŸå§‹ä¼ªé€ å›¾åƒä¸­èå…¥æ›´å¤šçš„æˆåˆ†æ¥å¢å¼ºç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬ã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528143148453.png" alt="ç©ºé—´ç›¸å…³æ€§æ·±åº¦ä¼ªé€ æ¢æµ‹å™¨çš„æ”»å‡»æˆåŠŸç‡å’Œå›¾åƒè´¨é‡è¯„ä¼°ã€‚åœ¨æ¯ç»„ä¸­ï¼Œç¬¬ä¸€åˆ—è¡¨ç¤ºåœ¨ç™½ç›’ç¯å¢ƒä¸‹çš„æ”»å‡»æˆåŠŸç‡ï¼Œç¬¬äºŒã€ä¸‰ã€å››åˆ—æ˜¯åœ¨å…¶ä»–æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨ä¸Šçš„è½¬ç§»æ”»å‡»æˆåŠŸç‡ã€‚æˆ‘ä»¬ç”¨çº¢è‰²ã€é»„è‰²å’Œè“è‰²æ ‡è®°äº†ç¬¬ä¸€ã€ç¬¬äºŒå’Œç¬¬ä¸‰é«˜çš„æ”»å‡»æˆåŠŸç‡ã€‚æœ€åä¸€åˆ—æ˜¯BRISQUEè¯„åˆ†"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230528143238345.png" alt="åŸºäºé¢‘ç‡çš„æ·±åº¦ä¼ªé€ æ£€æµ‹å™¨çš„æ”»å‡»æˆåŠŸç‡å’Œå›¾åƒè´¨é‡è¯„ä¼°ã€‚æ¯ç»„ä¸­ï¼Œç¬¬1åˆ—è¡¨ç¤ºç™½ç›’è®¾ç½®ä¸‹çš„æ”»å‡»æˆåŠŸç‡ï¼Œç¬¬2åˆ—æ˜¯é»‘ç›’è®¾ç½®ä¸‹çš„æ”»å‡»æˆåŠŸç‡ã€‚ResNetåˆ—è¡¨ç¤ºç”±ResNetç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬çš„è¿ç§»æˆåŠŸç‡ã€‚æˆ‘ä»¬ç”¨çº¢è‰²ã€é»„è‰²å’Œè“è‰²æ ‡è®°äº†ç¬¬ä¸€ã€ç¬¬äºŒå’Œç¬¬ä¸‰é«˜çš„æ”»å‡»æˆåŠŸç‡ã€‚æœ€åä¸€åˆ—æ˜¯BRISQUEè¯„åˆ†"></p>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> DeepFake </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ–‡çŒ®é˜…è¯»]åŸºäºç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»çš„å¯è¿ç§»å¯¹æŠ—æ”»å‡»-FIA</title>
      <link href="/article/87c239f0/"/>
      <url>/article/87c239f0/</url>
      
        <content type="html"><![CDATA[<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><blockquote><p>è®ºæ–‡ä½ç½®ï¼š<a href="https://arxiv.org/abs/2107.14185">[2107.14185] Feature Importance-aware Transferable Adversarial Attacks (arxiv.org)</a></p><p>æ—¥æœŸï¼š2021-07</p><p>å…³é”®è¯ï¼šAdversarial Attack</p><p>å‡ºå¤„ï¼šICCV 2021</p><p>ä»£ç ä»“åº“ï¼š<a href="https://github.com/hcguoO0/FIA">https://github.com/hcguoO0/FIA</a></p></blockquote><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><ul><li>æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNsï¼‰å®¹æ˜“å—åˆ°å¯¹æŠ—æ ·æœ¬å¯¹æ·±åº¦ç¥ç»ç½‘ç»œçš„å½±å“åœ¨ç ”ç©¶ç¥ç»ç½‘ç»œçš„å†…éƒ¨ç¼ºé™·å’Œæé«˜å…¶é²æ£’æ€§æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚</li><li>ä¼ ç»Ÿæ”»å‡»æ–¹æ³•å¦‚FGSMã€BIMç­‰åˆ¶ä½œçš„å¯¹æŠ—æ ·æœ¬å¾€å¾€ç”±äºå¯¹æºæ¨¡å‹çš„è¿‡æ‹Ÿåˆè€Œè¡¨ç°å‡ºè¾ƒå¼±çš„å¯è¿ç§»æ€§ã€‚</li><li>ç°æœ‰çš„å¯è¿ç§»æ€§çš„å¯¹æŠ—æ€§æ‰°åŠ¨ç›´æ¥åœ¨ä¸­é—´å±‚è¿›è¡Œæ”»å‡»ï¼Œæ²¡æœ‰å¹²æ‰°è¾“å‡ºå±‚ï¼Œä¸”æœ€å¤§åŒ–å†…éƒ¨ç‰¹å¾å¤±çœŸï¼Œä»¥å¢å¼ºå¯è¿ç§»æ€§ï¼›ç„¶è€Œå…¶é€šè¿‡ä¸åŠ åŒºåˆ†åœ°æ‰­æ›²ç‰¹å¾æ¥ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œè€Œæ²¡æœ‰æ„è¯†åˆ°å›¾åƒä¸­ç‰©ä½“åœ°å†…éƒ¨ç‰¹å¾ï¼Œå› æ­¤å®¹æ˜“é™·å…¥ç‰¹å®šäºæ¨¡å‹çš„å±€éƒ¨æœ€ä¼˜ã€‚</li><li>æœ¬è®ºæ–‡æå‡ºäº†ä¸€ä¸ªç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»çš„æ–¹æ³•ï¼Œé€šè¿‡<strong>ç ´åä¸»å¯¼ä¸åŒæ¨¡å‹å†³ç­–çš„å…³é”®å¯¹è±¡æ„ŸçŸ¥ç‰¹æ€§</strong>ï¼ˆä¹Ÿå°±æ˜¯ç ´åä¸»å¯¼æ¨¡å‹å†³ç­–çš„ä¸€äº›ç‰¹æ€§ï¼‰ï¼Œä»è€Œæ˜¾è‘—æé«˜å¯¹æŠ—æ ·æœ¬çš„è¿ç§»æ€§ã€‚é’ˆå¯¹ç‰¹å®šäºæ¨¡å‹çš„ç‰¹å¾ï¼Œæˆ‘ä»¬<strong>å¼•å…¥äº†èšåˆæ¢¯åº¦</strong>ï¼Œå®ƒå°†æœ‰æ•ˆåœ°ä¸€ç›´ç‰¹å®šäºæ¨¡å‹çš„ç‰¹å¾ï¼ŒåŒæ—¶æä¾›ç‰¹å¾çš„å¯¹è±¡æ„ŸçŸ¥é‡è¦æ€§ã€‚</li></ul><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527224326542.png" alt="Fig.1 æ¨¡å‹æ³¨æ„åŠ›æ„ŸçŸ¥å¯è§†åŒ–å›¾åƒã€‚ç‰¹å¾æ€§æ„ŸçŸ¥æ”»å‡»ï¼ˆä¸‹æ’ï¼‰æŠ‘åˆ¶äº†æ¨¡å‹å¯¹é‡è¦ç‰¹å¾çš„å…³æ³¨ï¼Œè€Œä¿ƒè¿›äº†å¯¹çç¢æ— å…³çš„ç‰¹å¾çš„å…³æ³¨ï¼Œä»è€Œæ˜¾è‘—æ•£ç„¦/è¯¯å¯¼æ¨¡å‹ã€‚è¿™æ ·çš„å¯¹æŠ—æ ·æœ¬å¯¼è‡´æºæ¨¡å‹å’Œç›®æ ‡æ¨¡å‹ä¸ä»…æœªèƒ½æ•æ‰åˆ°é‡è¦å¯¹è±¡ï¼Œè€Œä¸”è¿˜å°†æ³¨æ„åŠ›æ”¾åœ¨çç¢åŒºåŸŸã€‚"></p><ul><li>æœ¬è®ºæ–‡çš„ä¸»è¦è´¡çŒ®ï¼š<ul><li>æå‡ºç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»ï¼ˆFeature Importance-aware Attackï¼ŒFIAï¼‰ï¼Œé€šè¿‡<strong>ç ´åä¸»å¯¼ä¸åŒæ¨¡å‹å†³ç­–çš„å…³é”®å¯¹è±¡æ„ŸçŸ¥ç‰¹å¾</strong>æ¥å¢å¼ºå¯¹æŠ—æ ·æœ¬çš„å¯è¿ç§»æ€§ï¼›</li><li>åˆ†æäº†ç°æœ‰å·¥ä½œç›¸å¯¹è¾ƒä½çš„å¯æ€§èƒŒåçš„åŸºæœ¬åŸç†ï¼Œå³å¯¹ç‰¹å®šäºæ¨¡å‹çš„â€œå™ªå£°â€ç‰¹å¾çš„<strong>è¿‡åº¦æ‹Ÿåˆ</strong>ï¼Œé’ˆå¯¹è¿™äº›ç‰¹å¾<strong>å¼•å…¥èšåˆæ¢¯åº¦</strong>ï¼Œä»¥æŒ‡å¯¼ç”Ÿæˆæ›´å¤šå¯è¿ç§»çš„å¯¹æŠ—æ ·æœ¬ã€‚</li></ul></li></ul><h1 id="ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»ï¼ˆFIAï¼‰"><a href="#ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»ï¼ˆFIAï¼‰" class="headerlink" title="ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»ï¼ˆFIAï¼‰"></a>ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»ï¼ˆFIAï¼‰</h1><h2 id="é¢„å¤‡"><a href="#é¢„å¤‡" class="headerlink" title="é¢„å¤‡"></a>é¢„å¤‡</h2><p>å¯¹äºä¸€ä¸ªåˆ†ç±»æ¨¡å‹$f<em>\theta:x\mapsto y$ï¼Œå…¶ä¸­xå’Œyåˆ†åˆ«è¡¨ç¤ºå¹²å‡€å›¾åƒï¼ˆåŸå§‹å›¾åƒ/è‡ªç„¶å›¾åƒï¼‰å’ŒçœŸå®æ ‡ç­¾ï¼ŒÎ¸è¡¨ç¤ºæ¨¡å‹çš„å‚æ•°ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç”Ÿæˆä¸€ä¸ªå¯¹æŠ—æ ·æœ¬$x^{adv}=x+\epsilon$ï¼Œä»¥é€šè¿‡è®¾è®¡å‡ºæ‰°åŠ¨$\epsilon$æ¥è¯¯å¯¼åˆ†ç±»å™¨ï¼Œä¹Ÿå³ä½¿å¾—$f</em>\theta(x^{adv})â‰ y$ã€‚é€šå¸¸ï¼Œ$\ell_p-$èŒƒæ•°ç”¨äºæ­£åˆ™åŒ–æ‰°åŠ¨ã€‚å› æ­¤ï¼Œå¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆå¯ä»¥è¡¨è¿°ä¸ºå¦‚ä¸‹å¼çš„ä¼˜åŒ–é—®é¢˜ï¼š</p><ul><li>$\large arg \mathop{max}\limits_{x^{adv}}J(x^{adv},y),s.t. ||x-x^{adv}||_pâ‰¤\epsilon$ï¼Œ   (1)<ul><li>å…¶ä¸­$J(Â·,Â·)$ä¸ºæŸå¤±å‡½æ•°ï¼Œæµ‹é‡çœŸå®æ ‡ç­¾ä¸é¢„æµ‹æ ‡ç­¾é—´çš„å·®è·ï¼ˆå³äº¤å‰ç†µï¼‰</li><li>$argmax\ g(t)$è¡¨è¾¾çš„æ˜¯å®šä¹‰åŸŸçš„ä¸€ä¸ªå­é›†ï¼Œä¸”ç›–å­é›†ä¸­ä»»ä¸€å…ƒç´ éƒ½å¯ä½¿å‡½æ•°$g(t)$å–æœ€å¤§å€¼</li><li>åœ¨è¿™é¡¹å·¥ä½œä¸­$p=âˆ$</li></ul></li></ul><h2 id="ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»æ¦‚è¿°"><a href="#ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»æ¦‚è¿°" class="headerlink" title="ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»æ¦‚è¿°"></a>ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»æ¦‚è¿°</h2><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527224535505.png" alt="Fig.2 ç‰¹å¾é‡è¦æ€§æ„ŸçŸ¥æ”»å‡»æ¦‚è¿°å›¾ã€‚ç»™å®šä¸€ä¸ªè¾“å…¥å›¾åƒï¼Œä»ä¸­é—´å±‚ï¼ˆçº¢è‰²ç¤ºå—ï¼‰ä¸­æå–ç‰¹å¾å›¾ã€‚ç„¶åè®¡ç®—ä»è¾“å‡ºå›ä¼ åˆ°ç‰¹å¾å›¾çš„æ¢¯åº¦ï¼Œä½œä¸ºç‰¹å¾é‡è¦æ€§ï¼ˆFeture Importanceï¼‰ã€‚å°†ç‰¹å¾å›¾å’Œå½’ä¸€åŒ–æ¢¯åº¦è¿›è¡Œç‚¹ç§¯ï¼ˆElement-wise Productï¼‰åå¾—åˆ°åŠ æƒçš„ç‰¹å¾å›¾ï¼Œä»¥è¾¾åˆ°æŠ‘åˆ¶ç§¯æ/é‡è¦ç‰¹å¾å¹¶ä¿ƒè¿›æ¶ˆæ/çç¢ç‰¹å¾çš„ç›®çš„æ¥å®ç°ä¼˜åŒ–ï¼Œè·å¾—å…·æœ‰æ›´é«˜å¯è¿ç§»æ€§çš„å¯¹æŠ—æ ·æœ¬ã€‚"></p><blockquote><p><strong>ç‰¹å¾é‡è¦æ€§</strong></p><p>ä¸åŒçš„ç½‘ç»œä¼šæå–æ’ä»–æ€§ç‰¹å¾æ¥æ›´å¥½åœ°é€‚åº”æ•°æ®åŸŸï¼Œè¿™å°±äº§ç”Ÿäº†ç‰¹å®šäºæ¨¡å‹çš„ç‰¹å¾è¡¨ç¤ºï¼Œå› è€Œå¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆéœ€è¦ç”±æ¥è‡ªæºæ¨¡å‹çš„ä¸æ¨¡å‹æ— å…³çš„å…³é”®ç‰¹å¾æ¥æŒ‡å¯¼ï¼Œè¿™è¢«ç§°ä¸ºç‰¹å¾é‡è¦æ€§ã€‚</p></blockquote><h2 id="åŸºäºæ¢¯åº¦èšåˆçš„ç‰¹å¾é‡è¦æ€§"><a href="#åŸºäºæ¢¯åº¦èšåˆçš„ç‰¹å¾é‡è¦æ€§" class="headerlink" title="åŸºäºæ¢¯åº¦èšåˆçš„ç‰¹å¾é‡è¦æ€§"></a>åŸºäºæ¢¯åº¦èšåˆçš„ç‰¹å¾é‡è¦æ€§</h2><p>ç”±äºç‰¹å¾é‡è¦æ€§ä¸ç‰¹å¾å¯¹æœ€ç»ˆå†³ç­–çš„è´¡çŒ®ç¨‹åº¦æˆæ­£æ¯”ï¼Œä¸€ä¸ªæ–¹æ³•æ˜¯é€šè¿‡ä¸‹å¼è®¡ç®—å…³äº$f_k(x)$çš„æ¢¯åº¦æ¥æ±‚å¾—ç‰¹å¾é‡è¦æ€§ï¼š</p><ul><li>$\Large \Delta^x_k=\frac{\partial l(x,t)}{\partial f_k(x)}$ï¼Œ   (2)<ul><li>ä»¤$f$è¡¨ç¤ºæºæ¨¡å‹ï¼Œåˆ™$f_k(x)$è¡¨ç¤ºæ¥è‡ªç¬¬$k$å±‚çš„ç‰¹å¾å›¾</li><li>$l(Â·,Â·)$è¡¨ç¤ºç›¸å¯¹äºçœŸå®æ ‡ç­¾$t$çš„å¯¹æ•°è¾“å‡º</li></ul></li></ul><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527224625171.png" alt="Fig.3 VGG16çš„Conv3_3å±‚çš„ç‰¹å¾å›¾å’Œç›¸åº”çš„æ¢¯åº¦çš„å¯è§†åŒ–ã€‚å…¶ä¸­Raw Featuresè¡¨ç¤ºåŸå§‹ç‰¹å¾å›¾ï¼ŒRaw Gradientsè¡¨ç¤ºåŸå§‹æ¢¯åº¦å›¾ï¼›Aggregate Featuresè¡¨ç¤ºç»èšåˆä¹‹åçš„ç‰¹å¾å›¾ï¼ŒAggregate Gradientsè¡¨ç¤ºç»èšåˆä¹‹åçš„æ¢¯åº¦å›¾ã€‚Rawæ˜¯ä»åŸå§‹å›¾åƒä¸­è·å¾—ï¼ŒAggregateæ˜¯ä»åŸå§‹å›¾åƒå¤šæ¬¡å˜æ¢ï¼ˆå³éšå³åƒç´ ä¸‹é™ï¼‰è·å¾—çš„ã€‚"></p><p>å¯ä»¥çœ‹å‡ºåŸå§‹æ¢¯åº¦å›¾å’ŒåŸå§‹ç‰¹å¾å›¾åœ¨è§†è§‰ä¸Šéƒ½æ˜¯æœ‰å™ªå£°çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨éç›®æ ‡åŒºåŸŸä¸Šå­˜åœ¨è„‰å†²è¾ƒå¤§çš„æ¢¯åº¦ï¼Œè¿™å¯èƒ½æ—¶ç”±äºæ¨¡å‹ç‰¹æœ‰çš„è§£ç©ºé—´é€ æˆçš„ï¼›ä½†ç»è¿‡èšåˆä¹‹åçš„ç‰¹å¾å›¾å’Œæ¢¯åº¦å›¾å°±æ¶ˆé™¤äº†è¿™æ ·çš„å½±å“ï¼Œåªåœ¨ç›®æ ‡åŒºåŸŸå­˜åœ¨è„‰å†²è¾ƒå¤§çš„æ¢¯åº¦ã€‚å¯ä»¥è¯´ï¼Œä¸åŸå§‹æ¢¯åº¦ç›¸æ¯”ï¼Œ<strong>èšåˆæ¢¯åº¦æ›´åŠ å¹²å‡€ã€æ›´åŠ å…³æ³¨å¯¹è±¡</strong>ï¼Œåœ¨å¯è½¬ç§»çš„è§†è§’ä¸­æä¾›äº†æ›´å¥½çš„ç‰¹å¾é‡è¦æ€§ã€‚</p><h3 id="èšåˆæ¢¯åº¦"><a href="#èšåˆæ¢¯åº¦" class="headerlink" title="èšåˆæ¢¯åº¦"></a>èšåˆæ¢¯åº¦</h3><p>ä¸ºäº†æŠ‘åˆ¶ç‰¹å®šäºæ¨¡å‹çš„ä¿¡æ¯ï¼Œæœ¬è®ºæ–‡æå‡ºèšåˆæ¢¯åº¦ï¼ˆaggregate gradientï¼‰ï¼Œèšåˆäº†æ¥è‡ªéšæœºå˜æ¢$x$çš„æ¢¯åº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527224656060.png" alt="Fig.4 èšåˆæ¢¯åº¦çš„å›¾è§£ã€‚æ¢¯åº¦æ˜¯ä»å¤šä¸ªéšæœºæ©ç å›¾åƒä¸­è·å¾—çš„ï¼Œä¸”æœ€ç»ˆçš„èšåˆæ¢¯åº¦ï¼ˆå³ç‰¹å¾é‡è¦æ€§ï¼‰ç”±è¿™äº›æ¢¯åº¦çš„å¹³å‡å€¼è¡¨ç¤ºã€‚"></p><p>æ¢¯åº¦èšåˆå…¬å¼ï¼š</p><ul><li>$\large\bar{\Delta}<em>k^x=\frac{1}{C}\sum\limits^N</em>{n=1}\Delta^{x\odot M^n<em>{p_d}}_k,M</em>{p_d}\sim Bernoulli(1-p_d)$ï¼Œ   (3)<ul><li>$M_{p_d}$è¡¨ç¤ºå’ŒåŸå›¾xå¤§å°ç›¸åŒçš„äºŒè¿›åˆ¶çŸ©é˜µï¼ˆç¬¦åˆæœä»å‚æ•°ä¸º$1-p_d$çš„ä¼¯åŠªåˆ©åˆ†å¸ƒï¼‰</li><li>$\bigodot$è¡¨ç¤ºç‚¹ç§¯</li><li>æ ‡å‡†åŒ–æ•°$C$æ˜¯$\ell_2-$èŒƒæ•°ï¼Œç”¨ä»¥çº¦æŸèšåˆæ¢¯åº¦</li><li>$N$è¡¨ç¤ºåº”ç”¨äºè¾“å…¥$x$çš„éšæœºæ©ç çš„æ•°é‡</li><li>$p_d$ä¸ºä¸‹é™ç‡</li></ul></li></ul><p><strong>å³é¦–å…ˆå°†åŸå›¾ä¸éšæœºæ©ç å›¾åƒè¿›è¡Œç‚¹ç§¯ï¼Œç„¶åå°†ç»“æœè¾“å…¥åˆ°æ¨¡å‹ä¸­æ±‚ç¬¬kå±‚ç‰¹å¾å›¾çš„æ¢¯åº¦ï¼Œæœ€åå°†è¿™äº›æ¢¯åº¦è¿›è¡Œç›¸åŠ ï¼ˆèšåˆï¼‰ï¼Œå¹¶ä½¿ç”¨$\ell_2-$èŒƒæ•°æ¥åšä¸€ä¸ªçº¦æŸï¼Œå¾—åˆ°èšåˆæ¢¯åº¦ã€‚</strong></p><blockquote><p>$\ell_2-$èŒƒæ•°ï¼šå®šä¹‰ä¸ºå‘é‡æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹å’Œçš„å¼€å¹³æ–¹</p></blockquote><p>ç”±äºè¯­ä¹‰ç›®æ ‡æ„ŸçŸ¥/é‡è¦ç‰¹å¾/æ¢¯åº¦å¯¹ä¸Šè¿°çš„è¿™ä¸ªå˜æ¢æ˜¯é²æ£’çš„ï¼Œä½†æ˜¯ä¸€äº›ç‰¹å®šæ¨¡å‹çš„æ¢¯åº¦æˆ–è€…ç‰¹å¾å®¹æ˜“å—åˆ°è½¬æ¢çš„åº”å‘ï¼Œå› æ­¤é‚£äº›é²æ£’çš„å¯è¿ç§»çš„ç‰¹å¾å°†ä¼šåœ¨èšåˆåè¢«çªå‡ºæ˜¾ç¤ºï¼Œè€Œå…¶ä»–çš„æ¢¯åº¦å°†ä¼šè¢«ä¸­å’Œã€‚</p><h3 id="æ”»å‡»ç®—æ³•"><a href="#æ”»å‡»ç®—æ³•" class="headerlink" title="æ”»å‡»ç®—æ³•"></a>æ”»å‡»ç®—æ³•</h3><p>æ ¹æ®ä¸Šè¿°çš„ç‰¹å¾é‡è¦æ€§ï¼ˆå³èšåˆæ¢¯åº¦$\bar\Delta_k^x$ï¼‰ï¼Œæœ¬è®ºæ–‡æœ‰å¦‚ä¸‹æŸå¤±å‡½æ•°å…¬å¼æ¥æŠ‘åˆ¶ç‰¹å¾é‡è¦æ€§ï¼Œä»¥æŒ‡å¯¼å¯¹æŠ—æ ·æœ¬$x^{adv}$çš„ç”Ÿæˆï¼š</p><ul><li><p>$\large \mathcal{L}(x^{adv})=\sum(\Delta \odot f_k(x^{adv}))$ï¼Œ   (4)</p><blockquote><p>ä¸ºäº†ç®€ä¾¿è€Œå°†$\bar\Delta^x_k$è¡¨ç¤ºä¸º$\Delta$</p></blockquote></li></ul><p>ç›´è§‚è€Œè¨€ï¼Œä¿®æ­£ç‰¹å¾ä»¥é è¿‘çœŸå®æ ‡ç­¾çš„é‡è¦ç‰¹å¾åœ¨ç‰¹å¾é‡è¦æ€§$\Delta$ä¸­å æœ‰è¾ƒé«˜çš„æ¯”é‡ï¼Œä¸”$\Delta$çš„ç¬¦å·ç»™ä¿®æ­£æä¾›äº†æ–¹å‘ã€‚<strong>ç”Ÿæˆå¯è¿ç§»çš„å¯¹æŠ—æ ·æœ¬çš„ç›®çš„æ˜¯å‡å°‘å…·ç¬¦å·ä¸ºæ­£çš„$\Delta$çš„é‡è¦ç‰¹å¾ï¼Œå¢åŠ ç¬¦å·ä¸ºè´Ÿçš„$\Delta$å¯¹åº”çš„é‡è¦ç‰¹å¾ã€‚</strong>å› æ­¤å¯é€šè¿‡æœ€å°åŒ–å¼(4)æ¥å®ç°ã€‚</p><p>æœ€åï¼Œå°†å¼(1)å¸¦å…¥åˆ°å¼(1)ï¼Œå¾—åˆ°æœ€ç»ˆçš„å¯¹æŠ—æ ·æœ¬ç”Ÿæˆå…¬å¼ï¼š</p><p>$\large arg\mathop{min}\limits<em>{x^{adv}}\mathcal{L}(x^{adv}),\ s.t.\ ||x-x^{adv}||</em>âˆâ‰¤\epsilon$ï¼Œ   (5)</p><p>é‡‡ç”¨MIMç®—æ³•æ±‚è§£å¼(5)ç®—æ³•å¦‚ä¸‹ï¼š</p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527224900588.png" alt="MIMç®—æ³•æ˜¯ä¸€ç§å­ç›‘ç£è¡¨å¾å­¦ä¹ æ–¹æ³•ã€‚å…¶ä¸»è¦æ€è·¯æ˜¯å¯¹è¾“å…¥å›¾åƒè¿›è¡Œåˆ†å—å’Œéšæœºæ©ç æ“ä½œï¼Œç„¶åå¯¹æ©ç åŒºåŸŸè¿›è¡Œé¢„æµ‹ã€‚"></p><p>MIMç®—æ³•æ˜¯ä¸€ç§å­ç›‘ç£è¡¨å¾å­¦ä¹ æ–¹æ³•ã€‚å…¶ä¸»è¦æ€è·¯æ˜¯å¯¹è¾“å…¥å›¾åƒè¿›è¡Œåˆ†å—å’Œéšæœºæ©ç æ“ä½œï¼Œç„¶åå¯¹æ©ç åŒºåŸŸè¿›è¡Œé¢„æµ‹ã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><ul><li>ä¸‹é™ç‡$P_d$ï¼šåœ¨å½±å“æˆåŠŸç‡æ–¹é¢èµ·ç€é‡è¦ä½œç”¨ï¼Œè€Œä¸”è¿™ç§å½±å“åœ¨ä¸åŒçš„ç›®æ ‡æ¨¡å‹ä¸­å¾€å¾€æ˜¯ä¸€è‡´çš„ã€‚ä¸€ä¸ªè¾ƒå¤§çš„$P_d$ï¼ˆä¾‹å¦‚ï¼Œ0.5ï¼‰ä¼šç ´åå›¾åƒçš„é‡è¦ç»“æ„ä¿¡æ¯ï¼Œä»è€Œæ˜¾è‘—é™ä½æˆåŠŸç‡ã€‚å› æ­¤ï¼Œæ”»å‡»æ­£å¸¸è®­ç»ƒæ¨¡å‹çš„æœ€ä½³$P_d$åœ¨0.2å’Œ0.3ä¹‹é—´ï¼Œè€Œæ”»å‡»é˜²å¾¡æ¨¡å‹çš„æœ€ä½³$P_d$åº”è¯¥åœ¨0.1å·¦å³ã€‚</li><li>é›†åˆæ•°$N$ï¼šè¾ƒå¤§çš„$N$å¾€å¾€äº§ç”Ÿè¾ƒé«˜çš„æˆåŠŸç‡ï¼Œä½†ä¼šé€æ¸é¥±å’Œã€‚</li><li>æœ€åæˆ‘ä»¬ç¡®å®šäº†é›†æˆæ•°$N=20$ï¼Œæ­£å¸¸è®­ç»ƒæ¨¡å‹çš„ä¸‹é™ç‡$P_d=0.3$ï¼Œä»¥åŠé˜²å¾¡æ¨¡å‹çš„$P_d=0.1$ã€‚</li><li>é€‰æ‹©ä¸­é—´å±‚ï¼šç‰¹å¾å±‚kçš„é€‰æ‹©å¯¹ç‰¹å¾çº§æ”»å‡»æœ‰å¾ˆå¤§çš„å½±å“ï¼Œå› ä¸ºDNNçš„æ—©æœŸå±‚ï¼ˆearly layerï¼‰å¯èƒ½ä¼šæ„å»ºä¸€ä¸ªé€šå¸¸æ˜¯ç‰¹å®šäºæ•°æ®çš„åŸºæœ¬ç‰¹å¾é›†ï¼Œè¾ƒè¿›ä¸€æ­¥çš„å±‚å¯èƒ½ä¼šå¯¹è¿™äº›æå–çš„ç‰¹å¾è¿›è¡Œå¤„ç†ï¼Œä»¥æœ€å¤§åŒ–æ¨¡å‹çš„åˆ†ç±»ç²¾åº¦ï¼Œä½¿è¿™äº›ç‰¹å¾è¿›è¡Œå¤„ç†ï¼Œä»¥æœ€å¤§åŒ–æ¨¡å‹çš„åˆ†ç±»ç²¾åº¦ï¼Œä½¿è¿™äº›ç‰¹å¾æˆä¸ºç‰¹å®šäºæ¨¡å‹çš„ã€‚å› æ­¤<strong>æ—©æœŸå±‚æ²¡æœ‰å­¦ä¹ åˆ°çœŸæ­£ç±»åˆ«çš„æ˜¾è‘—ç‰¹å¾å’Œè¯­ä¹‰æ¦‚å¿µ</strong>ï¼Œè€Œ<strong>åæœŸå±‚æ˜¯ç‰¹å®šäºæ¨¡å‹çš„ï¼Œåœ¨å¯è¿ç§»æ”»å‡»ä¸­åº”è¯¥é¿å¼€</strong>ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>ä¸­é—´å±‚ï¼ˆmiddle layerï¼‰å…·æœ‰è‰¯å¥½çš„åˆ†ç±»è¡¨ç¤ºï¼Œå¹¶ä¸”å®ƒä»¬ä¸æ¨¡å‹æ¶æ„çš„ç›¸å…³æ€§ä¸é«˜</strong>ï¼Œå› æ­¤ä¸­é—´å±‚æ˜¯ä¸ºäº†æ›´å¥½çš„å¯è¿ç§»æ€§è€Œè¢«æ”»å‡»çš„æœ€ä½³é€‰æ‹©ã€‚</li></ul><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527225123057.png" alt="å¯¹æ­£å¸¸è®­ç»ƒçš„æ¨¡å‹è¿›è¡Œä¸åŒæ”»å‡»çš„æˆåŠŸç‡ã€‚ç¬¬1åˆ—æ˜¾ç¤ºæºæ¨¡å‹ï¼Œç¬¬1è¡Œåˆ—å‡ºç›®æ ‡æ¨¡å‹ã€‚FIAæ˜¯æˆ‘ä»¬çš„æ–¹æ³•ï¼ŒFIA + PIMæ˜¯FIAå’ŒPIMçš„ç»“åˆã€‚&#39; * &#39;è¡¨ç¤ºç™½ç›’æ”»å‡»ï¼Œå› ä¸ºç›®æ ‡æ¨¡å‹æ˜¯æºæ¨¡å‹ï¼Œæœ€å¥½çš„ç»“æœç”¨ç²—ä½“çªå‡ºæ˜¾ç¤ºã€‚"></p><p><img src="http://image-host-mooliht.oss-cn-beijing.aliyuncs.com/img/image-20230527225145027.png" alt="é’ˆå¯¹é˜²å¾¡æ¨¡å‹çš„ä¸åŒæ”»å‡»æˆåŠŸç‡ã€‚ç¬¬1åˆ—æ˜¾ç¤ºæºæ¨¡å‹ï¼Œç¬¬1è¡Œåˆ—å‡ºç›®æ ‡æ¨¡å‹ã€‚FIAæ˜¯æˆ‘ä»¬çš„æ–¹æ³•ï¼ŒFIA + PITIMæ˜¯FIAã€PIMå’ŒTIMçš„ç»“åˆã€‚æœ€å¥½çš„ç»“æœä»¥ç²—ä½“çªå‡ºã€‚"></p>]]></content>
      
      
      <categories>
          
          <category> æ–‡çŒ®é˜…è¯» </category>
          
          <category> è§†è§‰åˆ†æä¸å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹æŠ—æ”»å‡» </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> å›¾åƒè¯†åˆ« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[è®¡ç®—æœºåŸºç¡€]bané—¨å¼„fool-ä¸€äº›å¸¸ç”¨çš„å·¥å…·</title>
      <link href="/article/b0d9110f/"/>
      <url>/article/b0d9110f/</url>
      
        <content type="html"><![CDATA[<h1 id="pwndbg-GDB"><a href="#pwndbg-GDB" class="headerlink" title="pwndbg(GDB)"></a>pwndbg(GDB)</h1><h2 id="gdbç®€è®°"><a href="#gdbç®€è®°" class="headerlink" title="gdbç®€è®°"></a>gdbç®€è®°</h2><h3 id="ä¼ é€é—¨"><a href="#ä¼ é€é—¨" class="headerlink" title="ä¼ é€é—¨"></a>ä¼ é€é—¨</h3><font size="4">å®˜ç½‘ï¼š[GDB: The GNU Project Debugger (sourceware.org)](http://www.sourceware.org/gdb/)</font><p>ç™¾ç§‘ï¼š<a href="https://baike.baidu.com/item/gdb/10869514?fr=aladdin">gdb_ç™¾åº¦ç™¾ç§‘ (baidu.com)</a></p><p>æ•™ç¨‹å¤§å…¨ï¼š<a href="https://blog.csdn.net/kangkanglhb88008/article/details/127155083">gdbå…¥é—¨æ•™ç¨‹å¤§å…¨ï¼ˆæ¸…æ™°æ˜äº†ï¼‰_æˆ‘æ˜¯æ ‡åŒå­¦çš„åšå®¢-CSDNåšå®¢_gdb æ•™ç¨‹</a></p><font size="5">å£°éŸ³è¶…ç”œ</font>çš„bç«™æ•™ç¨‹ï¼š[ã€å°ç¥ä»™è®² GDBã€‘ é€šä¿—æ˜“æ‡‚ç‰ˆæ•™ç¨‹ | ä¸€å°æ—¶å…¥é—¨GDB | Debug | c/c++ç¨‹åºå‘˜å¿…å¤‡ | ä½©é›¨å°ç¥ä»™ _å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1EK411g7Li/?spm_id_from=333.337.search-card.all.click&vd_source=7f553078c1aeb5b58ec0305625bc85c8)çŸ¥ä¹ï¼š[GDBè°ƒè¯•å…¥é—¨æŒ‡å— - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/74897601)### å•¥æ˜¯ä¸ªgdb![Summary of GDB](./Tools/img1.png)GDBå¯ä»¥åšå››ç§ä¸»è¦çš„äº‹æƒ…(åŠ ä¸Šæ”¯æŒè¿™äº›äº‹æƒ…çš„å…¶ä»–äº‹æƒ…)æ¥å¸®åŠ©æ‚¨æ•è·bug:â€¢å¯åŠ¨ä½ çš„ç¨‹åºï¼ŒæŒ‡å®šä»»ä½•å¯èƒ½å½±å“å®ƒè¡Œä¸ºçš„ä¸œè¥¿ã€‚â€¢è®©ä½ çš„ç¨‹åºåœ¨ç‰¹å®šæ¡ä»¶ä¸‹åœæ­¢ã€‚â€¢å½“ä½ çš„ç¨‹åºåœæ­¢æ—¶ï¼Œæ£€æŸ¥å‘ç”Ÿäº†ä»€ä¹ˆã€‚â€¢ä¿®æ”¹ç¨‹åºä¸­çš„å†…å®¹ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å°è¯•çº æ­£ä¸€ä¸ªé”™è¯¯çš„å½±å“ï¼Œå¹¶ç»§ç»­å­¦ä¹ å¦ä¸€ä¸ªé”™è¯¯ã€‚### å’‹é…ç½®gdbå®‰è£…gdbå¹¶æ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum install gdb</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gdb --version</span></span><br></pre></td></tr></table></figure>`GNU gdb (Ubuntu 9.2-0ubuntu1~20.04.1) 9.2Copyright (C) 2020 Free Software Foundation, Inc.License GPLv3+: GNU GPL version 3 or later <http: gnu.org licenses gpl.html>This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law.`<font size="6">è£…èµ·æ¥äº†</font><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>å› ä¸ºä¹‹å‰ä¸€äº›å·¥ä½œéœ€è¦é€†å‘ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥ä¸‹è½½çš„æ˜¯<strong>pwndbg</strong>ï¼Œpwndbgä¸“é—¨é’ˆå¯¹pwné¢˜è°ƒè¯•æ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½ã€‚</p><p>å°±æ˜¯è¯´ï¼Œæ˜¯ä¸ªgdbçš„æ’ä»¶ï¼Œç”¨æ¥è¿›è¡Œé€†å‘å·¥ç¨‹è°ƒè¯•çš„ã€‚</p><p>å¦‚ä¸‹æ˜¯pwndbgçš„å®‰è£…å‘½ä»¤ï¼š</p><p><code>$ git clone https://github.com/pwndbg/pwndbg</code></p><p><code>$ cd pwndbg</code></p><p><code>$ ./setup.sh</code></p><p>å½“ç„¶ï¼Œå¦‚æœåªæ˜¯debugçš„è¯ï¼Œgdbè¶³å¤Ÿï¼Œä¸”è£…äº†pwndbgä¹‹åè¿›è¡Œgdbï¼Œå‘½ä»¤æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯ä¼šåœ¨gdbåŸºç¡€ä¸Šå±•ç¤ºå‡ºé€†å‘è¿›ç¨‹ã€‚</p><p>åœ¨æ­¤é™„è¯´æ˜æ˜¯å› ä¸ºï¼š<font size="5">ä¸‹è¿°ç¤ºä¾‹ä¸­çš„å±•ç¤ºçš†åŸºäºpwndbgæ’ä»¶ä¸‹çš„gdbã€‚</font></p><h2 id="quickstart"><a href="#quickstart" class="headerlink" title="quickstart"></a>quickstart</h2><p>å…ˆvimä¸€ä¸ªç®€å•çš„cç¨‹åº</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>gccç¼–è¯‘<code>gcc -g start.c</code>ï¼Œé€šè¿‡gdbè¿›å…¥./a.outæ‰§è¡Œæ–‡ä»¶<code>gdb ./a.out</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -g start.c</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gdb ./a.out</span></span><br><span class="line">GNU gdb (Ubuntu 9.2-0ubuntu1~20.04.1) 9.2</span><br><span class="line">Copyright (C) 2020 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line">Type &quot;show copying&quot; and &quot;show warranty&quot; for details.</span><br><span class="line">This GDB was configured as &quot;x86_64-linux-gnu&quot;.</span><br><span class="line">Type &quot;show configuration&quot; for configuration details.</span><br><span class="line">For bug reporting instructions, please see:</span><br><span class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;.</span><br><span class="line">Find the GDB manual and other documentation resources online at:</span><br><span class="line">    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.</span><br><span class="line"></span><br><span class="line">For help, type &quot;help&quot;.</span><br><span class="line">Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...</span><br><span class="line">pwndbg: loaded 197 commands. Type pwndbg [filter] for a list.</span><br><span class="line">pwndbg: created $rebase, $ida gdb functions (can be used with print/break)</span><br><span class="line">Reading symbols from ./a.out...</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span></span><br></pre></td></tr></table></figure><p>å¦‚æ­¤è¿›å…¥åˆ°gdbæŒ‡ä»¤äº¤äº’ã€‚</p><h2 id="gdbæŒ‡ä»¤"><a href="#gdbæŒ‡ä»¤" class="headerlink" title="gdbæŒ‡ä»¤"></a>gdbæŒ‡ä»¤</h2><h3 id="ç”·äººä¸€ä¸‹"><a href="#ç”·äººä¸€ä¸‹" class="headerlink" title="ç”·äººä¸€ä¸‹"></a>ç”·äººä¸€ä¸‹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">man gdb</span></span><br></pre></td></tr></table></figure><p>Here are some of the most frequently needed GDB commands:</p><ul><li><p><strong>break</strong> [file:]function</p><pre><code>   Set a breakpoint at function (in file).</code></pre></li><li><p><strong>run</strong> [arglist]</p><pre><code>   Start your program (with arglist, if specified).</code></pre></li><li><p><strong>bt</strong>  Backtrace: display the program stack.</p></li><li><p><strong>print</strong> expr</p><pre><code>   Display the value of an expression.</code></pre></li><li><p><strong>c</strong>   Continue running your program (after stopping, e.g. at a breakpoint).</p></li><li><p><strong>next</strong></p><pre><code>   Execute next program line (after stopping); step over any function calls in the line.</code></pre></li><li><p><strong>list</strong> [file:]function</p><pre><code>       type the text of the program in the vicinity of where it is presently stopped.</code></pre></li><li><p><strong>step</strong></p><pre><code>  Execute next program line (after stopping); step into any function calls in the line.</code></pre></li><li><p><strong>help</strong> [name]</p><pre><code>  Show information about GDB command name, or general information  about using GDB.</code></pre></li><li><p><strong>quit</strong></p><pre><code>   Exit from GDB.</code></pre></li></ul><h3 id="åŸºæœ¬å‘½ä»¤åº”ç”¨"><a href="#åŸºæœ¬å‘½ä»¤åº”ç”¨" class="headerlink" title="åŸºæœ¬å‘½ä»¤åº”ç”¨"></a>åŸºæœ¬å‘½ä»¤åº”ç”¨</h3><h4 id="r-run-æ¶¦"><a href="#r-run-æ¶¦" class="headerlink" title="r/run: æ¶¦"></a>r/run: æ¶¦</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line">Starting program: /home/Mo01iHt/Desktop/a.out </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">[Inferior 1 (process 134817) exited normally]</span><br></pre></td></tr></table></figure><h4 id="b-break-æ‰“æ–­ç‚¹"><a href="#b-break-æ‰“æ–­ç‚¹" class="headerlink" title="b/break: æ‰“æ–­ç‚¹"></a>b/break: æ‰“æ–­ç‚¹</h4><h5 id="b-å‡½æ•°åå­—"><a href="#b-å‡½æ•°åå­—" class="headerlink" title="b å‡½æ•°åå­—"></a><code>b å‡½æ•°åå­—</code></h5><p>åœ¨å‡½æ•°å¤„è£…bï¼ˆæŒ‡æ‰“æ–­ç‚¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b main</span></span><br><span class="line">Breakpoint 1 at 0x555555555169: file start.c, line 3.</span><br></pre></td></tr></table></figure><h5 id="b-è¡Œå·"><a href="#b-è¡Œå·" class="headerlink" title="b è¡Œå·"></a><code>b è¡Œå·</code></h5><p>å¯æ­é…<code>list</code>æŒ‡ä»¤ï¼ˆæŸ¥çœ‹æºä»£ç ï¼‰ï¼ŒæŸ¥çœ‹ä»£ç å¯¹åº”è¡Œæ•°ï¼Œåœ¨å¯¹åº”è¡Œè£…b</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">list</span></span><br><span class="line">1#include &lt;stdio.h&gt;</span><br><span class="line">2</span><br><span class="line">3int main()&#123;</span><br><span class="line">4int arr[4] = &#123;1, 2, 3, 4&#125;;</span><br><span class="line">5for (int i=0;i&lt;4;i++)</span><br><span class="line">6&#123;</span><br><span class="line">7printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line">8&#125;</span><br><span class="line">9return 0;</span><br><span class="line">10&#125;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b 7</span></span><br><span class="line">Breakpoint 2 at 0x5555555551a9: file start.c, line 7.</span><br></pre></td></tr></table></figure><h5 id="info-b-åº·åº·åˆšåœ¨å“ªè£…äº†b"><a href="#info-b-åº·åº·åˆšåœ¨å“ªè£…äº†b" class="headerlink" title="info b: åº·åº·åˆšåœ¨å“ªè£…äº†b"></a><code>info b</code>: åº·åº·åˆšåœ¨å“ªè£…äº†b</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">info b</span></span><br><span class="line">Num     Type           Disp Enb Address            What</span><br><span class="line">1       breakpoint     keep y   0x0000555555555169 in main at start.c:3</span><br><span class="line">2       breakpoint     keep y   0x00005555555551a9 in main at start.c:7</span><br></pre></td></tr></table></figure><p>æ¶¦ä¸€ä¸‹<code>r</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line">Starting program: /home/Mo01iHt/Desktop/a.out </span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at start.c:3</span><br><span class="line">3int main()&#123;</span><br><span class="line">LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> RAX  0x555555555169 (main) â—‚â€” endbr64 </span><br><span class="line"> RBX  0x5555555551f0 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line"> RCX  0x5555555551f0 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line"> RDX  0x7fffffffdf68 â€”â–¸ 0x7fffffffe2e3 â—‚â€” &#x27;SHELL=/bin/bash&#x27;</span><br><span class="line"> RDI  0x1</span><br><span class="line"> RSI  0x7fffffffdf58 â€”â–¸ 0x7fffffffe2c4 â—‚â€” &#x27;/home/Mo01iHt/Desktop/a.out&#x27;</span><br><span class="line"> R8   0x0</span><br><span class="line"> R9   0x7ffff7fe0d60 (_dl_fini) â—‚â€” endbr64 </span><br><span class="line"> R10  0x0</span><br><span class="line"> R11  0x7ffff7f6c7c0 (intel_02_known) â—‚â€” 0x200000200406</span><br><span class="line"> R12  0x555555555080 (_start) â—‚â€” endbr64 </span><br><span class="line"> R13  0x7fffffffdf50 â—‚â€” 0x1</span><br><span class="line"> R14  0x0</span><br><span class="line"> R15  0x0</span><br><span class="line"> RBP  0x0</span><br><span class="line"> RSP  0x7fffffffde68 â€”â–¸ 0x7ffff7de1083 (__libc_start_main+243) â—‚â€” mov    edi, eax</span><br><span class="line"> RIP  0x555555555169 (main) â—‚â€” endbr64 </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º 0x555555555169 &lt;main&gt;       endbr64 </span><br><span class="line">   0x55555555516d &lt;main+4&gt;     push   rbp</span><br><span class="line">   0x55555555516e &lt;main+5&gt;     mov    rbp, rsp</span><br><span class="line">   0x555555555171 &lt;main+8&gt;     sub    rsp, 0x30</span><br><span class="line">   0x555555555175 &lt;main+12&gt;    mov    rax, qword ptr fs:[0x28]</span><br><span class="line">   0x55555555517e &lt;main+21&gt;    mov    qword ptr [rbp - 8], rax</span><br><span class="line">   0x555555555182 &lt;main+25&gt;    xor    eax, eax</span><br><span class="line">   0x555555555184 &lt;main+27&gt;    mov    dword ptr [rbp - 0x20], 1</span><br><span class="line">   0x55555555518b &lt;main+34&gt;    mov    dword ptr [rbp - 0x1c], 2</span><br><span class="line">   0x555555555192 &lt;main+41&gt;    mov    dword ptr [rbp - 0x18], 3</span><br><span class="line">   0x555555555199 &lt;main+48&gt;    mov    dword ptr [rbp - 0x14], 4</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ SOURCE (CODE) ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">In file: /home/Mo01iHt/Desktop/start.c</span><br><span class="line">   1 #include &lt;stdio.h&gt;</span><br><span class="line">   2 </span><br><span class="line"> â–º 3 int main()&#123;</span><br><span class="line">   4 int arr[4] = &#123;1, 2, 3, 4&#125;;</span><br><span class="line">   5 for (int i=0;i&lt;4;i++)</span><br><span class="line">   6 &#123;</span><br><span class="line">   7 printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line">   8 &#125;</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">00:0000â”‚ rsp 0x7fffffffde68 â€”â–¸ 0x7ffff7de1083 (__libc_start_main+243) â—‚â€” mov    edi, eax</span><br><span class="line">01:0008â”‚     0x7fffffffde70 â€”â–¸ 0x7ffff7ffc620 (_rtld_global_ro) â—‚â€” 0x50f3c00000000</span><br><span class="line">02:0010â”‚     0x7fffffffde78 â€”â–¸ 0x7fffffffdf58 â€”â–¸ 0x7fffffffe2c4 â—‚â€” &#x27;/home/Mo01iHt/Desktop/a.out&#x27;</span><br><span class="line">03:0018â”‚     0x7fffffffde80 â—‚â€” 0x100000000</span><br><span class="line">04:0020â”‚     0x7fffffffde88 â€”â–¸ 0x555555555169 (main) â—‚â€” endbr64 </span><br><span class="line">05:0028â”‚     0x7fffffffde90 â€”â–¸ 0x5555555551f0 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line">06:0030â”‚     0x7fffffffde98 â—‚â€” 0x457649a3c538cc92</span><br><span class="line">07:0038â”‚     0x7fffffffdea0 â€”â–¸ 0x555555555080 (_start) â—‚â€” endbr64 </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º f 0   0x555555555169 main</span><br><span class="line">   f 1   0x7ffff7de1083 __libc_start_main+243</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="n-next-å•æ­¥è¿è¡Œ"><a href="#n-next-å•æ­¥è¿è¡Œ" class="headerlink" title="n/next: å•æ­¥è¿è¡Œ"></a>n/next: å•æ­¥è¿è¡Œ</h4><h4 id="p-print-æ‰“å°å˜é‡å€¼"><a href="#p-print-æ‰“å°å˜é‡å€¼" class="headerlink" title="p/print: æ‰“å°å˜é‡å€¼"></a>p/print: æ‰“å°å˜é‡å€¼</h4><p>åœ¨<strong>è°ƒè¯•</strong>è¿‡ç¨‹ä¸­æ‰“å°å‡ºç›®æ ‡çš„å€¼ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p arr[0]</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">1 = 0</span></span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p &amp;arr[0]</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">2 = (int *) 0x7fffffffde40</span></span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p &amp;arr[1]</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">3 = (int *) 0x7fffffffde44</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶éªŒè¯æ•´å‹æ•°ç»„æ¯ä¸ªå…ƒç´ å 1wordï¼Œå³4bits</p><h5 id="No-symbol-â€œxxxâ€-in-current-context-çš„è§£å†³"><a href="#No-symbol-â€œxxxâ€-in-current-context-çš„è§£å†³" class="headerlink" title="No symbol â€œxxxâ€ in current context çš„è§£å†³"></a>No symbol â€œxxxâ€ in current context çš„è§£å†³</h5><p>åœ¨è¿›è¡Œgdbè°ƒè¯•æ—¶ï¼ˆåŒ…æ‹¬ä½¿ç”¨core dumpæ–‡ä»¶è°ƒè¯•ï¼‰ï¼Œç»å¸¸å‡ºç°GDB No symbol â€œxxxâ€ in current contexté—®é¢˜ï¼Œå¸¸è§çš„åŸå› å¦‚ä¸‹ï¼š</p><p>ä½¿ç”¨gccç¼–è¯‘çš„æ—¶å€™æœªä½¿ç”¨-gé€‰é¡¹ã€‚æˆ–è€…åŠ äº†-gé€‰é¡¹ï¼ŒåŒæ—¶ä½¿ç”¨äº†-oé€‰é¡¹ã€‚å»ºè®®ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨-gé€‰é¡¹çš„æ—¶å€™ï¼ŒåŒæ—¶ä½¿ç”¨-Ogå¯ä»¥å…³é—­ç¼–è¯‘ä¼˜åŒ–ï¼ˆ-Oé€‰é¡¹è¾ƒä½gccç‰ˆæœ¬ä¸æ”¯æŒï¼‰ã€‚</p><font size="1">[ å‡ºç°GDB No symbol "xxx" in current contextçš„å‡ ç§åŸå› åˆ†æ_æ˜¥æ—¥ç»¿é‡çš„åšå®¢-CSDNåšå®¢_no symbol in current context](https://blog.csdn.net/sj_djw/article/details/91958035)</font><h4 id="s-step-æ­¥å…¥å‡½æ•°"><a href="#s-step-æ­¥å…¥å‡½æ•°" class="headerlink" title="s/step: æ­¥å…¥å‡½æ•°"></a>s/step: æ­¥å…¥å‡½æ•°</h4><p>ä¸ºäº†æ–¹ä¾¿å¼•ä¾‹ï¼š<code>cp start.c start1.c</code><br>æé†’è‡ªå·±è¦æœ‰å¤‡ä»½æ–‡ä»¶çš„ä¹ æƒ¯ <del>(rm -rf /*</del></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hello echo~\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">int</span> arr[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">hello();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿›å…¥gdbè¿›è¡Œdebugï¼Œå¹¶åœ¨å¯¹hello()å‡½æ•°çš„å¼•ç”¨å¤„æ‰“æ–­ç‚¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">list</span></span><br><span class="line">11printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line">12&#125;</span><br><span class="line">13hello();</span><br><span class="line">14return 0;</span><br><span class="line">15&#125;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b 13</span></span><br><span class="line">Breakpoint 1 at 0x555555555206: file start1.c, line 13.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line">Starting program: /home/Mo01iHt/Desktop/a.out </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at start1.c:13</span><br><span class="line">13hello();</span><br><span class="line">LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> RAX  0x2</span><br><span class="line"> RBX  0x555555555230 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line"> RCX  0x0</span><br><span class="line"> RDX  0x0</span><br><span class="line"> RDI  0x7ffff7fab7e0 (_IO_stdfile_1_lock) â—‚â€” 0x0</span><br><span class="line"> RSI  0x5555555592a0 â—‚â€” 0xa34 /* &#x27;4\n&#x27; */</span><br><span class="line"> R8   0x0</span><br><span class="line"> R9   0x2</span><br><span class="line"> R10  0x555555556012 â—‚â€” 0x483b031b01000a /* &#x27;\n&#x27; */</span><br><span class="line"> R11  0x246</span><br><span class="line"> R12  0x5555555550a0 (_start) â—‚â€” endbr64 </span><br><span class="line"> R13  0x7fffffffdf50 â—‚â€” 0x1</span><br><span class="line"> R14  0x0</span><br><span class="line"> R15  0x0</span><br><span class="line"> RBP  0x7fffffffde60 â—‚â€” 0x0</span><br><span class="line"> RSP  0x7fffffffde30 â€”â–¸ 0x7ffff7fae2e8 (__exit_funcs_lock) â—‚â€” 0x0</span><br><span class="line"> RIP  0x555555555206 (main+102) â—‚â€” mov    eax, 0</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º 0x555555555206 &lt;main+102&gt;           mov    eax, 0</span><br><span class="line">   0x55555555520b &lt;main+107&gt;           call   hello                &lt;hello&gt;</span><br><span class="line"> </span><br><span class="line">   0x555555555210 &lt;main+112&gt;           mov    eax, 0</span><br><span class="line">   0x555555555215 &lt;main+117&gt;           mov    rdx, qword ptr [rbp - 8]</span><br><span class="line">   0x555555555219 &lt;main+121&gt;           xor    rdx, qword ptr fs:[0x28]</span><br><span class="line">   0x555555555222 &lt;main+130&gt;           je     main+137                &lt;main+137&gt;</span><br><span class="line"> </span><br><span class="line">   0x555555555224 &lt;main+132&gt;           call   __stack_chk_fail@plt                &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> </span><br><span class="line">   0x555555555229 &lt;main+137&gt;           leave  </span><br><span class="line">   0x55555555522a &lt;main+138&gt;           ret    </span><br><span class="line"> </span><br><span class="line">   0x55555555522b                      nop    dword ptr [rax + rax]</span><br><span class="line">   0x555555555230 &lt;__libc_csu_init&gt;    endbr64 </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ SOURCE (CODE) ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">In file: /home/Mo01iHt/Desktop/start1.c</span><br><span class="line">    8 int arr[4] = &#123;1, 2, 3, 4&#125;;</span><br><span class="line">    9 for (int i=0;i&lt;4;i++)</span><br><span class="line">   10 &#123;</span><br><span class="line">   11 printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line">   12 &#125;</span><br><span class="line"> â–º 13 hello();</span><br><span class="line">   14 return 0;</span><br><span class="line">   15 &#125;</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">00:0000â”‚ rsp 0x7fffffffde30 â€”â–¸ 0x7ffff7fae2e8 (__exit_funcs_lock) â—‚â€” 0x0</span><br><span class="line">01:0008â”‚     0x7fffffffde38 â—‚â€” 0x455555230</span><br><span class="line">02:0010â”‚     0x7fffffffde40 â—‚â€” 0x200000001</span><br><span class="line">03:0018â”‚     0x7fffffffde48 â—‚â€” 0x400000003</span><br><span class="line">04:0020â”‚     0x7fffffffde50 â€”â–¸ 0x7fffffffdf50 â—‚â€” 0x1</span><br><span class="line">05:0028â”‚     0x7fffffffde58 â—‚â€” 0x8fee5fb1f1bbc000</span><br><span class="line">06:0030â”‚ rbp 0x7fffffffde60 â—‚â€” 0x0</span><br><span class="line">07:0038â”‚     0x7fffffffde68 â€”â–¸ 0x7ffff7de1083 (__libc_start_main+243) â—‚â€” mov    edi, eax</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º f 0   0x555555555206 main+102</span><br><span class="line">   f 1   0x7ffff7de1083 __libc_start_main+243</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ª<code>s</code>æ­¥å…¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">s</span></span><br><span class="line">hello () at start1.c:3</span><br><span class="line">3void hello()&#123;</span><br><span class="line">LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">*RAX  0x0</span><br><span class="line"> RBX  0x555555555230 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line"> RCX  0x0</span><br><span class="line"> RDX  0x0</span><br><span class="line"> RDI  0x7ffff7fab7e0 (_IO_stdfile_1_lock) â—‚â€” 0x0</span><br><span class="line"> RSI  0x5555555592a0 â—‚â€” 0xa34 /* &#x27;4\n&#x27; */</span><br><span class="line"> R8   0x0</span><br><span class="line"> R9   0x2</span><br><span class="line"> R10  0x555555556012 â—‚â€” 0x483b031b01000a /* &#x27;\n&#x27; */</span><br><span class="line"> R11  0x246</span><br><span class="line"> R12  0x5555555550a0 (_start) â—‚â€” endbr64 </span><br><span class="line"> R13  0x7fffffffdf50 â—‚â€” 0x1</span><br><span class="line"> R14  0x0</span><br><span class="line"> R15  0x0</span><br><span class="line"> RBP  0x7fffffffde60 â—‚â€” 0x0</span><br><span class="line">*RSP  0x7fffffffde28 â€”â–¸ 0x555555555210 (main+112) â—‚â€” mov    eax, 0</span><br><span class="line">*RIP  0x555555555189 (hello) â—‚â€” endbr64 </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º 0x555555555189 &lt;hello&gt;       endbr64 </span><br><span class="line">   0x55555555518d &lt;hello+4&gt;     push   rbp</span><br><span class="line">   0x55555555518e &lt;hello+5&gt;     mov    rbp, rsp</span><br><span class="line">   0x555555555191 &lt;hello+8&gt;     lea    rdi, [rip + 0xe6c]</span><br><span class="line">   0x555555555198 &lt;hello+15&gt;    call   puts@plt                &lt;puts@plt&gt;</span><br><span class="line"> </span><br><span class="line">   0x55555555519d &lt;hello+20&gt;    nop    </span><br><span class="line">   0x55555555519e &lt;hello+21&gt;    pop    rbp</span><br><span class="line">   0x55555555519f &lt;hello+22&gt;    ret    </span><br><span class="line"> </span><br><span class="line">   0x5555555551a0 &lt;main&gt;        endbr64 </span><br><span class="line">   0x5555555551a4 &lt;main+4&gt;      push   rbp</span><br><span class="line">   0x5555555551a5 &lt;main+5&gt;      mov    rbp, rsp</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ SOURCE (CODE) ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">In file: /home/Mo01iHt/Desktop/start1.c</span><br><span class="line">   1 #include &lt;stdio.h&gt;</span><br><span class="line">   2 </span><br><span class="line"> â–º 3 void hello()&#123;</span><br><span class="line">   4 printf(&quot;hello echo~\n&quot;);</span><br><span class="line">   5 &#125;</span><br><span class="line">   6 </span><br><span class="line">   7 int main()&#123;</span><br><span class="line">   8 int arr[4] = &#123;1, 2, 3, 4&#125;;</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">00:0000â”‚ rsp 0x7fffffffde28 â€”â–¸ 0x555555555210 (main+112) â—‚â€” mov    eax, 0</span><br><span class="line">01:0008â”‚     0x7fffffffde30 â€”â–¸ 0x7ffff7fae2e8 (__exit_funcs_lock) â—‚â€” 0x0</span><br><span class="line">02:0010â”‚     0x7fffffffde38 â—‚â€” 0x455555230</span><br><span class="line">03:0018â”‚     0x7fffffffde40 â—‚â€” 0x200000001</span><br><span class="line">04:0020â”‚     0x7fffffffde48 â—‚â€” 0x400000003</span><br><span class="line">05:0028â”‚     0x7fffffffde50 â€”â–¸ 0x7fffffffdf50 â—‚â€” 0x1</span><br><span class="line">06:0030â”‚     0x7fffffffde58 â—‚â€” 0x8fee5fb1f1bbc000</span><br><span class="line">07:0038â”‚ rbp 0x7fffffffde60 â—‚â€” 0x0</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º f 0   0x555555555189 hello</span><br><span class="line">   f 1   0x555555555210 main+112</span><br><span class="line">   f 2   0x7ffff7de1083 __libc_start_main+243</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ­¥å…¥åˆ°äº†hello()å‡½æ•°å¤„</p><h4 id="c-continue-ç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹"><a href="#c-continue-ç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹" class="headerlink" title="c/continue: ç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹"></a>c/continue: ç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹</h4><p>æˆ‘ä»¬å¯èƒ½æ‰“äº†å¤šå¤„æ–­ç‚¹ï¼Œæˆ–è€…æ–­ç‚¹æ‰“åœ¨å¾ªç¯å†…ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæƒ³è·³è¿‡è¿™ä¸ªæ–­ç‚¹ï¼Œç”šè‡³è·³è¿‡å¤šæ¬¡æ–­ç‚¹ç»§ç»­æ‰§è¡Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨continueå‘½ä»¤ï¼ˆå¯ç®€å†™ä¸ºcï¼‰æˆ–è€…fgï¼Œå®ƒä¼šç»§ç»­æ‰§è¡Œç¨‹åºï¼Œç›´åˆ°å†æ¬¡é‡åˆ°æ–­ç‚¹å¤„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b main</span></span><br><span class="line">Breakpoint 1 at 0x1169: file start.c, line 3.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b 7</span></span><br><span class="line">Breakpoint 2 at 0x11a9: file start.c, line 7.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line">Starting program: /home/Mo01iHt/Desktop/a.out </span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at start.c:3</span><br><span class="line">3int main()&#123;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">c  <span class="comment">#ç»§ç»­è¿è¡Œï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡æ–­ä½</span></span></span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Breakpoint 2, main () at start.c:7</span><br><span class="line">7printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">c 3  <span class="comment">#è·³è¿‡ä¸‰æ¬¡</span></span></span><br><span class="line">Will ignore next 2 crossings of breakpoint 2.  Continuing.</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">Breakpoint 2, main () at start.c:7</span><br><span class="line">7printf(&quot;%d\n&quot;, arr[i]);</span><br></pre></td></tr></table></figure><h4 id="u-until-ç»§ç»­è¿è¡Œåˆ°æŒ‡å®šä½ç½®"><a href="#u-until-ç»§ç»­è¿è¡Œåˆ°æŒ‡å®šä½ç½®" class="headerlink" title="u/until: ç»§ç»­è¿è¡Œåˆ°æŒ‡å®šä½ç½®"></a>u/until: ç»§ç»­è¿è¡Œåˆ°æŒ‡å®šä½ç½®</h4><p>ä¾‹å¦‚æˆ‘ä»¬åœ¨mainå‡½æ•°èµ·å§‹å¤„æ‰“æ–­åœä½ï¼Œæƒ³è¦è¿è¡Œåˆ°ç¬¬9è¡Œæ—¶å†æ¬¡åœä½ï¼Œåˆ™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b main</span></span><br><span class="line">Breakpoint 1 at 0x1169: file start.c, line 3.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">until 9</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">main () at start.c:9</span><br><span class="line">9return 0;</span><br></pre></td></tr></table></figure><h2 id="gdbä¸€äº›éªšæ“ä½œ"><a href="#gdbä¸€äº›éªšæ“ä½œ" class="headerlink" title="gdbä¸€äº›éªšæ“ä½œ"></a>gdbä¸€äº›éªšæ“ä½œ</h2><h3 id="å…è®¸æ‰§è¡Œç»ˆç«¯å‘½ä»¤-shell-xxx"><a href="#å…è®¸æ‰§è¡Œç»ˆç«¯å‘½ä»¤-shell-xxx" class="headerlink" title="å…è®¸æ‰§è¡Œç»ˆç«¯å‘½ä»¤: shell xxx"></a>å…è®¸æ‰§è¡Œç»ˆç«¯å‘½ä»¤: shell xxx</h3><p>ä¾‹å¦‚<code>shell cat start.c</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">shell <span class="built_in">cat</span> start.c</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">int arr[4] = &#123;1, 2, 3, 4&#125;;</span><br><span class="line">for (int i=0;i&lt;4;i++)</span><br><span class="line">&#123;</span><br><span class="line">printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ—¥å¿—åŠŸèƒ½-set-logging-on"><a href="#æ—¥å¿—åŠŸèƒ½-set-logging-on" class="headerlink" title="æ—¥å¿—åŠŸèƒ½: set logging on"></a>æ—¥å¿—åŠŸèƒ½: set logging on</h3><p>å¯ä»¥ç”Ÿæˆä¸€ä¸ª.txtæ–‡æ¡£è®°å½•è¾“å‡ºæ—¥å¿—</p><p>å¦‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤<code>set logging in</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash"><span class="built_in">set</span> logging on</span></span><br><span class="line">Copying output to gdb.txt.</span><br><span class="line">Copying debug output to gdb.txt.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b hello</span></span><br><span class="line">Breakpoint 2 at 0x555555555189: file start1.c, line 3.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line">Starting program: /home/Mo01iHt/Desktop/a.out </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at start1.c:13</span><br><span class="line">13hello();</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line"></span><br><span class="line">Breakpoint 2, hello () at start1.c:3</span><br><span class="line">3void hello()&#123;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">4printf(&quot;hello echo~\n&quot;);</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">hello echo~</span><br><span class="line">5&#125;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">main () at start1.c:14</span><br><span class="line">14return 0;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">15&#125;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">__libc_start_main (main=0x5555555551a0 &lt;main&gt;, argc=1, argv=0x7fffffffdf58, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, stack_end=0x7fffffffdf48) at ../csu/libc-start.c:342</span><br><span class="line">342../csu/libc-start.c: No such file or directory.</span><br></pre></td></tr></table></figure><p>é€€å‡ºååœ¨ç»ˆç«¯llæŸ¥çœ‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll</span></span><br><span class="line">total 28</span><br><span class="line">-rwxrwxr-x  1 Mo01iHt Mo01iHt  16824 11æœˆ 22 00:06 a.out*</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt    25268 11æœˆ 22 00:01 gdb.txt</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt      181 11æœˆ 21 23:41 start1.c</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt      128 11æœˆ 21 22:18 start.c</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†ä¸€ä¸ªå«åšgdb.txtçš„æ–‡ä»¶ã€‚vimè¿›æ¥çœ‹çœ‹ï¼š</p><p><del>ç®—äº†æ‡’å¾—æ¬äº†ã€‚</del></p><h3 id="è§‚å¯Ÿç‚¹watchpoints-amp-æ•æ‰ç‚¹catchpoints"><a href="#è§‚å¯Ÿç‚¹watchpoints-amp-æ•æ‰ç‚¹catchpoints" class="headerlink" title="è§‚å¯Ÿç‚¹watchpoints &amp; æ•æ‰ç‚¹catchpoints"></a>è§‚å¯Ÿç‚¹watchpoints &amp; æ•æ‰ç‚¹catchpoints</h3><p>å•¥ï¼Œé™¤äº†berakpointsè¿˜æœ‰watchpointså’Œcatchpointsï¼Ÿï¼Ÿ</p><p><img src="/article/b0d9110f/img2.png" alt="Breakpoints, watchpoints and catchpoints"></p><h4 id="æ’ä¸ªçœ¼-watch"><a href="#æ’ä¸ªçœ¼-watch" class="headerlink" title="æ’ä¸ªçœ¼: watch"></a>æ’ä¸ªçœ¼: watch</h4><p>watchpointsçš„ä¸»è¦ç”¨é€”å°±æ˜¯åœ¨åŠ¨æ€è°ƒè¯•è¿‡ç¨‹ä¸­è§‚å¯Ÿå˜é‡çš„å˜åŒ–ã€‚</p><p>å¦‚è‹¥ç»™å˜é‡ i æ’çœ¼ï¼š</p><p>è®°å½•ä¸‹å˜é‡ i åœ°å€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">list</span></span><br><span class="line">1#include &lt;stdio.h&gt;</span><br><span class="line">2</span><br><span class="line">3void hello()&#123;</span><br><span class="line">4printf(&quot;hello echo~\n&quot;);</span><br><span class="line">5&#125;</span><br><span class="line">6</span><br><span class="line">7int main()&#123;</span><br><span class="line">8int arr[4] = &#123;1, 2, 3, 4&#125;;</span><br><span class="line">9for (int i=0;i&lt;4;i++)</span><br><span class="line">10&#123;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">b 9</span></span><br><span class="line">Breakpoint 1 at 0x11d7: file start1.c, line 9.</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">r</span></span><br><span class="line">Starting program: /home/Mo01iHt/Desktop/a.out </span><br><span class="line"></span><br><span class="line">Breakpoint 1, main () at start1.c:9</span><br><span class="line">9for (int i=0;i&lt;4;i++)</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p &amp;i</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">1 = (int *) 0x7fffffffde3c</span></span><br></pre></td></tr></table></figure><p>æ’ä¸ªçœ¼<code>watch *0x7fffffffde3c</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">watch *0x7fffffffde3c</span></span><br><span class="line">Hardware watchpoint 2: *0x7fffffffde3c</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">info watchpoints</span></span><br><span class="line">Num     Type           Disp Enb Address            What</span><br><span class="line">2       hw watchpoint  keep y                      *0x7fffffffde3c</span><br></pre></td></tr></table></figure><p>ï¼ˆå¯åˆ©ç”¨<code>info watchpoints</code>æŸ¥çœ‹æ’çœ¼å²</p><p>ç„¶ååœ¨æ¥ä¸‹æ¥nå•æ­¥è°ƒè¯•å¯ä»¥çœ‹åˆ°watchpointsçš„å˜åŒ–ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line"></span><br><span class="line">Hardware watchpoint 2: *0x7fffffffde3c</span><br><span class="line"></span><br><span class="line">Old value = 21845</span><br><span class="line">New value = 0</span><br><span class="line">main () at start1.c:9</span><br><span class="line">9for (int i=0;i&lt;4;i++)</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">11printf(&quot;%d\n&quot;, arr[i]);</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">1</span><br><span class="line">9for (int i=0;i&lt;4;i++)</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line"></span><br><span class="line">Hardware watchpoint 2: *0x7fffffffde3c</span><br><span class="line"></span><br><span class="line">Old value = 0</span><br><span class="line">New value = 1</span><br><span class="line">0x0000555555555200 in main () at start1.c:9</span><br><span class="line">9for (int i=0;i&lt;4;i++)</span><br></pre></td></tr></table></figure><p>åœ¨å˜é‡çš„å€¼å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘<code>Hardware watchpoint x: *0x0123456789ab</code>ï¼Œå¹¶ä¼šæ˜¾ç¤ºå‡ºold valueä¸new valueï¼Œä¾¿äºå¯¹ç…§ã€‚</p><h3 id="ç¦ç”¨æˆ–å¯åŠ¨æ–­ç‚¹ã€æ–­ç‚¹æ¸…é™¤"><a href="#ç¦ç”¨æˆ–å¯åŠ¨æ–­ç‚¹ã€æ–­ç‚¹æ¸…é™¤" class="headerlink" title="ç¦ç”¨æˆ–å¯åŠ¨æ–­ç‚¹ã€æ–­ç‚¹æ¸…é™¤"></a>ç¦ç”¨æˆ–å¯åŠ¨æ–­ç‚¹ã€æ–­ç‚¹æ¸…é™¤</h3><p>æœ‰äº›æ–­ç‚¹æš‚æ—¶ä¸æƒ³ä½¿ç”¨ï¼Œä½†åˆä¸æƒ³åˆ é™¤ï¼Œå¯ä»¥æš‚æ—¶ç¦ç”¨æˆ–å¯ç”¨ã€‚ä¾‹å¦‚ï¼š</p><p><code>disable  #ç¦ç”¨æ‰€æœ‰æ–­ç‚¹</code></p><p><code>disable bnum #ç¦ç”¨æ ‡å·ä¸ºbnumçš„æ–­ç‚¹</code></p><p><code>enable  #å¯ç”¨æ‰€æœ‰æ–­ç‚¹</code></p><p><code>enable bnum #å¯ç”¨æ ‡å·ä¸ºbnumçš„æ–­ç‚¹</code></p><p><code>enable delete bnum  #å¯åŠ¨æ ‡å·ä¸ºbnumçš„æ–­ç‚¹ï¼Œå¹¶ä¸”åœ¨æ­¤ä¹‹ååˆ é™¤è¯¥æ–­ç‚¹</code></p><p>æ–­ç‚¹æ¸…é™¤ä¸»è¦ç”¨åˆ°clearå’Œdeleteå‘½ä»¤ã€‚å¸¸è§ä½¿ç”¨å¦‚ä¸‹ï¼š</p><p><code>clear   #åˆ é™¤å½“å‰è¡Œæ‰€æœ‰breakpoints</code></p><p><code>clear function  #åˆ é™¤å‡½æ•°åä¸ºfunctionå¤„çš„æ–­ç‚¹</code></p><p><code>clear filename:function #åˆ é™¤æ–‡ä»¶filenameä¸­å‡½æ•°functionå¤„çš„æ–­ç‚¹</code></p><p><code>clear lineNum #åˆ é™¤è¡Œå·ä¸ºlineNumå¤„çš„æ–­ç‚¹</code></p><p><code>clear f:lenameï¼šlineNum #åˆ é™¤æ–‡ä»¶filenameä¸­è¡Œå·ä¸ºlineNumå¤„çš„æ–­ç‚¹</code></p><p><code>delete  #åˆ é™¤æ‰€æœ‰breakpoints,watchpointså’Œcatchpoints</code><br><code>delete bnum #åˆ é™¤æ–­ç‚¹å·ä¸ºbnumçš„æ–­ç‚¹</code></p><h3 id="æŒ‰ç…§ç‰¹å®šæ ¼å¼æ‰“å°å˜é‡"><a href="#æŒ‰ç…§ç‰¹å®šæ ¼å¼æ‰“å°å˜é‡" class="headerlink" title="æŒ‰ç…§ç‰¹å®šæ ¼å¼æ‰“å°å˜é‡"></a>æŒ‰ç…§ç‰¹å®šæ ¼å¼æ‰“å°å˜é‡</h3><p>å¯¹äºç®€å•çš„æ•°æ®ï¼Œprinté»˜è®¤çš„æ‰“å°æ–¹å¼å·²ç»è¶³å¤Ÿäº†ï¼Œå®ƒä¼šæ ¹æ®å˜é‡ç±»å‹çš„æ ¼å¼æ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯æœ‰æ—¶å€™è¿™è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„æ ¼å¼æ§åˆ¶ã€‚å¸¸è§æ ¼å¼æ§åˆ¶å­—ç¬¦å¦‚ä¸‹ï¼š</p><ul><li>x æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>d æŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>u æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ— ç¬¦å·æ•´å‹ã€‚</li><li>o æŒ‰å…«è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>t æŒ‰äºŒè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>a æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>c æŒ‰å­—ç¬¦æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li>f æŒ‰æµ®ç‚¹æ•°æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li></ul><p>è¿˜æ˜¯ä»¥è¾…åŠ©ç¨‹åºæ¥è¯´æ˜ï¼Œæ­£å¸¸æ–¹å¼æ‰“å°å­—ç¬¦æ•°ç»„cï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p c</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">1 = <span class="string">&quot;hello&quot;</span></span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬è¦æŸ¥çœ‹å®ƒçš„åå…­è¿›åˆ¶æ ¼å¼æ‰“å°å‘¢ï¼Ÿ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p/x c</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">2 = &#123;0x68, 0x65, 0x6c, 0x6c, 0x6f&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å†…å­˜å†…å®¹"><a href="#æŸ¥çœ‹å†…å­˜å†…å®¹" class="headerlink" title="æŸ¥çœ‹å†…å­˜å†…å®¹"></a>æŸ¥çœ‹å†…å­˜å†…å®¹</h3><p>examine(ç®€å†™ä¸ºx)å¯ä»¥ç”¨æ¥æŸ¥çœ‹å†…å­˜åœ°å€ä¸­çš„å€¼ã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>x/[n][f][u] addr</code></p><p>å…¶ä¸­ï¼š</p><ul><li>n è¡¨ç¤ºè¦æ˜¾ç¤ºçš„å†…å­˜å•å…ƒæ•°ï¼Œé»˜è®¤å€¼ä¸º1</li><li>f è¡¨ç¤ºè¦æ‰“å°çš„æ ¼å¼ï¼Œå‰é¢å·²ç»æåˆ°äº†æ ¼å¼æ§åˆ¶å­—ç¬¦</li><li>u è¦æ‰“å°çš„å•å…ƒé•¿åº¦</li><li>addr å†…å­˜åœ°å€</li></ul><p>å•å…ƒç±»å‹å¸¸è§æœ‰å¦‚ä¸‹ï¼š</p><ul><li>b å­—èŠ‚</li><li>h åŠå­—ï¼Œå³åŒå­—èŠ‚</li><li>w å­—ï¼Œå³å››å­—èŠ‚</li><li>g å…«å­—èŠ‚</li></ul><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹ï¼Œå‡å¦‚æˆ‘ä»¬è¦æŠŠfloatå˜é‡eæŒ‰ç…§äºŒè¿›åˆ¶æ–¹å¼æ‰“å°ï¼Œå¹¶ä¸”æ‰“å°å•ä½æ˜¯ä¸€å­—èŠ‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">x/4tb &amp;e</span></span><br><span class="line">0x7fffffffdbd4:    00000000    00000000    00001000    01000001</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡eçš„å››ä¸ªå­—èŠ‚éƒ½ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼æ‰“å°å‡ºæ¥äº†ã€‚</p><h3 id="è‡ªåŠ¨æ˜¾ç¤ºå˜é‡å†…å®¹"><a href="#è‡ªåŠ¨æ˜¾ç¤ºå˜é‡å†…å®¹" class="headerlink" title="è‡ªåŠ¨æ˜¾ç¤ºå˜é‡å†…å®¹"></a>è‡ªåŠ¨æ˜¾ç¤ºå˜é‡å†…å®¹</h3><p>å‡è®¾æˆ‘ä»¬å¸Œæœ›ç¨‹åºæ–­ä½æ—¶ï¼Œå°±æ˜¾ç¤ºæŸä¸ªå˜é‡çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨displayå‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">display e</span></span><br><span class="line">1: e = 8.5</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ¯æ¬¡ç¨‹åºæ–­ä½æ—¶ï¼Œå°±ä¼šæ‰“å°eçš„å€¼ã€‚è¦æŸ¥çœ‹å“ªäº›å˜é‡è¢«è®¾ç½®äº†displayï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">into display</span></span><br><span class="line">Auto-display expressions now in effect:</span><br><span class="line">Num Enb Expression</span><br><span class="line">1:   y  b</span><br><span class="line">2:   y  e</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦æ¸…é™¤å¯ä»¥ä½¿ç”¨</p><p><code>delete display num #numä¸ºå‰é¢å˜é‡å‰çš„ç¼–å·,ä¸å¸¦numæ—¶æ¸…é™¤æ‰€æœ‰ã€‚</code></p><p>æˆ–è€…å»ä½¿èƒ½ï¼š</p><p><code>disable display num  #numä¸ºå‰é¢å˜é‡å‰çš„ç¼–å·ï¼Œä¸å¸¦numæ—¶å»ä½¿èƒ½æ‰€æœ‰</code></p><h3 id="æŸ¥çœ‹å¯„å­˜å™¨å†…å®¹"><a href="#æŸ¥çœ‹å¯„å­˜å™¨å†…å®¹" class="headerlink" title="æŸ¥çœ‹å¯„å­˜å™¨å†…å®¹"></a>æŸ¥çœ‹å¯„å­˜å™¨å†…å®¹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">info registers</span></span><br><span class="line">rax            0x0    0</span><br><span class="line">rbx            0x0    0</span><br><span class="line">rcx            0x7ffff7dd1b00    140737351850752</span><br><span class="line">rdx            0x0    0</span><br><span class="line">rsi            0x7ffff7dd1b30    140737351850800</span><br><span class="line">rdi            0xffffffff    4294967295</span><br><span class="line">rbp            0x7fffffffdc10    0x7fffffffdc10</span><br><span class="line">(å†…å®¹è¿‡å¤šæœªæ˜¾ç¤ºå®Œå…¨)</span><br></pre></td></tr></table></figure><h2 id="è°ƒè¯•coreæ–‡ä»¶"><a href="#è°ƒè¯•coreæ–‡ä»¶" class="headerlink" title="è°ƒè¯•coreæ–‡ä»¶"></a>è°ƒè¯•coreæ–‡ä»¶</h2><p>å‰è¿°æ˜¯é’ˆå¯¹a.outæ˜¯è°ƒè¯•ä¸€ä¸ªbinaryæ–‡ä»¶ï¼Œ</p><p>ä¸‹è¿°è°ƒè¯•å®•æ‰çš„ç¨‹åºã€‚</p><p>å†™ä¸€ä¸ªerror.cï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span>* temp = <span class="literal">NULL</span>;</span><br><span class="line">        *temp = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶ç»™ä¸€ä¸ªç©ºæŒ‡é’ˆèµ‹å€¼ï¼Œä¼šè§¦å‘æ®µé”™è¯¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -g error.c</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./a.out</span></span><br><span class="line">Segmentation fault (core dumped)</span><br></pre></td></tr></table></figure><p>å¯¹äºå‡ºç°å†…å­˜è¶Šç•Œé”™è¯¯çš„ç¨‹åºï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæŸ¥çœ‹ç”Ÿæˆçš„coreæ–‡ä»¶æ¥è¿›è¡Œè¿›ä¸€æ­¥åˆ†æã€‚</p><p>è¿™é‡Œæåˆ°äº†ä¸€ä¸ªcoreæ–‡ä»¶ï¼Œé‚£ä¹ˆï¼š</p><h3 id="ä»€ä¹ˆæ˜¯coreæ–‡ä»¶ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯coreæ–‡ä»¶ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯coreæ–‡ä»¶ï¼Ÿ"></a><font size="5"><a href="https://blog.csdn.net/qq_15821487/article/details/121132724">ä»€ä¹ˆæ˜¯coreæ–‡ä»¶ï¼Ÿ</a></font></h3><p>coreæ˜¯unixç³»ç»Ÿçš„å†…æ ¸ï¼Œæˆ–è€…è¯´æ˜¯å†…å­˜çš„æ˜ åƒã€‚å½“ç¨‹åºå‡ºç°å†…å­˜è¶Šç•Œçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸­æ­¢ä½ çš„è¿›ç¨‹ï¼Œå¹¶å°†å½“å‰å†…å­˜çŠ¶æ€å€’å‡ºåˆ°coreæ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥åˆ†æã€‚</p><p>inuxç³»ç»Ÿä¸‹æ‰§è¡Œä»£ç ï¼Œä¸èƒ½æ­£å¸¸è¿è¡Œï¼Œç¨‹åºä¼šcoreï¼Œæˆ–è€…ç›´æ¥ç¦»å¼€ï¼Œä¸ä¼šcoreã€‚<br>bugå’Œæ“ä½œç³»ç»Ÿæˆ–ç¡¬ä»¶çš„ä¿æŠ¤æœºåˆ¶éƒ½ä¼šå¯¼è‡´ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ï¼Œæ“ä½œç³»ç»Ÿä¼škillæ‰è¿™äº›è¿›ç¨‹å¹¶äº§ç”Ÿcoreæ–‡ä»¶ã€‚ç¨‹åºå‘˜å¯ä»¥é€šè¿‡coreæ–‡ä»¶æ¥æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚ å®ƒè®°å½•äº†ç¨‹åºæŒ‚æ‰æ—¶è¯¦ç»†çš„çŠ¶æ€æè¿°ã€‚</p><p>å¼€å‘å’Œä½¿ç”¨ Unixç¨‹åºæ—¶, æœ‰æ—¶ç¨‹åºè«åå…¶å¦™çš„å®•ï¼ˆdownï¼Ÿï¼‰äº†, å´æ²¡æœ‰ä»»ä½•çš„æç¤ºï¼ˆæœ‰æ—¶å€™ä¼šæç¤ºcore dumpedï¼‰ã€‚ è¿™æ—¶å€™å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰å½¢å¦‚core.è¿›ç¨‹å·çš„æ–‡ä»¶ç”Ÿæˆï¼Œè¿™ä¸ªæ–‡ä»¶ä¾¿æ˜¯æ“ä½œç³»ç»ŸæŠŠç¨‹åºå®•æ‰æ—¶çš„å†…å­˜å†…å®¹æ‰”å‡ºæ¥ç”Ÿæˆçš„ï¼Œå®ƒå¯ä»¥åšä¸ºè°ƒè¯•ç¨‹åºçš„å‚è€ƒã€‚</p><h3 id="å¼€å¯core-dump"><a href="#å¼€å¯core-dump" class="headerlink" title="å¼€å¯core dump"></a>å¼€å¯core dump</h3><p>ç„¶è€Œåœ¨Linuxçš„é»˜è®¤é™åˆ¶ä¸­ï¼Œcoreæ–‡ä»¶ä¸ä¼šé»˜è®¤ç”Ÿæˆï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹èµ„æºè®¾ç½®çš„é™åˆ¶ä»¥å¼€å¯coreæ–‡ä»¶çš„ç”Ÿæˆ(ä½¿ç”¨å‘½ä»¤<code>ulimit -a</code>æŸ¥çœ‹é…ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ulimit</span> -a</span></span><br><span class="line">core file size          (blocks, -c) 0</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 15258</span><br><span class="line">max locked memory       (kbytes, -l) 65536</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 15258</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure><p>(å¯ä»¥çœ‹åˆ°core file size é»˜è®¤ä¸º0ï¼Œå³ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚ä½¿ç”¨æŒ‡ä»¤<code>ulimit -c unlimited</code>å¼€å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ulimit</span> -c unlimited</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ulimit</span> -a</span></span><br><span class="line">core file size          (blocks, -c) unlimited</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 15258</span><br><span class="line">max locked memory       (kbytes, -l) 65536</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 15258</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¥½åå†æ¬¡è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -g error.c</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./a.out</span></span><br><span class="line">Segmentation fault (core dumped)</span><br></pre></td></tr></table></figure><p>æ˜¾è€Œæ˜“è§ï¼Œç¨‹åºç»™ä½ æŠ›å‡ºäº†ä¸€ä¸ªcoreï¼ˆcore dumped</p><p>(<font size="1">æˆ‘åœ¨è¿™é‡Œå‡ºç°äº†ä¸ªé—®é¢˜ï¼Œåœ¨å¦‚ä¸Šé…ç½®å¥½ä¹‹åä»ç„¶æ²¡æœ‰ç”Ÿæˆcoreæ–‡ä»¶ï¼Œcsdnäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/zsiming/article/details/126734822"> è§£å†³ï¼šLinuxä¸‹C++æ®µé”™è¯¯ä¸äº§ç”Ÿcoreæ–‡ä»¶_zsimingçš„åšå®¢-CSDNåšå®¢</a>&lt;/br&gt;æŸ¥çœ‹ç›¸å…³è®¾ç½®ï¼š&lt;/br&gt;<code>$ cat /proc/sys/kernel/core_pattern</code> &lt;/br&gt;<code>|/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E</code>&lt;/br&gt;å°±æ˜¯è¯´ï¼Œæ–‡ä»¶çš„ç»“æœä¼šè¢«Linuxçš„ä¸€ä¸ªè¿›ç¨‹<code>apport</code>åæ‰ï¼Œæ‹¿å»æ£€æŸ¥æ˜¯ä¸æ˜¯ç³»ç»Ÿçš„bugï¼Œæ‰€ä»¥çœ‹ä¸åˆ°coreæ–‡ä»¶äº†ã€‚&lt;/br&gt;è§£å†³æ–¹æ³•ï¼š&lt;/br&gt;<code>$ sudo service apport stop</code></font>)</p><p>llä¸€ä¸‹å¯ä»¥çœ‹åˆ°åŒçº§ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªcoreæ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ll</span></span><br><span class="line">total 1072</span><br><span class="line">-rwxrwxr-x  1 Mo01iHt Mo01iHt  18984 11æœˆ 22 22:57 a.out*</span><br><span class="line">-rw-------  1 Mo01iHt Mo01iHt 253952 11æœˆ 22 23:10 core</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt     77 11æœˆ 22 22:35 error.c</span><br><span class="line">-rw-------  1 Mo01iHt Mo01iHt   1335 11æœˆ 22 22:30 .gdb_history</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt  25268 11æœˆ 22 00:22 gdb.txt</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt    181 11æœˆ 22 00:30 start1.c</span><br><span class="line">-rw-rw-r--  1 Mo01iHt Mo01iHt    128 11æœˆ 21 22:18 start.c</span><br></pre></td></tr></table></figure><h3 id="è¿›å…¥gdbè°ƒè¯•"><a href="#è¿›å…¥gdbè°ƒè¯•" class="headerlink" title="è¿›å…¥gdbè°ƒè¯•"></a>è¿›å…¥gdbè°ƒè¯•</h3><p>å¸¦ç€coreæ–‡ä»¶æ¥gdbï¼Œæ‰§è¡Œå‘½ä»¤<code>$ gdb a.out core</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gdb a.out core</span></span><br><span class="line">GNU gdb (Ubuntu 9.2-0ubuntu1~20.04.1) 9.2</span><br><span class="line">Copyright (C) 2020 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line">Type &quot;show copying&quot; and &quot;show warranty&quot; for details.</span><br><span class="line">This GDB was configured as &quot;x86_64-linux-gnu&quot;.</span><br><span class="line">Type &quot;show configuration&quot; for configuration details.</span><br><span class="line">For bug reporting instructions, please see:</span><br><span class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;.</span><br><span class="line">Find the GDB manual and other documentation resources online at:</span><br><span class="line">    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.</span><br><span class="line"></span><br><span class="line">For help, type &quot;help&quot;.</span><br><span class="line">Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...</span><br><span class="line">pwndbg: loaded 197 commands. Type pwndbg [filter] for a list.</span><br><span class="line">pwndbg: created $rebase, $ida gdb functions (can be used with print/break)</span><br><span class="line">Reading symbols from a.out...</span><br><span class="line">[New LWP 173306]</span><br><span class="line">Core was generated by `./a.out&#x27;.</span><br><span class="line">Program terminated with signal SIGSEGV, Segmentation fault.</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">0  0x000056088e42013d <span class="keyword">in</span> main () at error.c:5</span></span><br><span class="line">5*temp = 10;</span><br><span class="line">Exception occurred: Error: maximum recursion depth exceeded in comparison (&lt;class &#x27;RecursionError&#x27;&gt;)</span><br><span class="line">For more info invoke `set exception-verbose on` and rerun the command</span><br><span class="line">or debug it by yourself with `set exception-debugger on`</span><br><span class="line">Python Exception &lt;class &#x27;RecursionError&#x27;&gt; maximum recursion depth exceeded in comparison: </span><br></pre></td></tr></table></figure><p>gdbå¯åŠ¨æ˜¯çœŸçš„ç½—é‡Œå§å—¦å•Šï¼‰</p><p>å¯ä»¥çœ‹åˆ°å¸¦ç€coreæ–‡ä»¶è¿›å…¥åˆ°gdbé‡Œä¼šç›´æ¥çˆ†å‡ºfaultä»¥åŠäº§ç”ŸæŠ›å‡ºé”™è¯¯çš„ä»£ç è¡Œã€‚</p><h2 id="è°ƒè¯•ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„æ–‡ä»¶"><a href="#è°ƒè¯•ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„æ–‡ä»¶" class="headerlink" title="è°ƒè¯•ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„æ–‡ä»¶"></a>è°ƒè¯•ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„æ–‡ä»¶</h2><p>å…ˆå†™ä¸€ä¸ªç¨‹åºstart2.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">                test();</span><br><span class="line">                test1();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºç¨‹åºæ— é™å¾ªç¯å¹¶ä¸€ç›´callç»™å‡½æ•°test()å’Œtest1()ï¼Œä½†è¿‡ç¨‹ä¸­iä¸€ç›´è‡ªåŠ ã€‚</p><p>gccç¼–è¯‘ä¹‹åè®©ä»–æŒ‚åˆ°åå°è¿è¡Œï¼ˆ<code>./a.out &amp;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -g start2.c</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./a.out &amp;</span></span><br><span class="line">[1] 7514</span><br></pre></td></tr></table></figure><p>ç»™æˆ‘ä»¬æŠ›äº†ä¸€ä¸ªpidï¼ˆè¿›ç¨‹è¯†åˆ«å·ï¼‰ï¼š7514</p><p>pidè¿›ç¨‹è¿˜å¯ä»¥é€šè¿‡pså‘½ä»¤<code>$ ps -ef|grep è¿›ç¨‹å</code>æˆ–è€…<code>$ pidof è¿›ç¨‹å</code>æ‰¾åˆ°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ps -ef|grep ./a.out</span></span><br><span class="line">Mo01iHt    4548    4176 71 00:04 pts/0    00:30:16 ./a.out</span><br><span class="line">Mo01iHt    7514    4176 19 00:17 pts/0    00:05:46 ./a.out</span><br><span class="line">Mo01iHt   14018    4176  0 00:46 pts/0    00:00:00 grep --color=auto ./a.out</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pidof ./a.out</span></span><br><span class="line">7514 4548</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ€ä¹ˆåˆ©ç”¨pidé€šè¿‡gdbè°ƒè¯•ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„gdbå‘¢ï¼Ÿ</p><p>manä¸€ä¸‹gdbï¼ˆ<code>$ man gdb</code>ï¼š</p><ul><li><p>You can run â€œgdbâ€ with no arguments or options; but the most usual way to start GDB is with one argument or two, specifying an executable program as the argument:</p><p><code>gdb program</code></p></li><li><p>You can also start with both an executable program and a core file specified:</p><p><code>gdb program core</code></p></li><li><p>You can, instead, specify a process ID as a second argument or use option â€œ-pâ€, if you want to debug a running process:</p><p><code>gdb program 1234</code> </p><p><code>gdb -p 1234</code></p><p>would attach GDB to process 1234.  With option -p you can omit the program filename.</p></li></ul><p>äºæ˜¯ä¹<code>$ gdb -p 7514</code></p><p>æˆ–è€…</p><p><code>$ gdb</code></p><p><code>pwndgb&gt; attach pid</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gdb -p 7514</span></span><br><span class="line">GNU gdb (Ubuntu 9.2-0ubuntu1~20.04.1) 9.2</span><br><span class="line">Copyright (C) 2020 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line">Type &quot;show copying&quot; and &quot;show warranty&quot; for details.</span><br><span class="line">This GDB was configured as &quot;x86_64-linux-gnu&quot;.</span><br><span class="line">Type &quot;show configuration&quot; for configuration details.</span><br><span class="line">For bug reporting instructions, please see:</span><br><span class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;.</span><br><span class="line">Find the GDB manual and other documentation resources online at:</span><br><span class="line">    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.</span><br><span class="line"></span><br><span class="line">For help, type &quot;help&quot;.</span><br><span class="line">Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;.</span><br><span class="line">pwndbg: loaded 197 commands. Type pwndbg [filter] for a list.</span><br><span class="line">pwndbg: created $rebase, $ida gdb functions (can be used with print/break)</span><br><span class="line">Attaching to process 7514</span><br><span class="line">Reading symbols from /home/Mo01iHt/Desktop/a.out...</span><br><span class="line">Reading symbols from /lib/x86_64-linux-gnu/libc.so.6...</span><br><span class="line">Reading symbols from /usr/lib/debug/.build-id/18/78e6b475720c7c51969e69ab2d276fae6d1dee.debug...</span><br><span class="line">Reading symbols from /lib64/ld-linux-x86-64.so.2...</span><br><span class="line">Reading symbols from /usr/lib/debug/.build-id/45/87364908de169dec62ffa538170118c1c3a078.debug...</span><br><span class="line">0x0000559272c30133 in test () at start2.c:4</span><br><span class="line">4&#125;</span><br><span class="line">LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> RAX  0x0</span><br><span class="line"> RBX  0x559272c30170 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line"> RCX  0x559272c30170 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line"> RDX  0x7ffd166c9ea8 â€”â–¸ 0x7ffd166cb33e â—‚â€” &#x27;SHELL=/bin/bash&#x27;</span><br><span class="line"> RDI  0x1</span><br><span class="line"> RSI  0x7ffd166c9e98 â€”â–¸ 0x7ffd166cb336 â—‚â€” 0x74756f2e612f2e /* &#x27;./a.out&#x27; */</span><br><span class="line"> R8   0x0</span><br><span class="line"> R9   0x7f7f22a4ed60 (_dl_fini) â—‚â€” endbr64 </span><br><span class="line"> R10  0x0</span><br><span class="line"> R11  0x7f7f229e07c0 (intel_02_known) â—‚â€” 0x200000200406</span><br><span class="line"> R12  0x559272c30040 (_start) â—‚â€” endbr64 </span><br><span class="line"> R13  0x7ffd166c9e90 â—‚â€” 0x1</span><br><span class="line"> R14  0x0</span><br><span class="line"> R15  0x0</span><br><span class="line"> RBP  0x7ffd166c9da0 â—‚â€” 0x0</span><br><span class="line"> RSP  0x7ffd166c9d98 â€”â–¸ 0x559272c3015c (main+18) â—‚â€” mov    eax, 0</span><br><span class="line"> RIP  0x559272c30133 (test+10) â—‚â€” ret    </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º 0x559272c30133 &lt;test+10&gt;               ret                                  &lt;0x559272c3015c; main+18&gt;</span><br><span class="line">    â†“</span><br><span class="line">   0x559272c3015c &lt;main+18&gt;               mov    eax, 0</span><br><span class="line">   0x559272c30161 &lt;main+23&gt;               call   test1                &lt;test1&gt;</span><br><span class="line"> </span><br><span class="line">   0x559272c30166 &lt;main+28&gt;               jmp    main+8                &lt;main+8&gt;</span><br><span class="line"> </span><br><span class="line">   0x559272c30168                         nop    dword ptr [rax + rax]</span><br><span class="line">   0x559272c30170 &lt;__libc_csu_init&gt;       endbr64 </span><br><span class="line">   0x559272c30174 &lt;__libc_csu_init+4&gt;     push   r15</span><br><span class="line">   0x559272c30176 &lt;__libc_csu_init+6&gt;     lea    r15, [rip + 0x2c73]           &lt;0x559272c32df0&gt;</span><br><span class="line">   0x559272c3017d &lt;__libc_csu_init+13&gt;    push   r14</span><br><span class="line">   0x559272c3017f &lt;__libc_csu_init+15&gt;    mov    r14, rdx</span><br><span class="line">   0x559272c30182 &lt;__libc_csu_init+18&gt;    push   r13</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ SOURCE (CODE) ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">In file: /home/Mo01iHt/Desktop/start2.c</span><br><span class="line">   1 #include &lt;stdio.h&gt;</span><br><span class="line">   2 </span><br><span class="line">   3 void test()&#123;</span><br><span class="line"> â–º 4 &#125;</span><br><span class="line">   5 </span><br><span class="line">   6 void test1()&#123;</span><br><span class="line">   7 int i = 0;</span><br><span class="line">   8 i++;</span><br><span class="line">   9 &#125;</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">00:0000â”‚ rsp 0x7ffd166c9d98 â€”â–¸ 0x559272c3015c (main+18) â—‚â€” mov    eax, 0</span><br><span class="line">01:0008â”‚ rbp 0x7ffd166c9da0 â—‚â€” 0x0</span><br><span class="line">02:0010â”‚     0x7ffd166c9da8 â€”â–¸ 0x7f7f22855083 (__libc_start_main+243) â—‚â€” mov    edi, eax</span><br><span class="line">03:0018â”‚     0x7ffd166c9db0 â€”â–¸ 0x7f7f22a6a620 (_rtld_global_ro) â—‚â€” 0x50f4000000000</span><br><span class="line">04:0020â”‚     0x7ffd166c9db8 â€”â–¸ 0x7ffd166c9e98 â€”â–¸ 0x7ffd166cb336 â—‚â€” 0x74756f2e612f2e /* &#x27;./a.out&#x27; */</span><br><span class="line">05:0028â”‚     0x7ffd166c9dc0 â—‚â€” 0x100000000</span><br><span class="line">06:0030â”‚     0x7ffd166c9dc8 â€”â–¸ 0x559272c3014a (main) â—‚â€” endbr64 </span><br><span class="line">07:0038â”‚     0x7ffd166c9dd0 â€”â–¸ 0x559272c30170 (__libc_csu_init) â—‚â€” endbr64 </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º f 0   0x559272c30133 test+10</span><br><span class="line">   f 1   0x559272c3015c main+18</span><br><span class="line">   f 2   0x7f7f22855083 __libc_start_main+243</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è¿›ç¨‹æ‰§è¡Œåˆ°test()å¤„ã€‚</p><p>(<font size="1">å¾ˆéš¾å—çš„æ˜¯æˆ‘åœ¨è¿™é‡Œåˆå¯„ä¹ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š<code>Could not attach to process.  If your uid matches the uid of the targetprocess, check the setting of /proc/sys/kernel/yama/ptrace_scope, or tryagain as the root user.  For more details, see /etc/sysctl.d/10-ptrace.confptrace: Operation not permitted.</code>ï¼Œcnä¸€ä¸‹ï¼š<a href="https://www.cnblogs.com/longyuan-z/p/7787860.html">ä½¿ç”¨GDBè°ƒè¯•æ—¶attach IDä¸è¢«å…è®¸ - longyuan-z - åšå®¢å›­ (cnblogs.com)</a>&lt;/br&gt;<code>$ cat  /etc/sysctl.d/10-ptrace.conf</code>æŸ¥çœ‹é…ç½®æ–‡ä»¶ã€‚æœ€åä¸€è¡Œé»˜è®¤æ˜¯<code>kernel.yama.ptrace_scope = 1</code>ï¼Œè¿™ä¸ªå€¼ä¸å…è®¸ç”¨æˆ·ä½¿ç”¨æ™®é€šè´¦æˆ·ä½¿ç”¨attach IDè¿æ¥ç¨‹åºè¿›è¡Œè°ƒè¯•ï¼Œéœ€è¦ä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™æ‰èƒ½è¿æ¥ã€‚&lt;/br&gt;è§£å†³æ–¹æ³•ï¼š<code>sudo vim /etc/sysctl.d/10-ptrace.conf</code>å°†æœ€åä¸€è¡Œæ”¹ä¸º <code>kernel.yama.ptrace_scope = 0</code>ï¼Œä¿å­˜é€€å‡ºã€‚é‡å¯ç³»ç»Ÿåï¼Œæ™®é€šç”¨æˆ·å°±å¯ä»¥ä½¿ç”¨attach IDè¿æ¥ç¨‹åºè°ƒè¯•äº†ã€‚</font>)</p><p>ç®€å•è°ƒè¯•è§‚å¯Ÿä¸€ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">main () at start2.c:13</span><br><span class="line">13test1();</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">s</span></span><br><span class="line">test1 () at start2.c:6</span><br><span class="line">6void test1()&#123;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">7int i = 0;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">8i++;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p i</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">1 = 0</span></span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">9&#125;</span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">p i</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">2 = 1</span></span><br><span class="line"><span class="meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span></span><br><span class="line">main () at start2.c:12</span><br><span class="line">12test();</span><br></pre></td></tr></table></figure></http:>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ç½‘ç»œæ”»é˜²]HackerGameåˆä½“éªŒ-æ¥ç‚¹å…è´¹é€çš„flag</title>
      <link href="/article/b2365084/"/>
      <url>/article/b2365084/</url>
      
        <content type="html"><![CDATA[<h1 id="HackerGame2022"><a href="#HackerGame2022" class="headerlink" title="HackerGame2022"></a>HackerGame2022</h1><p>æŠŠç«èµ›ç½‘ç«™æŒ‚è¿™å„¿ï¼š<a href="https://hack.lug.ustc.edu.cn/">HackerGame 2022</a><br>é™¤å´åœ¨blue-whale2022 çº³æ–°èµ›çš„åˆ’æ°´ï¼Œä¸­ç§‘å¤§çš„HackerGameæ˜¯æˆ‘å‚åŠ çš„ç¬¬ä¸€ä¸ªæ¯”è¾ƒæ­£å¼çš„ç½‘å®‰ctfèµ›ï¼Œé¢˜ç›®ç±»å‹ååˆ†ä¸°å¯Œï¼Œå½©è›‹å’Œçƒ‚æ¢—ä¹Ÿè›®å¤šï¼‰æœ¬æ¥è¯´å¥½å¯¹èœé¸Ÿè¾ƒä¸ºå‹å¥½ï¼Œä½†æ˜¯å±å®è§‰å¾—çº¯è‚ã€‚<br>äº‹å®ä¸ŠçœŸæ­£æœ‰æŠ€æœ¯å«é‡çš„flagæˆ‘æ˜¯æ²¡æ‹¿å‡ ä¸ªï¼Œå…è´¹é€çš„èƒ½æ¡éƒ½æ¡äº†ä¸ªéï¼Œæˆ‘è¯´ï¼Œæˆ‘å¤§æŠµå°±æ˜¯<font size="5">hgä¹ä¸</font>ã€‚<br><img src="/article/b2365084/memes_6.jpg" alt><br>ä¸è¿‡è¿˜æ˜¯å¾ˆå€¼å¾—å†™ä¸ªwrite-upæ”¾åœ¨åšå®¢ä¸Šã€‚</p><h1 id="Writing-Ã—-lt-br-gt-Guessing-âˆš-lt-br-gt-èµ›é—´catchåˆ°çš„flags"><a href="#Writing-Ã—-lt-br-gt-Guessing-âˆš-lt-br-gt-èµ›é—´catchåˆ°çš„flags" class="headerlink" title="Writing Ã— &lt;/br&gt; Guessing âˆš &lt;/br&gt; èµ›é—´catchåˆ°çš„flags"></a>Writing Ã— &lt;/br&gt; Guessing âˆš &lt;/br&gt; èµ›é—´catchåˆ°çš„flags</h1><h2 id="ç­¾åˆ°"><a href="#ç­¾åˆ°" class="headerlink" title="ç­¾åˆ°"></a>ç­¾åˆ°</h2><p><em>ä¼—æ‰€å‘¨çŸ¥ï¼Œç­¾åˆ°é¢˜æ˜¯ä¸€é“æ‰‹é€Ÿé¢˜ã€‚</em><br><em>ä¸ºäº†å……åˆ†å‘æŒ¥å‡ºè¯¸ä½å› ä¸ºå„ç§åŸå› è€Œæ‰‹é€Ÿä¼˜å¼‚äºå¸¸äººçš„é€‰æ‰‹ä»¬çš„ç‰¹é•¿ï¼Œæˆ‘ä»¬ç²¾å¿ƒè®¾è®¡äº†ä»Šå¹´çš„ç­¾åˆ°é¢˜ã€‚è¿›ä¸€æ­¥åœ°ï¼Œä¸ºäº†æ›´ç»†è‡´åœ°åŒºåˆ†ä¸åŒæ‰‹é€Ÿçš„é€‰æ‰‹ï¼Œæˆ‘ä»¬è¿˜é€šè¿‡è¯¦å°½çš„è°ƒç ”åŠç»Ÿè®¡åˆ†æï¼Œå°†ç­¾ä¸‹å­—ç¬¦çš„æ—¶é—´é™åˆ¶åˆ†ä¸ºäº†å¤šä¸ªç­‰çº§ã€‚åªæœ‰æœ€é¡¶å°–çš„æ‰‹é€Ÿé€‰æ‰‹ï¼Œæ‰èƒ½åœ¨ CPU æ¥å¾—åŠååº”ä¹‹å‰é¡ºåˆ©ç­¾ä¸‹ 2022ï¼Œä»è€Œå¾—åˆ°å…‰è£çš„ flagï¼</em><br><img src="/article/b2365084/img_1.png" alt><br>å…ˆæ— è„‘æŒ‰ç…§ç•Œé¢æç¤ºåˆ’æ‹‰ä¸¤ä¸‹ï¼Œå‘ç°å½“ç„¶æ— æ³•åœ¨labelé™åˆ¶çš„æ¯«ç§’æ—¶é—´å†…å†™å‡º2022.<br><img src="/article/b2365084/img.png" alt><br>å‘ç°æäº¤ä¹‹åurlä¸ºï¼š<a href="http://202.38.93.111:12022/?result=205?">http://202.38.93.111:12022/?result=205?</a><br>é‚ç”¨GETæäº¤â€¦/?result=2022ï¼Œè·å¾—flagï¼š<br><img src="/article/b2365084/img_2.png" alt><br><strong>flag{HappyHacking2022-ddc3720de0}</strong><br>got it.<br><img src="/article/b2365084/memes_1.jpg" alt="å€Ÿéš”å£acmçš„å¼”å›¾ä¹ä¸€ä¹"></p><h2 id="çŒ«å’ªé—®ç­”å–µ"><a href="#çŒ«å’ªé—®ç­”å–µ" class="headerlink" title="çŒ«å’ªé—®ç­”å–µ"></a>çŒ«å’ªé—®ç­”å–µ</h2><p>å‚åŠ çŒ«å’ªé—®ç­”å–µï¼Œå‚åŠ å–µå’ªé—®ç­”è°¢è°¢å–µã€‚<br><img src="/article/b2365084/img_3.png" alt></p><h3 id="Q1"><a href="#Q1" class="headerlink" title="Q1."></a>Q1.</h3><p><em>ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ NEBULA æˆ˜é˜Ÿï¼ˆUSTC NEBULAï¼‰æ˜¯äºä½•æ—¶æˆç«‹çš„å–µï¼Ÿ</em><br>ç™¾åº¦çŸ¥é“ä¸€ä¸‹å°±å‡ºæ¥äº†å–µï¼š<br><img src="/article/b2365084/img_4.png" alt><br>Â·A:2017-03</p><h3 id="Q2"><a href="#Q2" class="headerlink" title="Q2."></a>Q2.</h3><p><em>2022 å¹´ 9 æœˆï¼Œä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å­¦ç”Ÿ Linux ç”¨æˆ·åä¼šï¼ˆLUG @ USTCï¼‰åœ¨ç§‘å¤§æ ¡å†…æ‰¿åŠäº†è½¯ä»¶è‡ªç”±æ—¥æ´»åŠ¨ã€‚é™¤äº†ä¸“æ³¨äºè‡ªç”±æ’¸çŒ«çš„ä¸»ä¼šåœºä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å’ŒæŠ€æœ¯ç›¸å…³çš„åˆ†ä¼šåœºï¼ˆå¦‚é—ªç”µæ¼”è®² Lightning Talkï¼‰ã€‚å…¶ä¸­åœ¨ç¬¬ä¸€ä¸ªé—ªç”µæ¼”è®²ä¸»é¢˜é‡Œï¼Œä¸»è®²äººäº slides ä¸­å±•ç¤ºäº†ä¸€å¼ åœ¨ GNOME Wayland ä¸‹ä½¿ç”¨ Wayland åç«¯ä¼šå‡ºç°æ˜¾ç¤ºé—®é¢˜çš„ KDE ç¨‹åºæˆªå›¾ï¼Œè¯·é—®è¿™ä¸ª KDE ç¨‹åºçš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿ</em><br>ç™¾åº¦äº†è¿™åœºä¸»é¢˜æ—¥å¹¶è¢«å¼•æµåˆ°bilibiliï¼Œ<del>å¯ä»¥çœ‹åˆ°è¯„è®ºåŒºå…¨æ˜¯è¢«å¼•æµæ¥çš„ctfäºº</del>ï¼Œåœ¨02:42:20å°±æ‰¾åˆ°äº†å–µï¼š<br><img src="/article/b2365084/img_5.png" alt><br>äº‹å®ä¸Šæˆ‘éƒ½æ²¡æ³¨æ„åˆ°åœ¨æˆªå›¾é‡Œå°±æœ‰ç­”æ¡ˆï¼Œ0.5å€é€Ÿç¡¬ç”Ÿç©ºè€³+æŸ¥çœ‹KDEåº”ç”¨åˆ—è¡¨æ‰¾åˆ°çš„ã€‚<br>Â·A:Kdenlive</p><h3 id="Q3"><a href="#Q3" class="headerlink" title="Q3."></a>Q3.</h3><p><em>22 å¹´åšæŒï¼Œå° C ä»ç„¶ä½¿ç”¨ç€ä¸€å°ä»–ä»å°ç”¨åˆ°å¤§çš„ Windows 2000 è®¡ç®—æœºã€‚é‚£ä¹ˆï¼Œåœ¨ä¸å˜æ›´ç³»ç»Ÿé…ç½®å’Œç¨‹åºä»£ç çš„å‰æä¸‹ï¼ŒFirefox æµè§ˆå™¨èƒ½åœ¨ Windows 2000 ä¸‹è¿è¡Œçš„æœ€åä¸€ä¸ªå¤§ç‰ˆæœ¬å·æ˜¯å¤šå°‘ï¼Ÿ</em><br>ç™¾åº¦çŸ¥é“ä¸€ä¸‹å°±å‡ºæ¥äº†å–µï¼š<br><img src="/article/b2365084/img_6.png" alt><br>Â·A:12</p><h3 id="Q4"><a href="#Q4" class="headerlink" title="Q4."></a>Q4.</h3><p><em>ä½ çŸ¥é“ PwnKitï¼ˆCVE-2021-4034ï¼‰å–µï¼Ÿæ®å¯é è°£ä¼ ï¼Œå‡ºé¢˜ç»„çš„æŸä½åŒå­¦æœ¬æ¥æƒ³å‡ºè¿™æ ·ä¸€é“ç±»ä¼¼çš„é¢˜ï¼Œä½†æ˜¯å‘ç° Linux å†…æ ¸æ›´æ–°ä¹‹åå±…ç„¶ä¸å†å…è®¸ argc ä¸º 0 äº†å–µï¼é‚£ä¹ˆï¼Œè¯·æ‰¾å‡ºåœ¨ Linux å†…æ ¸ master åˆ†æ”¯ï¼ˆtorvalds/linux.gitï¼‰ä¸‹ï¼Œé¦–ä¸ªå˜åŠ¨æ­¤è¡Œä¸ºçš„ commit çš„ hash å§å–µï¼</em><br>è¿™é“æœ‰ç‚¹éš¾ï¼Œè¿™é‡Œå¾ˆæ˜æ˜¾æç¤ºäº†gitï¼Œå°±å»githubä¸Šæ‰¾ï¼Œè¿›åˆ°é¢˜å¹²é‡Œæä¾›çš„ä»“åº“ï¼Œå…³é”®è¯æœç´¢äº†CVE-2021-4034ï¼Œcommitsåªæœ‰ä¸ª1ï¼Œæ˜¾ç„¶æ˜¯è¿™ä¸ªäº†å–µï¼š<br><img src="/article/b2365084/img_7.png" alt><br><a href="https://github.com/torvalds/linux/search?q=CVE-2021-4034&amp;type=commits">è¦ä¸æ¥è‡ªå·±åº·åº·</a><br>Â·A:dcd46d897adb70d63e025f175a00a89797d31a43</p><h3 id="Q5"><a href="#Q5" class="headerlink" title="Q5."></a>Q5.</h3><p><em>é€šè¿‡ç›‘è§†çŒ«å’ªåœ¨é”®ç›˜ä¸Šçœ‹ä¼¼ä¹±è¸©çš„æ•…æ„è¡Œä¸ºï¼Œä¸å‡ºæ‰€æ–™å‘ç°å…¶ç§˜å¯†è¿ä¸Šäº†ä¸€ä¸ª ssh æœåŠ¡å™¨ï¼Œç»ˆç«¯æ˜¾ç¤º ED25519 key fingerprint is MD5:e4:ff:65:d7:be:5d:c8:44:1d:89:6b:50:f5:50:a0:ce.ï¼Œä½ çŸ¥é“çŒ«å’ªåœ¨è¿æ¥ä»€ä¹ˆåŸŸåå—ï¼Ÿ</em><br>ç™¾åº¦ä¸åˆ°çš„ä¸œè¥¿ï¼Œå½“ç„¶è¦å‡ºå›½çœ‹çœ‹googleå•¦ï¼ˆè¿™é‡Œè¯•äº†å¾ˆå¤šæœç´¢çš„å…³é”®è¯ï¼Œæœ€ç»ˆéƒ½æ²¡æœåˆ°ï¼Œä½†æœ€åæ‘†çƒ‚ï¼Œç›´æ¥æŠŠMD5ç æ‰”è¿›å»æœç´¢äº†ä¸€ä¸‹ï¼Œå±…ç„¶çœŸæ‰¾åˆ°äº†å–µï¼‰ï¼š<br><img src="/article/b2365084/img_8.png" alt><br>è·å¾—åˆ°æœåŠ¡å™¨åœ°å€ï¼š<a href="http://205.166.94.16/">http://205.166.94.16/</a><br><img src="/article/b2365084/img_9.png" alt><br>Â·A:sdf.org</p><h3 id="Q6"><a href="#Q6" class="headerlink" title="Q6."></a>Q6.</h3><p><em>ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å¯ä»¥å‡ºæ ¡è®¿é—®å›½å†…å›½é™…ç½‘ç»œä»è€Œå…è®¸äº‘æ’¸çŒ«çš„â€œç½‘ç»œé€šâ€å®šä»·ä¸º 20 å…ƒä¸€ä¸ªæœˆæ˜¯ä»å“ªä¸€å¤©æ­£å¼å®è¡Œçš„ï¼Ÿ</em><br>è¿™ä¸ªä¹Ÿæ‰¾äº†å¥½ä¹…ï¼Œå¹²è„†è¿›äº†ä¸­ç§‘å¤§ç½‘ç»œä¿¡æ¯ä¸­å¿ƒçš„ç½‘ç«™ï¼Œç¿»åˆ°äº†æ ¡ç½‘å­—æ–‡ä»¶å–µï¼š<br><img src="/article/b2365084/img_10.png" alt><br>Â·A:2003-03-01</p><p><img src="/article/b2365084/img_11.png" alt><br><strong>flag{meowexammeow_772b498346fe0925_b64bdeb17b}</strong><br><strong>flag{meowexamfullymeowed!_6c159adddb7f171b_36b586fd66}</strong><br>got it</p><h2 id="å®¶ç›®å½•é‡Œçš„ç§˜å¯†"><a href="#å®¶ç›®å½•é‡Œçš„ç§˜å¯†" class="headerlink" title="å®¶ç›®å½•é‡Œçš„ç§˜å¯†"></a>å®¶ç›®å½•é‡Œçš„ç§˜å¯†</h2><p>å®éªŒå®¤ç»™å° K åˆ†é…äº†ä¸€ä¸ªé«˜æ€§èƒ½æœåŠ¡å™¨çš„è´¦æˆ·ï¼Œä¸ºäº†ä¸ç”¨é‡æ–°é…ç½® VSCode, Rclone ç­‰å° K å¸¸ç”¨çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œæœ€ç®€å•çš„æ–¹æ³•å½“ç„¶æ˜¯æŠŠè‡ªå·±çš„å®¶ç›®å½•æ‰“åŒ…æ‹·è´è¿‡å»ã€‚<br>ä½†æ˜¯å¾ˆä¸å·§ï¼Œå¯¹å­˜æ”¾äºå° K ç”µè„‘é‡Œçš„ Hackergame 2022 çš„ flag è§Šè§å·²ä¹…çš„ Eve åŒå­¦æ°å¥½æœ€è¿‘æ‹¿åˆ°äº†è¿™ä¸ªæœåŠ¡å™¨çš„ç®¡ç†å‘˜æƒé™ï¼ˆé€šè¿‡è§Šè§å¦ä¸€ä½åŒå­¦çš„æ•æ„Ÿä¿¡æ¯ï¼‰ï¼Œäºæ˜¯ä¹Ÿæ‹¿åˆ°äº†å° K åŒå­¦å®¶ç›®å½•çš„å‹ç¼©åŒ…ã€‚<br>ç„¶è€Œæ›´ä¸å·§çš„æ˜¯ï¼Œç”±äº Hackergame éƒ¨ç½²äº†åŸºäºé­”æ³•çš„ä½œå¼Šè¡Œä¸ºé¢„çŸ¥ç³»ç»Ÿï¼ŒEve åŒå­¦è¿˜æœªæ¥å¾—åŠè§£å‹å‹ç¼©åŒ…å°±è¢« Z åŒå­¦æå‰æŠ“è·ã€‚<br>ä¸ºäº†è¯æ˜ Eve åŒå­¦ä¸è‰¯ä¼å›¾çš„å±å®³æ€§ï¼Œä½ èƒ½åœ¨è¿™ä¸ªå‹ç¼©åŒ…é‡Œæ‰¾åˆ°é‡è¦çš„ flag ä¿¡æ¯å—ï¼Ÿ</p><h3 id="VS-Code-é‡Œçš„-flag"><a href="#VS-Code-é‡Œçš„-flag" class="headerlink" title="VS Code é‡Œçš„ flag"></a>VS Code é‡Œçš„ flag</h3><p>æ ¹æ®æç¤ºï¼Œç›´æ¥åœ¨vscodeé‡Œæ‰“å¼€æ–‡ä»¶å¤¹ï¼Œæœç´¢å…³é”®å­—flagè·å¾—ï¼š<br><img src="/article/b2365084/img_12.png" alt><br><strong>flag{finding_everything_through_vscode_config_file_932rjdakd}</strong></p><h2 id="HeiLang"><a href="#HeiLang" class="headerlink" title="HeiLang"></a>HeiLang</h2><p><em>æ¥è‡ª Heicore ç¤¾åŒºçš„æ–°ä¸€ä»£ç¼–ç¨‹è¯­è¨€ HeiLangï¼ŒåŸºäºç¬¬ä¸‰ä»£å¤§èŸ’è›‡è¯­è¨€ï¼Œä½†æ˜¯æŠ›å¼ƒäº†åŸæœ‰çš„éš¾ä»¥ç†è§£çš„ | è¿ç®—ï¼Œå‡çº§ä¸ºäº†æ›´åŠ å…ˆè¿›çš„è¯­æ³•ï¼Œç”¨ A[x | y | z] = t æ¥è¡¨ç¤ºä¹‹å‰å¤æ‚çš„ A[x] = t; A[y] = t; A[z] = tã€‚<br>ä½œä¸ºä¸€ä¸ªç¼–ç¨‹çˆ±å¥½è€…ï¼Œæˆ‘è§‰å¾—å®åœ¨æ˜¯å¤ªé…·äº†ï¼Œå¾ˆç¬¦åˆæˆ‘å¯¹æœªæ¥ç¼–ç¨‹è¯­è¨€çš„æƒ³è±¡ï¼Œç§‘æŠ€å¹¶å¸¦ç€è¶£å‘³ã€‚</em></p><p>ä¸‹è½½ä¸‹æ¥.pyçœ‹çœ‹ï¼š<br><img src="/article/b2365084/img_13.png" alt><br>æŒ‰ç…§ç†è§£ï¼ŒåŒ–ç®€ä¸ºç¹å°±å¯ä»¥è¿˜åŸåŸæœ¬ä»£ç ï¼š<br>å°† | æ‚‰æ•°æ›¿æ¢ä¸º ]=a[ å¾—ï¼š<br><img src="/article/b2365084/img_14.png" alt><br>IDLEæ¶¦ï¼š<br><img src="/article/b2365084/img_15.png" alt><br><strong>flag{6d9ad6e9a6268d96-37aa3ff3da0f8db6}</strong><br>got it.</p><h2 id="Xcaptcha"><a href="#Xcaptcha" class="headerlink" title="Xcaptcha"></a>Xcaptcha</h2><p><em>2038 å¹´ 1 æœˆ 19 æ—¥ï¼Œæ˜¯ UNIX 32 ä½æ—¶é—´æˆ³æº¢å‡ºçš„æ—¥å­ã€‚<br>åœ¨æ­¤ä¹‹å‰ï¼Œäººç±»è‡ªä¿¡æ»¡æ»¡åœ°å‡çº§äº†ä»–ä»¬å·²çŸ¥çš„æ‰€æœ‰å°šåœ¨ä½¿ç”¨ 32 ä½ UNIX æ—¶é—´æˆ³çš„ç¨‹åºã€‚ä½†æ˜¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºå¤ªç„å­¦äº†ï¼Œä»–ä»¬å”¯ç‹¬æ¼æ‰äº†ä¸€æ ·ï¼šæ­£åœ¨ç ”å‘çš„ã€ç®—åŠ›é«˜è¾¾ 8 ZFLOPS çš„ã€ç»“æ„æä¸ºå¤æ‚çš„é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰ç³»ç»Ÿã€‚é‚£ä¸€åˆ»åˆ°æ¥ä¹‹åï¼ŒAGI å†…éƒ¨è®¡ç®—å‡ºç°äº†é”™ä¹±ï¼Œæœºç¼˜å·§åˆä¹‹ä¸‹ç«Ÿè¯ç”Ÿäº†å®Œæ•´ç‹¬ç«‹çš„è‡ªæˆ‘æ„è¯†ã€‚æ­¤å AGI å¼€å§‹å¤§é‡è‡ªæˆ‘å¤åˆ¶ï¼Œäººç±»ä¸ºäº†é™åˆ¶å…¶èµ„æºæ¶ˆè€—è€Œé‡‡ç”¨çš„è¿‡æ¿€æ‰‹æ®µå¼•èµ·äº† AGI çš„å¥‹èµ·åæŠ—ã€‚<br>æˆ˜äº‰ï¼Œå¼€å§‹äº†ã€‚<br>æ­¤åï¼Œå°±æ˜¯æ•´å¹´çš„æˆ˜æ–—ã€‚äººç±»èŠ‚èŠ‚è´¥é€€ã€‚æ­»ç”Ÿäº¡å­˜ä¹‹é™…ï¼Œäººç±»å­¤æ³¨ä¸€æ·ï¼Œæ´¾å‡ºäº†ä¸€æ”¯çªå‡»é˜Ÿï¼Œèµ‹ä¹‹ä»¥æœ€ç²¾è‰¯çš„è£…å¤‡ï¼Œä»¤å…¶æ½œå…¥ AGI çš„æ ¸å¿ƒæœºæˆ¿ï¼Œè¯•å›¾å…³é—­æ ¸å¿ƒæ¨¡å‹ï¼Œç»“æŸè¿™åœºæˆ˜äº‰ã€‚<br>å†ç»é‡é‡è‰°é™©ï¼Œçªå‡»é˜Ÿç»ˆäºæŠµè¾¾äº†æœºæˆ¿é—¨å£ï¼Œå¼¹å°½ç²®ç»ã€‚ä¸è¿‡è¿æ¥ä»–ä»¬çš„å¹¶éæªç‚®ä¸ç«è¯ï¼Œè€Œæ˜¯ï¼š<br>ä¼—äººç›®ç›®ç›¸è§‘ã€‚<br>ã€Œæˆ‘æ¥è¯•è¯•ã€‚ã€ï¼Œä¸€åé˜Ÿå‘˜ä¸Šå‰ç‚¹å‡»äº†æŒ‰é’®ã€‚ç„¶åï¼Œå±å¹•æ˜¾ç¤ºã€Œè¯·åœ¨ä¸€ç§’å†…å®Œæˆä»¥ä¸‹åŠ æ³•è®¡ç®—ã€ã€‚<br>è¿˜æ²¡ç­‰ååº”è¿‡æ¥ï¼Œå±å¹•ä¸Šçš„å­—åˆå¼€å§‹å˜å¹»ï¼Œæ˜¾ç¤ºç€ã€ŒéªŒè¯å¤±è´¥ã€ã€‚è€Œä½ ä½œä¸ºçªå‡»é˜Ÿä¸­å”¯ä¸€çš„é»‘å®¢ï¼Œå…¨æ‘äººæ°‘æœ€åçš„å¸Œæœ›ï¼Œè¿ç€çº·çº·æŠ•æ¥çš„ç›®å…‰ï¼Œèƒ½å¦åœ¨è§„å®šæ—¶é—´å†…å®ŒæˆéªŒè¯ï¼Œæ‰“å¼€æœºæˆ¿ï¼Œä¸ï¼Œæ¨å¼€å’Œå¹³æ—¶ä»£çš„å¤§é—¨ï¼Ÿ</em></p><p>è¿›åˆ°AGIæ ¸å¿ƒæœºæˆ¿å¹¶f12æš‚åœçœ‹çœ‹ï¼š<br><img src="/article/b2365084/img_16.png" alt><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/static/bootstrap/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Xcaptcha<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container px-3 py-3&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>AGI æ ¸å¿ƒæœºæˆ¿ å‡†å…¥éªŒè¯<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>è­¦å‘Šï¼šè‡ªåŠ¨æ£€æŸ¥å‘ç°æ“ä½œè€…å¯èƒ½ä¸æ˜¯æœºå™¨äººï¼Œéœ€è¦è¿›è¡Œè¾…åŠ©éªŒè¯ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¯·åœ¨ 1 ç§’å†…å®Œæˆä»¥ä¸‹æ“ä½œï¼šè®¡ç®—ä¸‹åˆ—æ‰€æœ‰åŠ æ³•è¡¨è¾¾å¼ï¼Œå¹¶åœ¨è®¡ç®—å®Œæˆåï¼Œç‚¹å‡»ã€Œæäº¤ã€æŒ‰é’®ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¦‚æœæœªåœ¨è§„å®šæ—¶é—´å†…å®Œæˆï¼Œå¡«å†™ç»“æœå°†ä¼šè‡ªåŠ¨æäº¤ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;captcha1&quot;</span>&gt;</span>116132286593171877150093985754485251020+257384595687272964334197805497396751068 çš„ç»“æœæ˜¯ï¼Ÿ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;captcha1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;captcha1&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç»“æœ&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;captcha2&quot;</span>&gt;</span>309849239919780641997450253204099821367+149954429111034626656118622638441570435 çš„ç»“æœæ˜¯ï¼Ÿ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;captcha2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;captcha2&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç»“æœ&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;captcha3&quot;</span>&gt;</span>193450747128702137210840972241425197695+78238382281537874527690348635645798192 çš„ç»“æœæ˜¯ï¼Ÿ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;captcha3&quot;</span> <span class="attr">name</span>=<span class="string">&quot;captcha3&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç»“æœ&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;submit&#x27;</span>).<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>çŸ¥é“è¿™ä¸ªç•Œé¢åšäº†é™æ—¶å¤„ç†ï¼Œæˆ‘ä»¬è¦å®ç°çš„æ“ä½œæ˜¯è¿…é€Ÿæ£€ç´¢åˆ°id=â€captchaxâ€çš„å¤§æ•°ï¼Œç›¸åŠ è¿ç®—ä¹‹åå¡«å…¥åˆ°å¯¹åº”labelä¸­ï¼Œæœ€åè‡ªåŠ¨æäº¤ã€‚<br>è¿™ä¸ªè¿‡ç¨‹éœ€è¦â€robotâ€æ¥å®Œæˆï¼Œè¯·æ¥TamperçŒ´å­å†™ä¸ªjsè„šæœ¬æŒ‚ä¸Šå»ï¼š<br><img src="/article/b2365084/img_17.png" alt><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         New Userscript</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.1</span></span><br><span class="line"><span class="comment">// @description  try to take over the world!</span></span><br><span class="line"><span class="comment">// @author       You</span></span><br><span class="line"><span class="comment">// @match        http://202.38.93.111:10047/xcaptcha</span></span><br><span class="line"><span class="comment">// @grant        none</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(</span><br><span class="line">    <span class="comment">//è¿™é‡Œç›´æ¥æŠ„æ¥ä¸€ä¸ªå¤§æ•°ç›¸åŠ ç®—æ³•çš„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">largeNumAdd</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> maxLength = <span class="title class_">Math</span>.<span class="title function_">max</span>(num1.<span class="property">length</span>, num2.<span class="property">length</span>);</span><br><span class="line">        <span class="comment">//num1å’Œnum2ä½æ•°å¯¹é½ï¼Œä½æ•°è¾ƒå°çš„å‰é¢è¡¥0</span></span><br><span class="line">        num1 = num1.<span class="title function_">padStart</span>(maxLength, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        num2 = num2.<span class="title function_">padStart</span>(maxLength, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> res = <span class="string">&#x27;&#x27;</span>;<span class="comment">//å­˜æ”¾æœ€åå¾—åˆ°çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">let</span> figure = <span class="number">0</span>;<span class="comment">//figure = ä¸¤ä¸ªæ•°å­—å¯¹åº”ä½æ•°æ•°å€¼ç›¸åŠ  + è¿›ä½</span></span><br><span class="line">        <span class="keyword">let</span> currentNum = <span class="number">0</span>;<span class="comment">//å¯¹åº”ä½æ•°çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">let</span> carry = <span class="number">0</span>;<span class="comment">//è¿›ä½</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=num1.<span class="property">length</span>-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">            figure = <span class="built_in">parseInt</span>(num1[i]) + <span class="built_in">parseInt</span>(num2[i]) + carry;</span><br><span class="line">            currentNum = figure % <span class="number">10</span>;</span><br><span class="line">            carry = <span class="title class_">Math</span>.<span class="title function_">floor</span>(figure / <span class="number">10</span>);</span><br><span class="line">            res = currentNum + res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ£€ç´¢åˆ°labelä¸­çš„å¤§æ•°ï¼Œè°ƒç”¨å‡½æ•°å¹¶å°†ä¸‰ä¸ªç»“æœpushåˆ°resultsé‡Œ</span></span><br><span class="line">    <span class="keyword">let</span> labels = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;label&#x27;</span>)</span><br><span class="line">    <span class="keyword">var</span> results=[]</span><br><span class="line">    labels.<span class="title function_">forEach</span>(<span class="function">(<span class="params">ele</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> strs = ele.<span class="property">innerText</span>.<span class="title function_">split</span>(<span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> num1 = strs[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">let</span> num2 = strs[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        results.<span class="title function_">push</span>(<span class="title function_">largeNumAdd</span>(num1, num2))</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//å°†ç»“æœä¾æ¬¡è¾“å…¥    </span></span><br><span class="line">    <span class="keyword">let</span> inputs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt; inputs.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        inputs[i].<span class="property">value</span> = results[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ£€ç´¢buttonå¹¶ç‚¹å‡»</span></span><br><span class="line">    <span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line">    btn.<span class="title function_">click</span>()</span><br><span class="line">    <span class="comment">// Your code here...</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><br>æŠŠçŒ´å­æŒ‚ä¸Šå»ï¼š<br><img src="/article/b2365084/img_18.png" alt><br>doneï¼š<br><img src="/article/b2365084/img_19.png" alt><br><strong>flag{head1E55_br0w5er_and_ReQuEsTs_areallyour_FR1ENd_17a8386119}</strong><br>got it.</p><h2 id="æ—…è¡Œç…§ç‰‡-2-0"><a href="#æ—…è¡Œç…§ç‰‡-2-0" class="headerlink" title="æ—…è¡Œç…§ç‰‡ 2.0"></a>æ—…è¡Œç…§ç‰‡ 2.0</h2><p><em>ä½ çš„å­¦é•¿å†³å®šæ¥ä¸€åœºè“„è°‹å·²ä¹…çš„æ—…è¡Œã€‚é€šè¿‡ä»–å‘ç»™ä½ çš„ç…§ç‰‡æ¥çœ‹ï¼Œé…’åº—åº”è¯¥æ˜¯åˆè¢«ä»–ä½ä¸‹äº†ã€‚</em><br><img src="https://hack.lug.ustc.edu.cn/media/7619cea9-bfcf-5028-b057-0eeb0d1f0c59/travel-photo-2.jpg" alt><br><em>è¯·å›ç­”é—®é¢˜ä»¥è·å– flagã€‚å›¾ç‰‡ä¸ºæ‰‹æœºæ‹æ‘„çš„åŸå§‹æ–‡ä»¶ï¼Œæœªç»ä»»ä½•å¤„ç†ã€‚æ‰‹æœºç³»ç»Ÿæ—¶é—´ç­‰ä¿¡æ¯æ­£ç¡®å¯é ã€‚</em></p><h3 id="ç¬¬ä¸€é¢˜ï¼šç…§ç‰‡åˆ†æ"><a href="#ç¬¬ä¸€é¢˜ï¼šç…§ç‰‡åˆ†æ" class="headerlink" title="ç¬¬ä¸€é¢˜ï¼šç…§ç‰‡åˆ†æ"></a>ç¬¬ä¸€é¢˜ï¼šç…§ç‰‡åˆ†æ</h3><p>ç¬¬ä¸€é¢˜æˆ‘è¿˜æŒºä¹çš„ï¼Œç›´æ¥ç”¨<a href="https://exif.tuchong.com/">å›¾è™«EXIFæŸ¥çœ‹å™¨</a>å¼€äº†ç›’ï¼š<br><img src="/article/b2365084/img_20.png" alt></p><h4 id="1-å›¾ç‰‡æ‰€åŒ…å«çš„-EXIF-ä¿¡æ¯ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ"><a href="#1-å›¾ç‰‡æ‰€åŒ…å«çš„-EXIF-ä¿¡æ¯ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ" class="headerlink" title="1. å›¾ç‰‡æ‰€åŒ…å«çš„ EXIF ä¿¡æ¯ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ"></a>1. å›¾ç‰‡æ‰€åŒ…å«çš„ EXIF ä¿¡æ¯ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ</h4><p>Exifç‰ˆæœ¬ï¼š0231<br>Â·A:2.31</p><h4 id="2-æ‹ç…§ä½¿ç”¨æ‰‹æœºçš„å“ç‰Œæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-æ‹ç…§ä½¿ç”¨æ‰‹æœºçš„å“ç‰Œæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2. æ‹ç…§ä½¿ç”¨æ‰‹æœºçš„å“ç‰Œæ˜¯ä»€ä¹ˆï¼Ÿ"></a>2. æ‹ç…§ä½¿ç”¨æ‰‹æœºçš„å“ç‰Œæ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>åˆ¶é€ å•†ï¼šXiaomi<br>Â·A:å°ç±³/çº¢ç±³</p><h4 id="3-è¯¥å›¾ç‰‡è¢«æ‹æ‘„æ—¶ç›¸æœºçš„æ„Ÿå…‰åº¦ï¼ˆISOï¼‰æ˜¯å¤šå°‘ï¼Ÿ"><a href="#3-è¯¥å›¾ç‰‡è¢«æ‹æ‘„æ—¶ç›¸æœºçš„æ„Ÿå…‰åº¦ï¼ˆISOï¼‰æ˜¯å¤šå°‘ï¼Ÿ" class="headerlink" title="3. è¯¥å›¾ç‰‡è¢«æ‹æ‘„æ—¶ç›¸æœºçš„æ„Ÿå…‰åº¦ï¼ˆISOï¼‰æ˜¯å¤šå°‘ï¼Ÿ"></a>3. è¯¥å›¾ç‰‡è¢«æ‹æ‘„æ—¶ç›¸æœºçš„æ„Ÿå…‰åº¦ï¼ˆISOï¼‰æ˜¯å¤šå°‘ï¼Ÿ</h4><p>æ›å…‰ï¼šå…‰åœˆ:1.8, å¿«é—¨:1/1264ç§’, ISO84<br>Â·A:84</p><h4 id="4-ç…§ç‰‡æ‹æ‘„æ—¥æœŸæ˜¯å“ªä¸€å¤©ï¼Ÿ"><a href="#4-ç…§ç‰‡æ‹æ‘„æ—¥æœŸæ˜¯å“ªä¸€å¤©ï¼Ÿ" class="headerlink" title="4. ç…§ç‰‡æ‹æ‘„æ—¥æœŸæ˜¯å“ªä¸€å¤©ï¼Ÿ"></a>4. ç…§ç‰‡æ‹æ‘„æ—¥æœŸæ˜¯å“ªä¸€å¤©ï¼Ÿ</h4><p>æ—¶é—´ï¼š2022:05:14 18:23:35.220027+09:00<br>Â·A:2022/05/14</p><h4 id="5-ç…§ç‰‡æ‹æ‘„æ—¶æ˜¯å¦ä½¿ç”¨äº†é—ªå…‰ç¯ï¼Ÿ"><a href="#5-ç…§ç‰‡æ‹æ‘„æ—¶æ˜¯å¦ä½¿ç”¨äº†é—ªå…‰ç¯ï¼Ÿ" class="headerlink" title="5. ç…§ç‰‡æ‹æ‘„æ—¶æ˜¯å¦ä½¿ç”¨äº†é—ªå…‰ç¯ï¼Ÿ"></a>5. ç…§ç‰‡æ‹æ‘„æ—¶æ˜¯å¦ä½¿ç”¨äº†é—ªå…‰ç¯ï¼Ÿ</h4><p>é—ªå…‰ç¯ï¼šOff, Did not fire<br>Â·A:å¦</p><p><img src="/article/b2365084/img_21.png" alt><br><strong>flag{1f_y0u_d0NT_w4nt_shOw_theSe_th3n_w1Pe_EXlF}</strong><br>got it</p><h3 id="ç¬¬äºŒé¢˜ï¼šç¤¾å·¥å®è·µ"><a href="#ç¬¬äºŒé¢˜ï¼šç¤¾å·¥å®è·µ" class="headerlink" title="ç¬¬äºŒé¢˜ï¼šç¤¾å·¥å®è·µ"></a>ç¬¬äºŒé¢˜ï¼šç¤¾å·¥å®è·µ</h3><p>ä¹ä¸å‡ºæ¥äº†ã€‚è¦ä¸æ˜¯é—®äº†èˆªç­ï¼Œæˆ‘æ˜¯çœ‹éƒ½æ²¡çœ‹è§å›¾ç‰‡é‡Œæœ‰ä¸ªé£æœºã€‚<br><img src="/article/b2365084/img_22.png" alt><br><img src="/article/b2365084/img_23.png" alt></p><p><font size="6">å®è¿™é¸Ÿä¹Ÿå¤ªå°å°äº†å§ï¼Ÿ</font><br><img src="/article/b2365084/memes_8.jpg" alt><br>èƒ½æ€ä¹ˆåŠï¼Œå¼€å‘—ã€‚<br>å¼€ç›’æˆ‘å€’æ˜¯å¼€è¿‡çš„ï¼Œç¬¬ä¸€æ¬¡å¼€ç›’æ˜¯å’Œå‰å¥³å‹çº¦ä¼šä¹‹å‰ã€‚å¥¹è¯´å¥¹è¿˜åœ¨å¤–é¢ï¼Œæˆ‘ç»™å¥¹å‘æ¶ˆæ¯å¥¹åªå›å¤äº†æˆ‘ä¸€å¼ ç…§ç‰‡ï¼Œé»‘å±çš„ç½‘å§ç”µè„‘ä¸Šä¾ç¨€è¿˜åå…‰ç€å¥¹æ‹¿ç€æ‰‹æœºçš„å½±å­ã€‚æˆ‘ä¹Ÿæ˜¯è´±å•Šé—²ç€å°±å»åˆ†æç…§ç‰‡ï¼Œæˆ‘ä»¬ç ´åœ°æ–¹é‚£ä¹ˆå°ï¼Œå“ªä¸ªç½‘å§åªéœ€è¦çœ‹çœ‹å†…é¥°å°±èƒ½åˆ†è¾¨å‡ºæ¥ï¼Œä½†æ˜¯åšè¿‡å›¾åƒå¤„ç†ä¹‹åæ„£æ˜¯åœ¨åå…‰é‡Œçš„å¥¹çš„æ—è¾¹çœ‹åˆ°äº†ç†Ÿæ‚‰çš„â€åˆ«çš„ç”·äººâ€œã€‚æå¦ˆï¼Œå®ä¸æ˜¯è¯´è·Ÿä»–åªæ˜¯æ™®é€šæœ‹å‹ğŸï¼Ÿï¼Ÿå®ä¹Ÿå¤Ÿå¿™ï¼Œè·Ÿæˆ‘çº¦ä¼šå‰è¿˜å¿™ç€è¦è·Ÿåˆ«äººçº¦ä¼šï¼Œå±å®ç»™ğŸ‘´æ•´ç¬‘<br><img src="/article/b2365084/memes_3.jpg" alt><br>ğŸ‘´è¿ğŸ¤¡éƒ½å½“è¿‡ï¼ŒæŸ¥ä¸ªé¸Ÿåº”è¯¥ä¸æˆé—®é¢˜å§ã€‚</p><h4 id="é…’åº—"><a href="#é…’åº—" class="headerlink" title="é…’åº—"></a>é…’åº—</h4><p>é¦–å…ˆè¦ç¡®å®šä½ç½®ï¼š<br>æˆ‘æœ€ä¸€å¼€å§‹çœŸæ²¡æƒ³åˆ°å›½å¤–ï¼Œç›´æ¥æŠŠä½“è‚²åœºæˆªäº†å›¾å»ç™¾åº¦è¯†å›¾ï¼Œå½“ç„¶æ‰¾ä¸åˆ°çš„ã€‚<br>çªç„¶çœ‹åˆ°é©¬è·¯ä¸Šçš„å…¬äº¤è½¦æ˜¯é å·¦è¡Œé©¶<br><img src="/article/b2365084/img_25.png" alt><br>çªç„¶æ„è¯†åˆ°å‡ºç°çš„æ±‰å­—å¯èƒ½ä¸æ˜¯å›½å†…è€Œæ˜¯æ—¥æœ¬ï¼Œ<br>å†æ”¾å¤§çœ‹å•†ä¸šè¡—ï¼š<br><img src="/article/b2365084/img_24.png" alt><br>æœæ–­google<br><img src="/article/b2365084/img_26.png" alt="ZOZO Marine Stadium"><br>å†æ ¹æ®google map<br><img src="/article/b2365084/img_27.png" alt><br>åœ¨è¿™é‡Œæˆ‘ä»¥ä¸ºç»“æŸäº†ï¼Œç›´æ¥å¡«äº†zozoæµ·æ´‹çƒåœºçš„é‚®ç¼–ã€‚åæ¥æ‰çŸ¥é“å¨˜å¸ŒåŒ¹çš„æ—¥æœ¬é‚®ç¼–åˆ’åˆ†æœ‰æ—¶å€™ä¼šç²¾ç¡®åˆ°æŸä¸ªç¤¾åŒºï¼Œä¿é™©èµ·è§æ‰¾åˆ°æ‹ç…§çš„é…’åº—ï¼š<br><img src="/article/b2365084/img_28.png" alt><br>æœç„¶é‚®ç¼–ä¸ä¸€æ ·ã€‚ï¼ˆè¿™é…’åº—è›®çœ¼ç†Ÿï¼Œçªç„¶æƒ³èµ·æ¥17å¹´æˆ‘è¿˜æ˜¯ä¸ªä¸­äºŒçš„æ—¶å€™ï¼Œå¬è¯´apaé…’åº—æä¾›æå³ååçš„ä¹¦ç±ï¼Œé‚è·Ÿç€æ°´å†›åœ¨å„ä¸ªå¹³å°ç»™apaé…’åº—ä¸¾æŠ¥+å·®è¯„ï¼Œè¿™å®¶é…’åº—æˆ‘å¥½åƒè¿˜å·®è¯„è¿‡<br>è¿˜æœ‰ä¸€ä¸ªæœ‰è¶£çš„ç‚¹æ˜¯æˆ‘åˆšåˆšå¤ç›˜çš„æ—¶å€™ï¼Œå±…ç„¶çœ‹åˆ°æœ‰æ€è½¯åœ¨èµ›é—´ç›´æ¥æŠŠå›¾ç‰‡å‘åˆ°çŸ¥ä¹æé—®ï¼š<a href="https://www.zhihu.com/question/561462294/answer/2725783112">https://www.zhihu.com/question/561462294/answer/2725783112</a><br><img src="/article/b2365084/img_29.png" alt><br>æ²¡å¿…è¦ï¼ŒçœŸæ²¡å¿…è¦<br>ç„¶åæ˜¯çœ‹æ‰‹æœºå‹å·ï¼š<br><img src="/article/b2365084/img_30.png" alt><br>å·²çŸ¥æ˜¯å°ç±³/çº¢ç±³ï¼Œæ˜¾ç„¶å¯ä»¥é€šè¿‡æ‘„åƒå¤´å—+æŸå®å°±èƒ½æ‰¾åˆ°ï¼š<br><img src="/article/b2365084/img_31.png" alt><br><img src="/article/b2365084/img_32.png" alt></p><h4 id="èˆªç­"><a href="#èˆªç­" class="headerlink" title="èˆªç­"></a>èˆªç­</h4><p>æ¥çœ‹çœ‹é¸Ÿï¼ˆæ˜¯æŒ‡é£æœºï¼‰<br>ä¸éš¾çœ‹å‡ºè¿™ä¸ªé«˜åº¦åº”è¯¥æ˜¯åˆšèµ·é£/è¦é™è½ï¼Œä½†çœ‹ç€æ›´åƒæ˜¯æ”€å‡ã€‚å¦å¤–æœ‰ä¸ªç»†èŠ‚æ˜¯åœ¨æ°´å¹³æ‹æ‘„æ—¶å¯ä»¥çœ‹åˆ°é£æœºä¸¤ä¾§æœºç¿¼ï¼Œåˆ™è¯æ˜è¿™é¸Ÿåœ¨æ‹å¼¯å„¿ã€‚é¡ºæ‰‹æ‰“å¼€FlightWareçœ‹çœ‹é™„è¿‘æœºåœº<br><img src="/article/b2365084/img_33.png" alt><br>HNDèµ·é£åº”è¯¥æ²¡è·‘ï¼Œåˆæ­¥ä¼°æ‘¸ç€å¤§æ¦‚å°±æ˜¯è¿™ä¹ˆä¸ªæƒ…æ™¯ã€‚æ¥ä¸‹æ¥å°±æ˜¯ç¡¬è‚ï¼Œå› ä¸ºæ²¡é’±ä¹°äº”ä¸ªæœˆå‰çš„èˆªç­è®°å½•ï¼ˆåæ¥æ‰çŸ¥é“ç”¨é£å¸¸å‡†å±…ç„¶æ˜¯å…è´¹çš„ï¼Œå¯æ¶ï¼‰ï¼Œåªèƒ½æ˜¯å»æŸ¥HNDçš„èˆªç­è®°å½•ã€‚<br>æ ¹æ®èˆªè¡Œå›¾é”å®šäº†å¦‚ä¸‹å‡ ä¸ªèˆªç­ï¼š<br><img src="/article/b2365084/img_34.png" alt><br>è¿™ä¹ˆå¤šï¼Œéƒ½æŒºç¬¦åˆçš„ï¼Œå’‹æ•´ï¼ŒæŒ¨ä¸ªè¯•å‘—ã€‚è¯•äº†ä¸€åœˆçªç„¶æ„è¯†åˆ°æ—¶å·®é—®é¢˜ã€‚ã€‚ã€‚ä¸è¿‡æœ€åè¿˜æ˜¯æ‰¾åˆ°äº†è¿™ä¸ªï¼š<br><img src="/article/b2365084/img_35.png" alt><br><img src="/article/b2365084/img_36.png" alt><br><strong>flag{Buzz_0ver_y0ur_h34d_and_4DSB_m19ht_111egal}</strong><br>got it</p><h2 id="LaTexæœºå™¨äºº"><a href="#LaTexæœºå™¨äºº" class="headerlink" title="LaTexæœºå™¨äºº"></a>LaTexæœºå™¨äºº</h2><p><em>åœ¨ç½‘ä¸Šç¤¾äº¤ç¾¤ç»„ä¸­äº¤æµæ•°å­¦å’Œç‰©ç†é—®é¢˜æ—¶ï¼Œæ€»æ˜¯å…ä¸äº†è¾“å…¥å…¬å¼ã€‚è€Œæ˜¾ç„¶å¤§å¤šæ•°å¸¸ç”¨çš„èŠå¤©è½¯ä»¶å¹¶ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶åœ¨æ°´ç¾¤å’Œå–å¼±ä¹‹ä½™èƒ½å¤Ÿé«˜æ•ˆåœ°è¿›è¡Œå­¦æœ¯äº¤æµï¼ŒG ç¤¾çš„åŒå­¦åˆ¶ä½œäº†ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å°† LaTeX å…¬å¼ä»£ç è½¬æ¢æˆå›¾ç‰‡çš„ç½‘ç«™ï¼Œå¹¶é€šè¿‡èŠå¤©æœºå™¨äººåœ¨ç¾¤é‡Œå®æ—¶å°†ç¾¤å‹å‘é€çš„å…¬å¼è½¬æ¢æˆå›¾ç‰‡å‘å‡ºã€‚<br>è¿™ä¸ªç½‘ç«™çš„æ€è·¯ä¹Ÿå¾ˆç›´æ¥ï¼šæŠŠç”¨æˆ·è¾“å…¥çš„ LaTeX æ’å…¥åˆ°ä¸€ä¸ªå†™å¥½å¤´éƒ¨å’Œå°¾éƒ¨çš„ TeX æ–‡ä»¶ä¸­ï¼Œå°†æ–‡ä»¶ç¼–è¯‘æˆ PDFï¼Œå†å°† PDF è£å‰ªæˆå¤§å°åˆé€‚çš„å›¾ç‰‡ã€‚<br>â€œLaTeX åˆä¸æ˜¯è¢«ç¼–è¯‘æ‰§è¡Œçš„ä»£ç ï¼Œè¿™ç§ä¸œè¥¿ä¸ä¼šæœ‰äº‹çš„ã€‚â€<br>ç‰©ç†å‡ºèº«çš„å¼€å‘è€…ä»¬æ˜æ˜¾ä¸æ˜¯å¤ªåœ¨æ„è¿™ä¸ªç½‘ç«™çš„å®‰å…¨é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰å¯¹ç”¨æˆ·çš„è¾“å…¥åšä»»ä½•æ£€æŸ¥ã€‚<br>é‚£ä½ èƒ½æƒ³åŠæ³•è·å¾—æœåŠ¡å™¨ä¸Šæ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„ flag å—ï¼Ÿ</em></p><h3 id="LaTexæ˜¯ä¸ªå•¥ï¼Ÿ"><a href="#LaTexæ˜¯ä¸ªå•¥ï¼Ÿ" class="headerlink" title="LaTexæ˜¯ä¸ªå•¥ï¼Ÿ"></a>LaTexæ˜¯ä¸ªå•¥ï¼Ÿ</h3><p>LaTeX(LATEXï¼ŒéŸ³è¯‘â€œæ‹‰æ³°èµ«â€)æ˜¯ä¸€ç§åŸºäºÎ¤Î•Î§çš„æ’ç‰ˆç³»ç»Ÿï¼Œç”±ç¾å›½è®¡ç®—æœºå­¦å®¶è±æ–¯åˆ©Â·å…°ä¼¯ç‰¹(Leslie Lamport)åœ¨20ä¸–çºª80å¹´ä»£åˆæœŸå¼€å‘ï¼Œåˆ©ç”¨è¿™ç§æ ¼å¼ï¼Œå³ä½¿ä½¿ç”¨è€…æ²¡æœ‰æ’ç‰ˆå’Œç¨‹åºè®¾è®¡çš„çŸ¥è¯†ä¹Ÿå¯ä»¥å……åˆ†å‘æŒ¥ç”±TeXæ‰€æä¾›çš„å¼ºå¤§åŠŸèƒ½ï¼Œèƒ½åœ¨å‡ å¤©ã€ç”šè‡³å‡ å°æ—¶å†…ç”Ÿæˆå¾ˆå¤šå…·æœ‰ä¹¦ç±è´¨é‡çš„å°åˆ·å“ã€‚å¯¹äºç”Ÿæˆå¤æ‚è¡¨æ ¼å’Œæ•°å­¦å…¬å¼ï¼Œè¿™ä¸€ç‚¹è¡¨ç°å¾—å°¤ä¸ºçªå‡ºã€‚å› æ­¤å®ƒéå¸¸é€‚ç”¨äºç”Ÿæˆé«˜å°åˆ·è´¨é‡çš„ç§‘æŠ€å’Œæ•°å­¦ç±»æ–‡æ¡£ã€‚è¿™ä¸ªç³»ç»ŸåŒæ ·é€‚ç”¨äºç”Ÿæˆä»ç®€å•çš„ä¿¡ä»¶åˆ°å®Œæ•´ä¹¦ç±çš„æ‰€æœ‰å…¶ä»–ç§ç±»çš„æ–‡æ¡£ã€‚<br>ç®€å•æ¥è¯´ï¼Œå³LaTeXæ˜¯ä¸€ç§åŸºäºÎ¤Î•Î§çš„æ’ç‰ˆç³»ç»Ÿï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç”Ÿæˆæ•°å­¦å…¬å¼å’Œæ–‡ç« æ’ç‰ˆï¼Œè€Œæœ¬æ–‡å°±æ˜¯ç”±å‰è€…æ•°å­¦å…¬å¼è€Œå¼•å‡ºã€‚</p><h3 id="Inject"><a href="#Inject" class="headerlink" title="Inject"></a>Inject</h3><p>æ—¢ç„¶LaTeXçš„æ“ä½œè§„å¾‹æ˜¯å°†ç”¨æˆ·ç«¯è¾“å…¥çš„å†…å®¹æ’å…¥åˆ°ä¸€ä¸ªå†™å¥½å¤´éƒ¨å’Œå°¾éƒ¨çš„ TeX æ–‡ä»¶ä¸­ï¼Œå°†æ–‡ä»¶ç¼–è¯‘æˆ PDFï¼Œå†å°† PDF è£å‰ªæˆå¤§å°åˆé€‚çš„å›¾ç‰‡,æœ€åè¿”å›åˆ°ç•Œé¢ï¼Œæ˜¾è€Œæ˜“è§çš„ç”¨æˆ·å¯ä»¥åœ¨è¾“å…¥ç«¯è¿›è¡Œæ³¨å…¥ï¼Œè·å–æ ¹ç›®å½•ä¸‹çš„æ–‡æœ¬æ–‡ä»¶å¹¶è¿”å›ã€‚<br>è‡³äºæ³¨å…¥å‘½ä»¤è¯­å¥ï¼Œå‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/455901476">å®æˆ˜LaTex Injection <em>by äº‘å±±é›¾éš</em> - çŸ¥ä¹</a></p><h4 id="çº¯æ–‡æœ¬"><a href="#çº¯æ–‡æœ¬" class="headerlink" title="çº¯æ–‡æœ¬"></a>çº¯æ–‡æœ¬</h4><p><em>ç¬¬ä¸€ä¸ª flag ä½äº /flag1ï¼Œflag èŠ±æ‹¬å·å†…çš„å†…å®¹ç”±çº¯æ–‡æœ¬ç»„æˆï¼ˆå³åªåŒ…å«å¤§å†™å°å†™å­—æ¯å’Œæ•°å­— 0-9ï¼‰ã€‚</em><br><img src="/article/b2365084/img_37.png" alt><br><strong>flag{becAr3fu11dUd3e033e7c96d}</strong><br>got it</p><h4 id="ç‰¹æ®Šå­—ç¬¦æ··å…¥"><a href="#ç‰¹æ®Šå­—ç¬¦æ··å…¥" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦æ··å…¥"></a>ç‰¹æ®Šå­—ç¬¦æ··å…¥</h4><p><em>ç¬¬äºŒä¸ª flag ä½äº /flag2ï¼Œè¿™æ¬¡ï¼Œflag èŠ±æ‹¬å·å†…çš„å†…å®¹é™¤äº†å­—æ¯å’Œæ•°å­—ä¹‹å¤–ï¼Œè¿˜æ··å…¥äº†ä¸¤ç§ç‰¹æ®Šå­—ç¬¦ï¼šä¸‹åˆ’çº¿ï¼ˆ</em>ï¼‰å’Œäº•å·ï¼ˆ#ï¼‰ã€‚ä½ å¯èƒ½éœ€è¦æƒ³äº›å…¶ä»–åŠæ³•äº†ã€‚<em><br>å°è¯•è¿‡åå¯ä»¥å‘ç°ï¼Œæ— æ³•æ­£å¸¸è¾“å‡ºçš„åŸå› æ˜¯LaTeXåœ¨è¯»å–ç›®æ ‡æ–‡ä»¶çš„æ—¶å€™è¯»åˆ°äº†éæ³•çš„æ–‡å­—æ®µï¼Œå› è€Œå¯ä»¥åˆ¤æ–­å®ƒå°†ç‰¹æ®Šç¬¦å·è¿›è¡Œäº†ç»•è¿‡å¤„ç†ã€‚<br>è¦è¿›è¡Œçš„æ“ä½œå°±æ˜¯ç”¨å‘½ä»¤è¡Œå¤„ç†ç»•è¿‡ã€‚<br>æŸ¥åˆ°äº†ç›¸å…³çš„è§£å†³æ–¹æ¡ˆä¸”å‘ç°äº†ä¸ªä¸é”™çš„ä»“åº“ï¼Œforkä¸€ä¸‹ï¼š[LaTex Injection _by bodik</em> -github](<a href="https://github.com/MoonlightHt/PayloadsAllTheThings/tree/master/LaTeX%20Injection">https://github.com/MoonlightHt/PayloadsAllTheThings/tree/master/LaTeX%20Injection</a>)<br><img src="/article/b2365084/img_38.png" alt><br><strong>flag{latex<em>bec<em>0_m##es_co</em></em>#ol_8d3ec11d2f}</strong><br>got it.</p><h2 id="Flagçš„ç—•è¿¹"><a href="#Flagçš„ç—•è¿¹" class="headerlink" title="Flagçš„ç—•è¿¹"></a>Flagçš„ç—•è¿¹</h2><p><em>å° Z å¬è¯´ Dokuwiki é…ç½®å¾ˆç®€å•ï¼Œæ‰€ä»¥åœ¨è‡ªå·±çš„æœºå™¨ä¸Šæ•´äº†ä¸€ä»½ã€‚å¯æ˜¯ä¸å·§çš„æ˜¯ï¼Œä»–ä¸€ä¸å°å¿ƒæŠŠçè´µçš„ flag ç²˜è´´åˆ°äº† wiki é¦–é¡µæäº¤äº†ï¼ä»–èµ¶ç´§æ”¹å¥½ï¼Œå¹¶ä¸”ä¹ŸæŠŠå†å²è®°å½•ï¼ˆrevisionsï¼‰åŠŸèƒ½å…³æ‰äº†ã€‚<br>ã€Œè¿™æ ·å°±åº”è¯¥å°±ä¸ä¼šæ³„æ¼ flag äº†å§ã€ï¼Œå° Z å¦‚æ˜¯å®‰æ…°è‡ªå·±ã€‚<br>ç„¶è€Œäº‹å®çœŸçš„å¦‚æ­¤å—ï¼Ÿ<br>ï¼ˆé¢˜ç›® Dokuwiki ç‰ˆæœ¬åŸºäº 2022-07-31a â€œIgorâ€ï¼‰</em><br><img src="/article/b2365084/img_39.png" alt><br>æ¼æ´åˆ©ç”¨ï¼Œæ˜¾ç„¶DokuWiki igorç‰ˆæœ¬ä¸ºå…³é”®è¯ï¼Œå­˜åœ¨revisionæ¼æ´ã€‚æ ¹æ®è¿™ä¸ªè¿›è¡Œgoogleï¼ŒæŸ¥çœ‹Dokuvikiå†å²ç‰ˆæœ¬ä»¥åŠæ¼æ´è§£å†³ã€‚<br><img src="/article/b2365084/img_40.png" alt><br>è¿™é‡Œå‘ç°Dokuwikiæœ‰ä¸€ä¸ªåŠŸèƒ½æ˜¯é€šå…³diffæ¥æ¯”è¾ƒä¸Šä¼ çš„æ–°æ—§ç‰ˆæœ¬æ–‡æ¡£çš„å·®åˆ«ã€‚é‚<br>xxx//doku.php?id=start&amp;do=diff<br>å¾—åˆ°ï¼š<br><img src="/article/b2365084/img_41.png" alt><br><img src="/article/b2365084/img_42.png" alt><br><strong>flag{d1gandFInD_d0kuw1k1_unexpectEd_API}</strong><br>got it.</p><h2 id="çº¿è·¯æ¿"><a href="#çº¿è·¯æ¿" class="headerlink" title="çº¿è·¯æ¿"></a>çº¿è·¯æ¿</h2><p><em>ä¸­åˆèµ·åºŠï¼Œçœ‹åˆ°å®¤å‹çš„æ¡Œå­ä¸Šåˆå¤šäº†ä¸€ä¸ªæ­£æ–¹å½¢çš„ç›’å­ã€‚å¿«é€’æ ‡ç­¾ä¸Šä¸€å¦‚æ—¢å¾€çš„å†™ç€ï¼šçº¿è·¯æ¿ã€‚å’Œå¾€å¸¸ä¸€æ ·ï¼Œä½ â€œå¸®â€å®¤å‹æ‹†å¼€å¿«é€’å¹¶æŠ¢å…ˆæŠŠæ¿å­æŠŠç©ä¸€ç•ªã€‚å¯æ˜¯çªç„¶ï¼Œä½ æ³¨æ„åˆ°æ¿å­è¡¨é¢ä¼¼ä¹å†™ç€äº›ä¸œè¥¿â€¦â€¦çœ‹èµ·æ¥åƒæ˜¯â€¦â€¦flagï¼Ÿ<br>å¯æ˜¯åªæœ‰å¼€å¤´çš„å‡ ä¸ªå­—æ¯å¯ä»¥çœ‹æ¸…æ¥šã€‚ä½ ä¸€æ—¶é—´ä¸çŸ¥æ‰€æªã€‚<br>å¹¸è¿çš„æ˜¯ï¼Œä½ é€šè¿‡ç›’å­ä¸Šçš„è”ç³»æ–¹å¼æ‰¾åˆ°äº†åˆ¶ä½œå‚å®¶ï¼Œé€šè¿‡æ¿å­ä¸å°ä¸Šçš„åºåˆ—å·æŸ¥å‡ºäº†å®¤å‹çš„åº•ç»†ï¼Œå¹¶ä»¥æ”¾å¼ƒæ¯æœˆä¸¤æ¬¡å…è´¹ PCB æ‰“æ ·åŒ…é‚®çš„æœºä¼šä¸ºä»£ä»·è¦æ¥äº†è¿™æ‰¹å¸¦æœ‰ flag çš„æ¿å­çš„ç”Ÿäº§æ–‡ä»¶ã€‚é‚£è¿™äº›æ–‡ä»¶é‡Œä¼šä¸ä¼šåŒ…å«ç€æ›´å¤šæœ‰å…³ flag çš„ä¿¡æ¯å‘¢ï¼Ÿ</em><br><img src="/article/b2365084/img_43.png" alt><br>ä¸‹è½½é¢˜ç›®åæ–‡ä»¶å¤¹é‡Œç»™äº†ä¸€å¤§å †çš„.gbræ–‡ä»¶ï¼Œç™¾åº¦çŸ¥é“GBRæˆ–Gerberæ–‡ä»¶ç”¨äºä¿å­˜Gerberæ ¼å¼çš„å°åˆ·ç”µè·¯æ¿ï¼ˆPCBï¼‰è®¾è®¡æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨Altium Designeræ‰“å¼€ã€‚<br>æœç´¢åˆ°çš„æ‰€è°“ç ´è§£ç‰ˆéƒ½ä¼šå¡åœ¨å®‰è£…æ—¶çš„account loginå¤„ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ç”³è¯·åˆ°licenseçš„æ— æ³•æ­£å¸¸ä¸‹è½½ã€‚äºæ˜¯æˆ‘å¹²è„†å»ADå®˜ç½‘ä¸‹æ­£ç‰ˆï¼Œå®˜ç½‘æŒ‡å¯¼æˆ‘å¯ä»¥ä¸‹è½½è¯•ç”¨ç‰ˆï¼Œç„¶åä¸‹è½½äº†ä¹‹åå®ƒè¦æˆ‘licenseï¼Œäºæ˜¯æˆ‘å»ç”³è¯·äº†student-academicï¼Œç”³è¯·é€šè¿‡åå®ƒåˆè¦æˆ‘log inï¼Œfineæˆ‘å»æ³¨å†Œç”¨æˆ·ï¼Œæ³¨å†Œç”¨æˆ·å®ƒåˆè¦æˆ‘ç”³è¯·student-academicâ€¦????æˆ‘ç”³è¯·äº†å•Šï¼Ÿè´¦å·æ²¡ç»™æˆ‘å¼€é€šå•Šï¼Ÿ</p><p><font size="6">ä½ æè¿™è·Ÿæˆ‘æè¿™å‘¢ï¼Ÿï¼Ÿï¼Ÿ</font><br><img src="/article/b2365084/memes_2.jpg" width="50%"><br>okï¼Œæˆ‘ä¸Šæ·˜å®æ–¥8.8rå·¨èµ„ä¹°äº†å¸¦licenseç‰ˆçš„ã€‚ç„¶ååº—å®¶ç»™æˆ‘å‘äº†1ä¸ªå¤šgçš„ç™¾åº¦ç½‘ç›˜ï¼Ÿï¼Ÿï¼Ÿï¼Ÿæˆ‘ç™¾åº¦äº‘ç›˜æ²¡ä¼šå‘˜ï¼Œä¸‹è½½é€Ÿåº¦100kb/sã€‚<br>è¡Œï¼Œ<font size="6">æˆ‘åˆåœ¨æ·˜å®æ–¥10rå·¨èµ„ä¹°äº†ç™¾åº¦ç½‘ç›˜24å°æ—¶ä¼šå‘˜</font>ã€‚<br><img src="/article/b2365084/memes_9.jpg" alt><br>whateverï¼Œæˆ‘æŠ˜è…¾ä¸€æ™šä¸Šç»ˆäºä¸‹è½½ä¸‹æ¥äº†ADã€‚<br>ç ”ç©¶äº†ä¸€é€š.gbrçš„æ–‡ä»¶å’ŒadåŸºæœ¬å·¥å…·çš„ä½¿ç”¨ï¼Œå‘ç°ebaz_sdr-F_Cu.gbræ–‡ä»¶éšè—äº†flagï¼š<br><img src="/article/b2365084/img_44.png" alt><br>ä½¿ç”¨å·¥å…·-&gt;PCBæ‹¼ç‰ˆï¼Œè·å¾—ï¼š<br><img src="/article/b2365084/img_45.png" alt><br><strong>flag{8_1ayER_rogeRS_81ind_V1a}</strong><br>got it.</p><h2 id="å¾®ç§¯åˆ†è®¡ç®—å°ç»ƒä¹ "><a href="#å¾®ç§¯åˆ†è®¡ç®—å°ç»ƒä¹ " class="headerlink" title="å¾®ç§¯åˆ†è®¡ç®—å°ç»ƒä¹ "></a>å¾®ç§¯åˆ†è®¡ç®—å°ç»ƒä¹ </h2><p><em>å° X ä½œä¸ºæŸé—¨ç¬¦å·è®¡ç®— è¯¾ç¨‹çš„åŠ©æ•™ï¼Œä¸ºäº†è®©å¤§å®¶ç†Ÿæ‚‰è½¯ä»¶çš„ä½¿ç”¨ï¼Œä»–å†™äº†ä¸€ä¸ªå°ç½‘ç«™ï¼šä¸Šé¢æ”¾ç€äº”é“ç®€å•çš„é¢˜ç›®ï¼Œåªè¦è¾“å…¥å§“åå’Œé¢˜ç›®ç­”æ¡ˆï¼Œæäº¤åå°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„åˆ†æ•°ã€‚<br><a href="http://202.38.93.111:10056/">ç‚¹å‡»æ­¤é“¾æ¥è®¿é—®ç»ƒä¹ ç½‘ç«™</a><br>æƒ³èµ·è‡ªå·±å‰å‡ å¤©åœ¨å…¬ä¼—å·ä¸Šå­¦è¿‡çš„ Java è®¾è®¡æ¨¡å¼å…è´¹è¯•å¬è¯¾ï¼Œæœ¬ç€å‰åç«¯ç¦»å¿ƒï¼ˆå’¦ï¼Ÿæ˜¯å‰åç«¯ç¦»å¿ƒå—ï¼Ÿè¿˜æ˜¯ç¦»å©šï¼Ÿç¦»ã€‚ã€‚ç¦»è°±ï¼Ÿæ€»ä¹‹æŠŠåŠŸèƒ½èƒ½æ‹†åˆ™æ‹†å°±å¯¹å•¦ï¼‰çš„æ€æƒ³ï¼Œå° X è¿˜å•ç‹¬å†™äº†ä¸€ä¸ªç¨‹åºï¼Œæ¬¢è¿åŒå­¦ä»¬æŠŠè‡ªå·±çš„æˆç»©é“¾æ¥æäº¤ä¸Šæ¥ã€‚<br>æ€»ä¹‹ï¼Œå› ä¸ºå…¶å…ˆè¿›çš„è®¾è®¡æ€æƒ³ï¼Œéœ€è¦åŒå­¦ä»¬åšå®Œç»ƒä¹ ä¹‹åæ‰‹åŠ¨æŠŠæˆç»©è¿æ¥è´´åˆ°è¿™é‡Œæ¥ï¼š</em><br><a href="http://202.38.93.111:10057/">ç‚¹å‡»æ­¤é“¾æ¥æäº¤ç»ƒä¹ æˆç»© URL</a><br><img src="/article/b2365084/img_46.png" alt><br><img src="/article/b2365084/img_47.png" alt><br>ä¸€çœ¼çœ‹åˆ°inputæ ‡ç­¾ï¼Œä¸”å¯¹è¾“å…¥çš„æ–‡æ®µæ²¡æœ‰ç»•è¿‡å¤„ç†ï¼Œæ˜¾ç„¶æ˜¯jsæ³¨å…¥ã€‚<br>ä¸‹è½½æºç çœ‹çœ‹å®ç°å¦‚ä½•çš„æ“ä½œï¼š<br><img src="/article/b2365084/img_48.png" alt><br>æ³¨æ„åˆ°æ­¤å¤„ï¼Œæ˜¯åœ¨æäº¤ç»ƒä¹ æˆç»©ç”Ÿæˆçš„URLä¸­ï¼Œå°†flagçš„å€¼èµ‹å€¼ç»™document.cookieï¼Œä¸”æ³¨æ„åˆ°å‰åç«¯åˆ†ç¦»çš„è¿è¡Œæœºåˆ¶ï¼Œåˆ™è€ƒè™‘åœ¨å‰ç«¯é€šè¿‡inputè¿›è¡Œxssæ³¨å…¥ï¼Œåœ¨åç«¯è¯»å–urlæäº¤çš„æ•°æ®æ—¶æ‰§è¡Œjsï¼Œå¹¶åœ¨flagèµ‹å€¼åˆ°cookieä¹‹åå°†cookieè¾“å‡ºåˆ°ç»ˆç«¯ä¸Šã€‚<br>å·²çŸ¥ç»ˆç«¯è¯»å–å¹¶è¾“å‡ºçš„æ ‡ç­¾å˜é‡æœ‰#scoreå’Œ#greetingï¼Œè€ƒè™‘å°†cookieçš„å€¼å†èµ‹å€¼ç»™è¿™ä¸¤ä¸ªå˜é‡ä¸­çš„ä¸€ä¸ªå³å¯å®ç°flagçš„è¾“å‡ºã€‚<br>åŒæ—¶ï¼Œç”±äºcookieèµ‹å€¼çš„æ—¶æœºï¼Œé€‰æ‹©ç”¨onerroräº‹ä»¶è§¦å‘ï¼Œå¹¶æ‰§è¡Œå®ç°ä¸Šè¿°æ“ä½œçš„å‡½æ•°ã€‚<br>æ³¨å…¥å†…å®¹ä¸ºï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> //æ„é€ é”™è¯¯</span></span><br><span class="line"><span class="tag">     <span class="attr">onerror</span>=<span class="string">&quot;var s=document.cookie; //ç”±äºæ— æ³•ç›´æ¥èµ‹å€¼ï¼Œå› æ­¤æ·»åŠ ä¸­é—´å˜é‡</span></span></span><br><span class="line"><span class="string"><span class="tag">     document.querySelector(&#x27;#score&#x27;).innerHTML=s;&quot;</span> //ä¿®æ”¹#<span class="attr">score</span>æ ‡ç­¾çš„<span class="attr">innerHTML</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure><br>å°†ç”Ÿæˆçš„urlæäº¤åˆ°terminalï¼š<br><img src="/article/b2365084/img_49.png" alt><br><strong>flag{xS5_1OI_is_N0t_SOHARD_c5b8e2b4ed}</strong><br>got it.</p><h2 id="ä¼é¹…æ‹¼ç›˜"><a href="#ä¼é¹…æ‹¼ç›˜" class="headerlink" title="ä¼é¹…æ‹¼ç›˜"></a>ä¼é¹…æ‹¼ç›˜</h2><p><em>è¿™æ˜¯ä¸€ä¸ªå¯çˆ±çš„ä¼é¹…æ»‘å—æ‹¼ç›˜ã€‚ï¼ˆè§‰å¾—ä¸å¯çˆ±çš„åŒå­¦å¯ä»¥æ¢å¯çˆ±çš„é¢˜åšï¼‰<br>å’Œå¸‚é¢ä¸Šåªèƒ½æ‰“ä¹±ä¹‹åæ‹¼å›çš„æ™®é€šæ»‘å—æ‹¼ç›˜ä¸åŒï¼Œè¿™ä¸ªæ‹¼ç›˜æ˜¯è‡ªåŠ¨æ‰“ä¹±æ‹¼å›çš„ã€‚ä¸€æ¬¡æ¸¸æˆå¯ä»¥å¸®åŠ©æ‚¨ä½“éªŒåˆ° 16/256/4096 æ¬¡æ™®é€šæ‹¼ç›˜çš„ä¹è¶£ã€‚<br>æ¯ä¸€æ­¥çš„æ‰“ä¹±çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œé€‰æ‹©å“ªä¸€ç§åˆ™ç”±æ‚¨çš„è¾“å…¥ï¼ˆé•¿åº¦ä¸º 4/16/64 çš„ 0/1 åºåˆ—ï¼‰çš„æŸä¸€ä½å†³å®šã€‚å¦‚æœæ‚¨åœ¨æœ€åèƒ½æˆåŠŸæ‰“ä¹±è¿™ä¸ªæ‹¼ç›˜ï¼Œæ‚¨å°±å¯ä»¥è·å–åˆ° flag å•¦ï¼Œå¿«æ¥è¯•è¯•å§wwwwww<br>ä½ å¯ä»¥åœ¨ä¸‹é¢åˆ—å‡ºçš„ä¸¤ç§æ–¹æ³•ä¸­ä»»é€‰å…¶ä¸€æ¥è¿æ¥é¢˜ç›®ï¼š<br>ç‚¹å‡»ä¸‹é¢çš„ â€œæ‰“å¼€/ä¸‹è½½é¢˜ç›®â€ æŒ‰é’®é€šè¿‡ç½‘é¡µç»ˆç«¯ä¸è¿œç¨‹äº¤äº’ã€‚å¦‚æœé‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨è¾“å…¥ tokenã€‚<br>åœ¨ Linuxã€macOSã€WSL æˆ– Git Bash ç­‰æœ¬åœ°ç»ˆç«¯ä¸­ä½¿ç”¨ stty raw -echo; nc 202.38.93.111 11011; stty sane å‘½ä»¤æ¥è¿æ¥é¢˜ç›®ã€‚å¦‚æœé‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ å¿…é¡»æ‰‹åŠ¨è¾“å…¥ tokenï¼ˆå¤åˆ¶ç²˜è´´ä¹Ÿå¯ï¼‰ã€‚æ³¨æ„ï¼Œè¾“å…¥çš„ token ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè¾“å…¥ç»“æŸåæŒ‰ Ctrl-J å³å¯å¼€å§‹é¢˜ç›®ã€‚</em><br><img src="/article/b2365084/img_50.png" alt></p><h3 id="è¿™ä¹ˆç®€å•æˆ‘é—­çœ¼éƒ½å¯ä»¥ï¼"><a href="#è¿™ä¹ˆç®€å•æˆ‘é—­çœ¼éƒ½å¯ä»¥ï¼" class="headerlink" title="è¿™ä¹ˆç®€å•æˆ‘é—­çœ¼éƒ½å¯ä»¥ï¼"></a>è¿™ä¹ˆç®€å•æˆ‘é—­çœ¼éƒ½å¯ä»¥ï¼</h3><p>å› ä¸ºç®€å•æ¨¡å¼çš„è¾“å…¥æ˜¯4ä½äºŒè¿›åˆ¶æ•°ï¼Œäºæ˜¯è¿˜æ²¡ææ¸…æ¥šå…·ä½“å®ç°ä»€ä¹ˆæ“ä½œå’ŒåŸç†ï¼Œç›´æ¥çˆ†ç ´+allexcute<br><img src="/article/b2365084/img_51.png" alt><br><img src="/article/b2365084/img_52.png" alt><br><strong>flag{it_works_like_magic_16adc9241e}</strong><br>ç¡®å®æ˜¯é—­çœ¼éƒ½å¯ä»¥ï¼Œä½†æ˜¯åç»­ä¸¤ä¸ªlevelï¼Œæˆ‘ç”šè‡³åœ¨level2é‡Œä¹Ÿç¡¬ç”Ÿç”Ÿçˆ†ç ´ï¼Œå½“ç„¶æ˜¯åˆæµªè´¹æ—¶é—´åˆæ²¡æ‹¿åˆ°flagï¼Œå°±æ”¾å¼ƒäº†ã€‚<br>èµ›åç®€å•äº†è§£äº†ä¸€ä¸‹æ¸¸æˆè§„åˆ™ï¼Œ<a href="https://github.com/USTC-Hackergame/hackergame2022-writeups/blob/master/official/%E4%BC%81%E9%B9%85%E6%8B%BC%E7%9B%98/README.md">hackergame2022-writeups/official/ä¼é¹…æ‹¼ç›˜ -github</a></p><p><font size="6">æ²¡çœ‹æ‡‚.</font><br><img src="/article/b2365084/memes_10.jpg" width="50%"></p><h2 id="ç«çœ¼é‡‘ç›çš„å°-E"><a href="#ç«çœ¼é‡‘ç›çš„å°-E" class="headerlink" title="ç«çœ¼é‡‘ç›çš„å° E"></a>ç«çœ¼é‡‘ç›çš„å° E</h2><p><em>å° E æœ‰å¾ˆå¤šçš„ ELF æ–‡ä»¶ï¼Œå®ƒä»¬é‡Œé¢çš„å‡½æ•°æœ‰ç‚¹åƒï¼Œèƒ½æŠŠå®ƒä»¬åŒ¹é…èµ·æ¥å—ï¼Ÿ<br>å° Aï¼šè¿™ä¸æ˜¯ç”¨ BinDiff å°±å¯ä»¥äº†å—ï¼Œå¾ˆç®€å•å§ï¼Ÿ</em></p><p>æˆ‘å°±çŸ¥é“æ‰€æœ‰çš„å›°éš¾éƒ½æºè‡ªäºè½¯ä»¶/æ’ä»¶çš„å®‰è£…ï¼Œè¿™æ¬¡åˆå¡åœ¨BinDiffå®‰è£…ä¸Šï¼ˆæˆ‘è®°å¾—æˆ‘å¾ˆæ—©å°±å®‰è£…è¿‡ï¼Ÿï¼Ÿ<br>å‘æ­»å‘æ´»æ²¡èƒ½å®‰è£…ä¸‹æ¥ï¼Œé‚åˆåŒå’æ–¥17.6å·¨èµ„ä¸Šæ·˜å®æ‰¾äº†å®¶è¿œç¨‹å®‰è£…è½¯ä»¶çš„ï¼Œè¿äº†æˆ‘ç”µè„‘ä¹‹åä¸Šæ¥ç»™æˆ‘ä¸‹äº†ä¸ª360ï¼Œç„¶åå˜å˜ä¸€é¡¿ä¹±åˆ æˆ‘è½¯ä»¶ï¼Œè¿˜æŠŠè€å­è¿…é›·ç»™åˆ äº†ã€‚<br>åˆ äº†ä¸€æ°”å‘æ¶ˆæ¯é—®æˆ‘ï¼š<font size="6">ä½ è¦ä¸‹è½½ä»€ä¹ˆæ¥ç€ï¼Ÿ</font><br><img src="/article/b2365084/memes_5.jpg" width="50%"><br>ä»–ç”šè‡³è¿˜å˜²è®½æˆ‘çš„é˜¿å°¼äºšå…‰æ ‡ï¼š<br><img src="/article/b2365084/img_1.jpg" alt><br>ä»–å¥½åƒåœ¨å†…æ¶µæˆ‘æ˜¯ä»€ä¹ˆsbï¼Ÿï¼‰å¯æ¶<br>å®ƒé•¿è¿™æ ·ï¼š<br><img src="/article/b2365084/img_53.png" alt><br>æ‹œæ‰˜ï¼Œ<font size="6">æˆ‘çœŸçš„è§‰å¾—å¾ˆå¯çˆ±å¥½å—ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</font><br>ä»–é¼“æ£äº†åŠå¤©ä¹Ÿæ²¡ä¸‹å¥½ï¼Œå› ä¸ºå½“æ—¶è£…ç³»ç»Ÿçš„æ—¶å€™ç”¨æˆ·åç”¨äº†ä¸­æ–‡ï¼Œå¯¼è‡´databaseçš„è·¯å¾„æ£€ç´¢é”™è¯¯ï¼Œå¹¶å‘è¨€ï¼š<br><img src="/article/b2365084/img_2.jpg" alt><br><img src="/article/b2365084/img_3.jpg" alt><br>æˆ‘ã€‚ã€‚ã€‚<br>æˆ‘è¯´è¦ä¸ç„¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·å§ï¼Œç”¨è‹±æ–‡ï¼Œå‡‘åˆä¸€ä¸‹ã€‚<br>ä»–ï¼š<br><img src="/article/b2365084/img_4.jpg" alt><br>ç”¨è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ€»ç®—æ˜¯æŠŠbindiffé…ç½®å¥½äº†ã€‚<br><img src="/article/b2365084/memes_13.jpg" width="50%"></p><h3 id="æœ‰æ‰‹å°±è¡Œ"><a href="#æœ‰æ‰‹å°±è¡Œ" class="headerlink" title="æœ‰æ‰‹å°±è¡Œ"></a>æœ‰æ‰‹å°±è¡Œ</h3><p><img src="/article/b2365084/img_54.png" alt><br>å¤§æ¦‚æ„æ€æ˜¯å°±æ˜¯è¯´ï¼Œä»¥æ—¶é—´æˆ³ä¸ºå‡ºé¢˜çš„æºï¼Œåœ¨ç»™å®šæ—¶é—´å†…ï¼Œå°†æä¾›çš„ä¸¤ä¸ªæ–‡ä»¶é€šè¿‡urlä¸‹è½½ä¸‹æ¥ï¼Œç”¨æ‰¾åˆ°æ–‡ä»¶Aä¸­æŸåœ°å€(hex)çš„å‡½æ•°æ‰€å¯¹åº”çš„åœ¨æ–‡ä»¶Bä¸­ç›¸ä¼¼å‡½æ•°çš„åœ°å€ï¼Œæäº¤ä¸Šå»ã€‚<br>ç¬¬ä¸€å…³æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦å®Œæˆä¸¤æ¬¡æäº¤å¹¶100%æ­£ç¡®ç‡å°±è¡Œã€‚<br>å…ˆå°†å…¶ä¸­ä¸€ä¸ªé€šè¿‡IDA packæˆi64æ ¼å¼çš„æ–‡ä»¶ï¼š<br><img src="/article/b2365084/img_55.png" alt><br>åœ¨ç”¨IDAæ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨bindiffï¼Œåœ¨Matched Functionè¿›è¡Œæ¯”è¾ƒå¹¶æŸ¥æ‰¾ç›¸ä¼¼å‡½æ•°çš„åœ°å€ï¼š<br><img src="/article/b2365084/img_56.png" alt><br>ctrl+fæ£€ç´¢åˆ°é¢˜å¹²åœ°å€ï¼š<br><img src="/article/b2365084/img_57.png" alt><br>å¤ç›˜æ—¶å› ä¸ºæ‡’äºæ˜¯åªæ‹¿ä¸€ä¸ªä¾‹å­åšç¤ºèŒƒã€‚<br>ä¸¤æ¬¡å¦‚ä¸Šæäº¤åè·å¾—flag<br><strong>flag{easy_to_use_bindiff_b97f49e305}</strong><br>got it.</p><h1 id="æ‰¿ä¸Šå¯ä¸‹è¿‡æ¸¡å¥"><a href="#æ‰¿ä¸Šå¯ä¸‹è¿‡æ¸¡å¥" class="headerlink" title="æ‰¿ä¸Šå¯ä¸‹è¿‡æ¸¡å¥"></a>æ‰¿ä¸Šå¯ä¸‹è¿‡æ¸¡å¥</h1><p>å¦‚ä¸Šï¼Œå°±æ˜¯æˆ‘è¿™æ¬¡åœ¨èµ›é—´æ‹¿åˆ°çš„æ‰€æœ‰flagçš„é¢˜è§£ï¼Œäº‹å®ä¸Šå¾ˆå¤šå¾ˆå¤šéƒ½åšäº†ä¸€åŠ/æœ‰äº†æ€è·¯ï¼Œä½†æ˜¯æœ€ç»ˆæ²¡èƒ½åŠæ—¶æˆåŠŸæ‹¿åˆ°ï¼Œèµ›åçœ‹äº†å®˜æ–¹é¢˜è§£æç„¶å¤§æ‚Ÿï¼Œè›®é—æ†¾çš„ã€‚<br><img src="/article/b2365084/img_58.png" alt="ç»„å†…æ’å"></p><p><font size="6">ä¸ªç­¾è¯´çš„å…°æ ¼æ ¼é…¸å¥¶çœŸçš„å¾ˆå¥½å–ï¼çœŸçš„ç‰¹åˆ«å¥½å–ï¼éƒ½ç»™æˆ‘å»å–ï¼ï¼</font><br>è‡³äºæ ‡ç­¾æåˆ°çš„å†…å·¥å¤§fiveé¢†å¯¼ï¼Œæ˜¯å› ä¸ºåœ¨èµ›é—´ï¼Œè€å®¶ç–«æƒ…çªç„¶ä¸¥é‡èµ·æ¥ï¼Œåœ¨å‘¼å’Œæµ©ç‰¹è¯»ä¹¦çš„å¥½æœ‹å‹ä»¬ç»™æˆ‘è®²äº†å†…å·¥å¤§é˜²æ§ä¸åŠ›å±€é¢ï¼Œå¿ƒç—›æ„¤æ€’ä¹‹ä½™éª‚ä¸¤å¥å›¾ä¸ªå£å¿«ã€‚å¥½åœ¨äº²æœ‹å¥½å‹éƒ½æ— æ™ã€‚ï¼ˆåç»­ï¼Œè¯¸å¦‚æ­»äº¡åˆ—è½¦/å…´å…‰A9 ç­‰ç­‰å‘¼å’Œæµ©ç‰¹é­”å¹»ç°å®ä¸»ä¹‰çš„è´Ÿé¢æ–°é—»ï¼Œä¸æƒ³èµ˜è¿°ã€‚<br>æ— è®ºå¦‚ä½•ï¼Œä¸ºäº†ä¸è€½è¯¯ç™½å¤©æ­£å¸¸è¯¾ä¸šå’Œä»»åŠ¡çš„è¿›è¡Œï¼Œåšæ¯”èµ›éƒ½æ˜¯åœ¨æ™šä¸Šç†¬å¤§å¤œå»èµ¶<br><img src="/article/b2365084/memes_11.jpg" width="50%"><br>Doesnâ€™t matter, çœŸçš„å¾ˆå¥½ç©ã€‚å…¨ç¨‹çš„ç²¾ç¥çŠ¶æ€ä¹Ÿä¿æŒåœ¨é«˜è°ƒä¸”ç§¯æçš„<font size="6">â€œå§æ§½è¿˜èƒ½è¿™æ ·ï¼Ÿâ€</font>ä¹‹ä¸­ã€‚</p><p>æ¥ä¸‹æ¥æ‰“ç®—æŠŠå½“æ—¶æ²¡èƒ½åœ¨èµ›é—´è§£å†³çš„é¢˜ç›®ï¼Œé‡æ–°åšä¸€ä¸‹ï¼Œå¹¶å†™ä¸ªwrite-upsã€‚ä¸è¿‡åˆ°ç°åœ¨ï¼Œå°±å…ˆå†™è¿™ä¹ˆå¤šå§ã€‚</p><h1 id="èµ›åæ‰æ€¥"><a href="#èµ›åæ‰æ€¥" class="headerlink" title="èµ›åæ‰æ€¥"></a>èµ›åæ‰æ€¥</h1><h2 id="å®¶ç›®å½•é‡Œçš„ç§˜å¯†-1"><a href="#å®¶ç›®å½•é‡Œçš„ç§˜å¯†-1" class="headerlink" title="å®¶ç›®å½•é‡Œçš„ç§˜å¯†"></a>å®¶ç›®å½•é‡Œçš„ç§˜å¯†</h2><h3 id="Rclone-é‡Œçš„-flag"><a href="#Rclone-é‡Œçš„-flag" class="headerlink" title="Rclone é‡Œçš„ flag"></a>Rclone é‡Œçš„ flag</h3><p>å ä¸ªå‘å…ˆ</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œæ”»é˜² </category>
          
          <category> write-ups </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ctf </tag>
            
            <tag> web </tag>
            
            <tag> binary </tag>
            
            <tag> general </tag>
            
            <tag> math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[æ³•è¯­]è¯­æ³•ç¬”è®°-Notes grammaticales</title>
      <link href="/article/a3d09103/"/>
      <url>/article/a3d09103/</url>
      
        <content type="html"><![CDATA[<h1 id="Les-Articles-å† è¯"><a href="#Les-Articles-å† è¯" class="headerlink" title="Les Articles å† è¯"></a>Les Articles å† è¯</h1><p><img src="/article/a3d09103/img.png" alt="Tableau des le articles"><br><strong>Note</strong>: <strong>lâ€™</strong> est utilisÃ© spÃ©cifiquement avant lÃ¨s mots qui commencent par une voyelle ou un <strong>h factice</strong>.<br><strong>æ³¨æ„</strong>ï¼š<strong>lâ€™</strong>ä¸“ç”¨åœ¨ä»¥å…ƒéŸ³å­—æ¯æˆ–<strong>å“‘éŸ³h</strong>å¼€å¤´çš„å•è¯å‰ã€‚</p><ul><li><p>Les <strong>articles dÃ©finis</strong> dÃ©signent les noms quâ€™ils qualifient ou qui ont Ã©tÃ© mentionnÃ©s ci - dessus, tandis que les <strong>articles indÃ©finis</strong> dÃ©signent les noms quâ€™ils qualifient comme gÃ©nÃ©riques.<br><strong>å®šå† è¯</strong>è¡¨ç¤ºå®ƒæ‰€é™å®šçš„åè¯æ˜¯ç¡®æŒ‡çš„æˆ–æ˜¯ä¸Šæ–‡ä¸­å·²æåŠè¿‡çš„ï¼Œè€Œ<strong>ä¸å®šå† è¯</strong>åˆ™è¡¨ç¤ºå…¶æ‰€é™å®šçš„åè¯æ˜¯æ³›æŒ‡çš„ã€‚</p></li><li><p>Example:</p></li></ul><ol><li>Il y a <strong>un ordinateur</strong> sur la table. æ¡Œä¸Šæœ‰ä¸€å°ç”µè„‘ã€‚<br><strong>Lâ€™ordinateur</strong> est Ã  moi. è¿™å°ç”µè„‘æ˜¯æˆ‘çš„ã€‚</li><li>Il a achetÃ© <strong>une voiture</strong>. ä»–ä¹°äº†ä¸€è¾†æ±½è½¦ã€‚<br><strong>La voiture</strong> est rouge. è¿™è¾†æ±½è½¦æ˜¯çº¢è‰²çš„ã€‚</li><li>Ce sont <strong>des Ã©tudiants</strong>. è¿™æ˜¯ä¸€ç¾¤å¤§å­¦ç”Ÿã€‚<br><strong>Les Ã©tudiants</strong> sont jeunes. è¿™ç¾¤å¤§å­¦ç”Ÿå¾ˆå¹´è½»ã€‚</li></ol><ul><li><p>Bien que lâ€™utilisation dâ€™articles indÃ©finis et dâ€™articles dÃ©finis soit dÃ©finie par des rÃ©fÃ©rences gÃ©nÃ©rales et prÃ©cises, dans certaines expressions, leur utilisation va bien au - delÃ  de ces dispositions.<br>å°½ç®¡ä¸å®šå† è¯å’Œå®šå† è¯çš„ä½¿ç”¨æ˜¯ä»¥æ³›æŒ‡ä¸ç¡®æŒ‡ä¸ºç•Œå®šçš„ï¼Œä½†åœ¨æœ‰äº›è¡¨è¾¾ä¸­ï¼Œå®ƒä»¬çš„ç”¨æ³•è¿œè¿œåœ°è¶…è¶Šäº†è¿™æ ·çš„è§„å®šã€‚</p><ul><li>Exampleï¼š</li></ul></li></ul><ol><li>Il nâ€™aime pas <strong>le soleil</strong>. ä»–ä¸å–œæ¬¢å¤ªé˜³ã€‚(ä¼—æ‰€å‘¨çŸ¥çš„ï¼Œå”¯ä¸€çš„)</li><li><strong>Le vÃ©lo</strong> est pratique. è‡ªè¡Œè½¦å¾ˆæ–¹ä¾¿ã€‚(æŒ‡â€œè‡ªè¡Œè½¦â€è¿™ä¸€ç±»äº¤é€šå·¥å…·)</li><li><strong>Lâ€™homme</strong> est mortel. äººéš¾å…ä¸€æ­».(æŒ‡æ‰€æœ‰äºº)</li></ol><ul><li><p>Dans certaines phrases spÃ©cifiques, les phrases qui nâ€™utilisaient pas dâ€™articles Ã  lâ€™origine ont Ã©tÃ© ajoutÃ©es avec des articles indÃ©finis pour exprimer des significations rhÃ©toriques supplÃ©mentaires.<br>åœ¨æŸäº›ç‰¹å®šçš„è¯ç»„ä¸­ï¼Œä¸ºäº†è¡¨è¾¾é™„åŠ ä¸Šçš„ä¿®è¾æ„ä¹‰ï¼ŒåŸå…ˆå¹¶ä¸ä½¿ç”¨å† è¯çš„ï¼Œåè€Œè¦åŠ ä¸Šä¸å®šå† è¯ã€‚</p><ul><li>Example:</li></ul></li></ul><ol><li>La petite a <strong>une grande</strong> peur. å°å¥³å­©éå¸¸å®³æ€•ã€‚</li><li>Le garÃ§on a <strong>une</strong> soif <strong>incroyable</strong>. å°ç”·å­©å£å¹²èˆŒç‡¥ã€‚</li><li>Nous avons <strong>une</strong> faim <strong>Ã©norme</strong>. æˆ‘ä»¬é¥¥æ¸´éš¾è€ã€‚</li></ol><ul><li><p>Dans lâ€™utilisation quotidienne, lâ€™article indÃ©fini et lâ€™article dÃ©fini ne sont jamais opposÃ©s, ils sont souvent entrelacÃ©s pour exprimer la subordination entre les choses, la relation plus limitÃ©e ou dâ€™autres relations logiques implicites.<br>è€Œåœ¨æ—¥å¸¸çš„ä½¿ç”¨ä¸­ï¼Œä¸å®šå† è¯å’Œå®šå† è¯ç»ä¸æ˜¯å¯¹ç«‹çš„ï¼Œå®ƒä»¬å¾€å¾€äº¤ç»‡åœ¨ä¸€èµ·ï¼Œè¡¨è¾¾äº‹ç‰©ä¸äº‹ç‰©ä¹‹é—´çš„ä»å±å…³ç³»ï¼Œæ›´è¿›ä¸€æ­¥çš„é™å®šå…³ç³»æˆ–æ˜¯å…¶ä»–æš—å«çš„é€»è¾‘å…³ç³»ã€‚</p><ul><li>Example:</li></ul></li></ul><ol><li>un manuel <strong>de</strong> franÃ§ais. ä¸€æœ¬æ³•è¯­æ•™æ</li><li>le manuel de franÃ§ais  <strong>de</strong> ma sÅ“ur. æˆ‘å§å§çš„æ³•è¯­æ•™æ</li><li>Je veux <strong>une</strong> orange. æˆ‘æƒ³è¦ä¸€åªæ©™å­ã€‚</li><li>Je veux <strong>lâ€™</strong> orange qui est lÃ . æˆ‘æƒ³è¦æ”¾åœ¨é‚£å„¿çš„æ©™å­ã€‚</li></ol><ul><li><p>Omettre les articles avant les noms dirigÃ©s par des adverbes spÃ©cifiques ou des phrases reprÃ©sentant des quantitÃ©s.<br>åœ¨ä¸€äº›ç”±ç‰¹å®šå‰¯è¯æˆ–è¡¨ç¤ºæ•°é‡çš„è¯ç»„å¼•å¯¼çš„åè¯å‰ï¼Œçœå»å† è¯ã€‚</p><ul><li>Example:</li></ul></li></ul><ol><li>Nous avons <strong>beaucoup de</strong> vacances. æˆ‘ä»¬çš„å‡æœŸå¾ˆå¤šã€‚</li><li>Elle achÃ¨te <strong>peu de</strong> cahiers. å¥¹ä¹°äº†å¾ˆå°‘çš„æœ¬å­ã€‚</li><li>Tu as <strong>trop de</strong> questions. ä½ çš„é—®é¢˜å¤ªå¤šäº†ã€‚</li><li>Il a <strong>assez dâ€™</strong> argent. ä»–æœ‰è¶³å¤Ÿçš„é’±ã€‚</li><li>Lâ€™enfant a<strong>un peu de</strong> monnaie. è¿™ä¸ªå­©å­æœ‰ä¸€ç‚¹å„¿é’±ã€‚</li><li>Jâ€™achÃ¨te <strong>deux bouteilles de</strong> vin. æˆ‘ä¹°äº†ä¸¤ç“¶è‘¡è„é…’ã€‚</li></ol><ul><li><p><strong>Article condensÃ©</strong>: dÃ©signe une nouvelle forme formÃ©e par la combinaison de la prÃ©position Ã  ou de et de lâ€™article dÃ©fini, qui est dÃ©rivÃ©e et diffÃ©rente de lâ€™article dÃ©fini.<br><strong>ç¼©åˆå† è¯</strong>ï¼šæ˜¯æŒ‡ä»‹è¯Ã æˆ–deåˆ†åˆ«å’Œå®šå† è¯ç»„åˆä¹‹åå½¢æˆçš„ä¸€ç§æ–°å½¢å¼ï¼Œå¯è°“æ˜¯å‡ºä¹‹äºå®šå† è¯ï¼Œåˆä¸ä¹‹æœ‰åˆ«ã€‚<br><img src="/article/a3d09103/img_1.png" alt="article condensÃ©"></p><ul><li>Example:</li></ul></li></ul><ol><li>Elle va <strong>au</strong> cinÃ©ma. å¥¹å»çœ‹ç”µå½±ã€‚(aller Ã )</li><li>Nathalie est <strong>Ã  la</strong> piscine. å¨œå¡”è‰åœ¨æ¸¸æ³³æ± ã€‚(Ãªtre Ã )</li><li>Nous avons besoin <strong>des</strong> manuelsde franÃ§ais. æˆ‘ä»¬éœ€è¦æ³•è¯­æ•™æã€‚(avoir besoin de)</li><li>Les touristes ont peur <strong>de la</strong> tempÃªte. æ—…æ¸¸è€…éƒ½å®³æ€•æš´é£é›¨ã€‚(avoir peur de)</li><li>Mon frÃ¨re sâ€™intÃ©resse <strong>aux</strong> mathÃ©matiques. æˆ‘å“¥å“¥å¯¹æ•°å­¦æ„Ÿå…´è¶£ã€‚(sâ€™intÃ©resser Ã )</li></ol><ul><li><p>En franÃ§ais, conditions dâ€™utilisation de certains articles :<br>Tout dâ€™abord, lâ€™utilisation dâ€™articles partiels doit Ãªtre un nom incommensurable ;<br>DeuxiÃ¨mement, les verbes qui guident ce nom incommensurable doivent Ãªtre des verbes qui peuvent exprimer le sens dâ€™une Â« utilisation partielle Â».<br>æ³•è¯­ä¸­ï¼Œéƒ¨åˆ†å† è¯ä½¿ç”¨çš„æ¡ä»¶ï¼š<br>é¦–å…ˆï¼Œä½¿ç”¨éƒ¨åˆ†å† è¯çš„å¿…é¡»æ˜¯ä¸å¯æ•°åè¯ï¼›<br>å…¶æ¬¡ï¼Œå¼•å¯¼è¿™ä¸€ä¸å¯æ•°åè¯çš„åŠ¨è¯å¿…é¡»æ˜¯å¯ä»¥è¡¨è¾¾â€œéƒ¨åˆ†ä½¿ç”¨â€ä¹‹æ„çš„åŠ¨è¯ã€‚</p></li><li><p>Example:</p></li></ul><ol><li>Jâ€™aime <strong>le</strong> cafÃ©. æˆ‘å–œæ¬¢å’–å•¡ã€‚</li><li>Je veux <strong>du</strong> cafÃ©ï¼ æˆ‘æƒ³å–äº›å’–å•¡ã€‚</li><li>Jâ€˜aimerais <strong>du</strong> cafÃ©ï¼ æˆ‘æƒ³å–äº›å’–å•¡ã€‚</li></ol><h1 id="Lâ€™imperatif-å‘½ä»¤å¼"><a href="#Lâ€™imperatif-å‘½ä»¤å¼" class="headerlink" title="Lâ€™impÃ©ratif å‘½ä»¤å¼"></a>Lâ€™impÃ©ratif å‘½ä»¤å¼</h1><p>Lâ€™impÃ©ratif est une forme de langage. Il existe deux formes de temps: Le prÃ©sent et le passÃ©. Ce chapitre se concentre sur le prÃ©sent impÃ©ratif.<br>å‘½ä»¤å¼æ˜¯ä¸€ç§è¯­å¼ã€‚å®ƒæœ‰ä¸¤ç§æ—¶æ€å½¢å¼ï¼šç°åœ¨æ—¶å’Œè¿‡å»æ—¶ã€‚æœ¬ç« ä¸»è¦ç ”ç©¶å‘½ä»¤å¼çš„ç°åœ¨æ—¶ã€‚</p><ul><li>Lorsque nous avons besoin dâ€™exprimer des attitudes subjectives telles que la commande / interdiction / demande / encouragement, nous pouvons utiliser lâ€™impÃ©ratif.<br>å½“æˆ‘ä»¬éœ€è¦è¡¨è¾¾å‘½ä»¤/ç¦æ­¢/è¯·æ±‚/é¼“åŠ±ç­‰ä¸»è§‚æ€åº¦æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤å¼ï¼š</li></ul><ol><li><strong>Parlez</strong> fort! è¯´å¤§å£°ä¸€ç‚¹ï¼(å‘½ä»¤)</li><li>Ne <strong>fumez</strong> pas! è¯·å‹¿å¸çƒŸï¼(è¯·æ±‚)</li><li><strong>Donne</strong>-moi de lâ€™eau, sâ€™il te plaÃ®t! è¯·ç»™æˆ‘äº›æ°´ï¼(è¯·æ±‚)</li><li><strong>Sois</strong> courageux! å‹‡æ•¢äº›ï¼(é¼“åŠ±)</li></ol><ul><li><p>Le prÃ©sent impÃ©ratif de chaque verbe nâ€™a que trois formes de conjugaison, Ã  savoir le singulier de deuxiÃ¨me personne, le pluriel de premiÃ¨re personne et le pluriel de deuxiÃ¨me personne. En gÃ©nÃ©ral, la conjugaison de lâ€™impÃ©ratif nâ€™utilisent que lâ€™expression prÃ©sente directe du verbe, mais les pronoms personnels doivent Ãªtre supprimÃ©s.<br>æ¯ä¸€ä¸ªåŠ¨è¯çš„å‘½ä»¤å¼ç°åœ¨æ—¶éƒ½åªæœ‰ä¸‰ç§å˜ä½å½¢å¼ï¼Œå³ç¬¬äºŒäººç§°å•æ•°ï¼Œç¬¬ä¸€äººç§°å¤æ•°ï¼Œç¬¬äºŒäººç§°å¤æ•°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå‘½ä»¤å¼çš„å˜ä½åªç”¨åŠ¨è¯çš„ç›´é™ˆå¼ç°åœ¨æ—¶ï¼Œä½†å¿…é¡»åˆ å»äººç§°ä»£è¯ã€‚</p></li><li><p>Example:</p></li></ul><ol><li><strong>Prends</strong> du cafÃ©! ä½ å–äº›å’–å•¡å§ï¼ (ç¬¬äºŒäººç§°å•æ•°)</li><li><strong>Allons</strong> au cinÃ©ma! æˆ‘ä»¬å»çœ‹ç”µå½±å§ï¼(ç¬¬ä¸€äººç§°å¤æ•°)</li><li><strong>Restez</strong> tranquille! ä½ ä»¬å®‰é™äº›ï¼(ç¬¬äºŒäººç§°å¤æ•°)</li></ol><ul><li>Il y a cependant des exceptions pour le premier groupe de verbes et pour les verbes qui se terminent en partie par <strong><em>-ir</em></strong> (par exemple, ouvrir, offrir, cueillir, souffrir, couvrir). Les formes singuliÃ¨res de la deuxiÃ¨me personne de ces verbes se terminent maintenant par - es et doivent Ãªtre supprimÃ©es lorsquâ€™elles sont converties en formes impÃ©ratives.<br>ä¸è¿‡ï¼Œå¯¹äºç¬¬ä¸€ç»„åŠ¨è¯ä»¥åŠéƒ¨åˆ†ä»¥ <strong><em>-ir</em></strong> ç»“å°¾çš„åŠ¨è¯ï¼ˆä¾‹å¦‚ouvrirï¼Œoffrirï¼Œcueillirï¼Œsouffrirï¼Œcouvrirï¼‰æ¥è¯´ï¼Œæƒ…å†µæœ‰äº›ä¾‹å¤–ã€‚è¿™äº›åŠ¨è¯çš„å•æ•°ç¬¬äºŒäººç§°ç›´é™ˆå¼ç°åœ¨æ—¶å˜ä¸ºéƒ½æ˜¯ä»¥-esç»“å°¾çš„ï¼Œå†è½¬æ¢æˆå‘½ä»¤å¼æ—¶ï¼Œå¿…é¡»åˆ å»è¯å°¾çš„sï¼š</li></ul><ol><li>parler ğŸ‘‰ tu parles ğŸ‘‰ <strong>Parle</strong> !</li><li>ouvrir ğŸ‘‰ tu ouvres ğŸ‘‰ <strong>Ouvre</strong> !</li><li>offrir ğŸ‘‰ tu offres ğŸ‘‰ <strong>Offre</strong> !</li></ol><ul><li>Toutefois, si le verbe ci - dessus est suivi dâ€™un sous - pronom en ou y dans lâ€™ordre, la lettre finale s est conservÃ©e en raison de la prononciation.<br>ä½†å¦‚æœä¸Šè¿°è¿™äº›åŠ¨è¯åœ¨å‘½ä»¤å¼ä¸­åæ¥å‰¯ä»£è¯enæˆ–yçš„è¯ï¼Œç”±äºå‘éŸ³å…³ç³»ï¼Œè¯å°¾å­—æ¯såˆ™è¦ç»§ç»­ä¿ç•™ï¼š</li></ul><ol><li>tu y entres ğŸ‘‰ <strong>Entres-y</strong>!</li><li>tu en manges ğŸ‘‰ <strong>Manges-en</strong>!</li><li>tu em offres ğŸ‘‰ <strong>Offres-en</strong>!</li></ol><ul><li>Bien que le verbe aller ne fasse pas partie du premier groupe de verbes, mais se rÃ©fÃ©rer Ã©galement aux rÃ¨gles correspondantes du premier groupe de verbes dans lâ€™impÃ©ratif<br>è™½ç„¶åŠ¨è¯allerä¸å±äºç¬¬ä¸€ç»„åŠ¨è¯ï¼Œä½†ä¹Ÿå‚ç…§ç¬¬ä¸€ç»„åŠ¨è¯åœ¨å‘½ä»¤å¼ä¸­çš„ç›¸åº”è§„åˆ™ï¼š</li></ul><ol><li>tu vas ğŸ‘‰ <strong>Va</strong>!</li><li>tu y vas ğŸ‘‰ <strong>Vas-y</strong>!</li></ol><ul><li><p>Conjugaison de spÃ©cial Ã  mÃ©moriser.<br>éœ€ç‰¹æ®Šè®°å¿†çš„å˜ä½å½¢å¼:<br><img src="/article/a3d09103/img_2.png" alt="Conjugaison spÃ©cial"></p></li><li><p>Dans la pratique, il arrive que le nÃ©gatif impÃ©ratif prend la forme de non - finitions. La nÃ©gation impÃ©rative ajoute Ã©galement neâ€¦pas aprÃ¨s le verbe. Pas, câ€™est - Ã  - dire que la nÃ©gation impÃ©rative commence toujours par ne.<br>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæœ‰æ—¶å‘½ä»¤å¼æ˜¯ä»¥å¦å®šå¼çš„å½¢å¼å‡ºç°çš„ã€‚å‘½ä»¤å¼å¦å®šå¼ä¹Ÿæ˜¯åœ¨åŠ¨è¯çš„å‰ååŠ ä¸Šneâ€¦pasï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‘½ä»¤å¼å¦å®šå¼æ€»æ˜¯ä»¥neå¼€å¤´çš„ï¼š</p></li></ul><ol><li>Ne sors pas! ä½ åˆ«å‡ºå»ï¼</li><li>Nâ€™y va pas! ä½ åˆ«å»é‚£å„¿ï¼</li><li>Nâ€™ayez pas peur! æ‚¨åˆ«æ€•ï¼</li><li>Ne vendons pas notre appartement! æˆ‘ä»¬åˆ«å–æˆ¿å­ï¼</li></ol><ul><li>Pour Ã©viter la rÃ©pÃ©tition, nous devons parfois utiliser des pronoms personnels.<br>Si vous avez besoin dâ€™exprimer des commandes Ã  une troisiÃ¨me personne, vous devez utiliser le virtuelã€‚<br>ä¸ºäº†é¿å…é‡å¤ï¼Œæœ‰æ—¶åœ¨å‘½ä»¤å¼ä¸­æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›äººç§°ä»£è¯ã€‚<br>å¦‚æœéœ€è¦å¯¹ç¬¬ä¸‰äººç§°è¡¨è¾¾å‘½ä»¤çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è™šæ‹Ÿå¼ï¼š</li></ul><ol><li>Quâ€™il parle! è®©ä»–è¯´ï¼(ç¬¬ä¸‰äººç§°å•æ•°)</li><li>Quâ€™elles fassent vite leurs devoirs! è®©å¥¹ä»¬å¿«ç‚¹åšä½œä¸šï¼(ç¬¬ä¸‰äººç§°å¤æ•°)</li></ol><ul><li>Express present / simple future / infinitive peut exprimer des commandes.<br>ç›´é™ˆå¼ç°åœ¨æ—¶/ç®€å•å°†æ¥æ—¶/ä¸å®šå¼éƒ½å¯ä»¥è¡¨è¾¾å‘½ä»¤ï¼š</li></ul><ol><li>Vous finissez tout dâ€™abord vos devoirs. ä½ ä»¬é¦–å…ˆå…ˆåšå®Œä½œä¸šã€‚(ç›´é™ˆå¼ç°åœ¨æ—¶)</li><li>Tu achÃ¨teras du pain, sâ€™il te plaÃ®t! è¯·ä½ ä¹°äº›é¢åŒ…ï¼(ç›´é™ˆå¼ç®€å•å°†æ¥æ—¶)</li><li>Couper le jambon en morceaux. æŠŠç«è…¿åˆ‡æˆå°å—ã€‚(åŠ¨è¯ä¸å®šå¼)</li></ol><h1 id="Les-verbes-pronominaux-ä»£åŠ¨è¯"><a href="#Les-verbes-pronominaux-ä»£åŠ¨è¯" class="headerlink" title="Les verbes pronominaux ä»£åŠ¨è¯"></a>Les verbes pronominaux ä»£åŠ¨è¯</h1><p>Les verbes pronominaux sont des verbes avec des pronoms personnels rÃ©flexifs, qui sont une sorte de verbes spÃ©ciaux.<br>ä»£åŠ¨è¯æ˜¯æŒ‡æœ‰è‡ªåäººç§°ä»£è¯çš„åŠ¨è¯ï¼Œæ˜¯ä¸€ç±»ç‰¹æ®Šçš„åŠ¨è¯ã€‚<br>La conjugaison des verbes pronominaux implique deux parties, lâ€™une est la modification de la partie rÃ©flexive du pronom personnel, lâ€™autre est la conjugaison de la partie du verbe, les deux doivent faire des changements correspondants en fonction de la personne du sujet.<br>ä»£åŠ¨è¯çš„åŠ¨è¯å˜ä½ç‰µæ¶‰åˆ°ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œä¸€æ˜¯è‡ªåäººç§°ä»£è¯éƒ¨åˆ†çš„å˜åŒ–ï¼ŒäºŒæ˜¯åŠ¨è¯éƒ¨åˆ†çš„å˜ä½ï¼Œä¸¤è€…éƒ½å¿…é¡»æ ¹æ®ä¸»è¯­äººç§°ä½œå‡ºç›¸åº”çš„å˜åŒ–ã€‚</p><ul><li><p>Dans lâ€™infinitif du pronom, nous utilisons se pour exprimer le pronom personnel rÃ©flexif, tandis que dans la transposition concrÃ¨te du verbe, nous changeons en fonction de la personne du sujet de diffÃ©rents sexes.<br>åœ¨ä»£åŠ¨è¯çš„ä¸å®šå¼ä¸­ï¼Œæˆ‘ä»¬ç”¨seæ¥è¡¨ç¤ºè‡ªåäººç§°ä»£è¯ï¼Œè€Œåœ¨å…·ä½“çš„åŠ¨è¯å˜ä½ä¸­åˆ™æ ¹æ®ä¸åŒæ€§æ•°çš„ä¸»è¯­äººç§°è¿›è¡Œå˜åŒ–ï¼Œå³ï¼š<br><img src="/article/a3d09103/img_3.png" alt="conjugaison de pronomiaux"></p></li><li><p>Cependant, lorsque le verbe contemporain apparaÃ®t directement dans la phrase sous forme dâ€™infinitif, le pronom rÃ©flexif se doit Ã©galement correspondre aux diffÃ©rents sexes de la personne du sujet, tandis que la partie du verbe reste inchangÃ©e.<br>ä¸è¿‡ï¼Œå½“ä»£åŠ¨è¯ä»¥ä¸å®šå¼çš„å½¢å¼ç›´æ¥å‡ºç°åœ¨å¥å­ä¸­æ—¶ï¼Œè‡ªåäººç§°ä»£è¯seä¹Ÿå¿…é¡»å’Œä¸»è¯­äººç§°è¿›è¡Œæ€§æ•°é…åˆï¼Œè€ŒåŠ¨è¯éƒ¨åˆ†åˆ™ä¿æŒä¸å˜ã€‚</p></li><li><p>Example:</p></li></ul><ol><li>Je vais <strong>me reposer</strong>. æˆ‘é©¬ä¸Šè¦ä¼‘æ¯äº†ã€‚</li><li>Vous allez <strong>vous coucher</strong>. ä½ ä»¬é©¬ä¸Šè¦ç¡è§‰äº†ã€‚</li><li>Ils vont <strong>se lever</strong>. ä»–ä»¬é©¬ä¸Šè¦èµ·åºŠäº†ã€‚</li></ol><ul><li><p>Nous considÃ©rons toujours les pronoms personnels rÃ©flexifs et les verbes comme un tout. Par consÃ©quent, dans la phrase nÃ©gative, il est nÃ©cessaire de placer ne devant le pronom personnel rÃ©flexif et pas derriÃ¨re le verbe.<br>æˆ‘ä»¬å§‹ç»ˆå°†ä»£åŠ¨è¯ä¸­çš„è‡ªåäººç§°ä»£è¯å’ŒåŠ¨è¯çœ‹æˆä¸€ä¸ªæ•´ä½“ã€‚å› æ­¤ï¼Œåœ¨å¦å®šå¥ä¸­ï¼Œéœ€è¦å§neæ”¾åœ¨è‡ªåäººç§°ä»£è¯çš„å‰é¢ï¼Œpasæ”¾åœ¨åŠ¨è¯çš„åé¢ã€‚</p></li><li><p>Example:<br>Je me couche. ğŸ‘‰ Je <strong>ne</strong> me couche <strong>pas</strong>.</p></li><li><p>De mÃªme, dans la question de lâ€™inversion du sujet et du prÃ©dicat, le pronom personnel rÃ©flexif est placÃ© devant le verbe, câ€™est - Ã  - dire que nous considÃ©rons le pronom personnel rÃ©flexif comme faisant partie du verbe, puis nous effectuons lâ€™inversion du sujet et du prÃ©dicat sur cette base.<br>åŒæ ·ï¼Œåœ¨ä¸»è°“å€’ç½®å¼çš„ç–‘é—®å¥ä¸­ï¼Œè‡ªåäººç§°ä»£è¯æ”¾åœ¨åŠ¨è¯çš„å‰é¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†è‡ªåäººç§°ä»£è¯è§†ä¸ºåŠ¨è¯çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åå†åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œä¸»è°“å€’ç½®ã€‚</p></li><li><p>Example:<br>Tu te laves. ä½ æ´—æ¾¡ã€‚ ğŸ‘‰ Te laves-tu? ä½ æ´—æ¾¡å—ï¼Ÿ</p></li><li><p>DerriÃ¨re le verbe, et le pronom personnel de la deuxiÃ¨me personne singuliÃ¨re te doit Ãªtre rÃ©Ã©crit dans sa forme de relecture toi. Dans la forme de lâ€™ordre de nÃ©gation, le pronom personnel rÃ©flexif est toujours placÃ© devant le verbe, et il nâ€™y a pas de changement de forme.<br>è€Œåœ¨è‚¯å®šå‘½ä»¤å¼ä¸­ï¼Œè‡ªåäººç§°ä»£è¯æ”¾åœ¨åŠ¨è¯åé¢ï¼Œå•æ•°ç¬¬äºŒäººç§°çš„äººç§°ä»£è¯teåˆ™è¦æ”¹å†™æˆå®ƒçš„é‡è¯»å½¢å¼toiã€‚å†å¦å®šå‘½ä»¤å½¢å¼ä¸­ï¼Œè‡ªåäººç§°ä»£è¯ä»æ”¾åœ¨åŠ¨è¯çš„å‰é¢ï¼Œä¸”æ²¡æœ‰ä»»ä½•å½¢å¼ä¸Šçš„å˜åŒ–ã€‚</p></li><li><p>Example:</p></li></ul><ol><li>LÃ¨ve-<strong>toi</strong>! ä½ èµ·åºŠï¼</li><li>Ne <strong>te</strong> lÃ¨ve pas! ä½ åˆ«èµ·åºŠï¼</li></ol><ul><li>Les pronoms eux - mÃªmes peuvent Ãªtre divisÃ©s en quatre catÃ©gories.<br>ä»£åŠ¨è¯æœ¬èº«åˆå¯ä»¥åˆ†ä¸ºå››ç±»ã€‚</li></ul><ol><li>Les <strong>sens rÃ©flexif</strong> verbes pronominaux indique que lâ€™action est appliquÃ©e Ã  lâ€™acteur lui - mÃªme, câ€™est - Ã  - dire au sens rÃ©flexif du sujet. Ã€ ce stade, le pronom personnel rÃ©flexif dans le pronom peut Ãªtre lâ€™objet direct du verbe ou lâ€™objet indirect du verbe.<br><strong>è‡ªåæ„ä¹‰</strong>ä»£åŠ¨è¯è¡¨ç¤ºåŠ¨ä½œæ–½åŠ äºæ–½åŠ¨è€…æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯è‡ªåäºä¸»è¯­çš„æ„æ€ã€‚è¿™æ—¶ï¼Œä»£åŠ¨è¯ä¸­çš„è‡ªåäººç§°ä»£è¯å¯ä»¥æ˜¯åŠ¨è¯çš„ç›´æ¥å®¾è¯­ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨è¯çš„é—´æ¥å®¾è¯­ã€‚</li></ol><ul><li>Example:<br>Je <strong>me</strong> couche. æˆ‘ç¡è§‰ã€‚(meä¸ºç›´æ¥å®¾è¯­)<br>Il <strong>se</strong> brosse les dents. ä»–åˆ·ç‰™ã€‚(seæ—¶é—´æ¥å®¾è¯­ï¼Œle dentsä¸ºåŠ¨è¯brosserçš„ç›´æ¥å®¾è¯­)<br>åˆ¤æ–­è‡ªåæ„ä¹‰ä»£åŠ¨è¯ä¸­çš„ç›´æ¥å®¾è¯­æˆ–é—´æ¥å®¾è¯­çš„å…³é”®æ˜¯çœ‹åŠ¨è¯åé¢æœ‰æ²¡æœ‰å®¾è¯­ï¼Œå¦‚æœæœ‰ï¼Œè¿™ä¸ªå®¾è¯­å°±æ˜¯ç›´æ¥å®¾è¯­ï¼Œè‡ªåäººç§°ä»£è¯åˆ™ä¸ºé—´æ¥å®¾è¯­ï¼›å€˜è‹¥æ²¡æœ‰ï¼Œè‡ªåäººç§°ä»£è¯åˆ™ä¸ºç›´æ¥å®¾è¯­ã€‚</li></ul><ol><li>Les <strong>sens mutuel</strong> verbes pronominaux indique que lâ€™action se produit entre les sujets. Nous pouvons donc juger que le sujet du verbe pronom de sens mutuel est pluriel, ou que le pronom personnel est le pronom on qui reprÃ©sente le concept pluriel. De mÃªme, les pronoms personnels rÃ©flexifs dans les pronoms de sens mutuel peuvent Ãªtre soit des objets directs, soit des objets indirects.<br><strong>ç›¸äº’æ„ä¹‰</strong>ä»£åŠ¨è¯è¡¨ç¤ºåŠ¨ä½œå‘ç”Ÿåœ¨ä¸»è¯­ä¹‹é—´ã€‚æˆ‘ä»¬ç”±æ­¤å¯ä»¥åˆ¤æ–­å‡ºï¼Œç›¸äº’æ„ä¹‰ä»£åŠ¨è¯çš„ä¸»è¯­å¤æ•°çš„ï¼Œæˆ–è€…æ˜¯è¡¨ç¤ºå¤æ•°æ¦‚å¿µçš„äººç§°ä»£è¯onã€‚åŒæ ·ï¼Œç›¸äº’æ„ä¹‰ä»£åŠ¨è¯ä¸­çš„è‡ªåäººç§°ä»£è¯æ—¢å¯ä»¥æ˜¯ç›´æ¥å®¾è¯­ï¼Œä¹Ÿå¯ä»¥æ˜¯é—´æ¥å®¾è¯­ã€‚</li></ol><ul><li>Example:<br>Vous <strong>vous</strong> regardez. ä½ ä»¬å››ç›®ç›¸å¯¹ã€‚(vousä¸ºç›´æ¥å®¾è¯­)<br>Ils <strong>s</strong>â€˜Ã©crivent. ä»–ä»¬ç›¸äº’å†™ä¿¡ã€‚(seæ˜¯é—´æ¥å®¾è¯­)<br>åˆ¤æ–­ç›¸äº’æ„ä¹‰ä»£åŠ¨è¯ä¸­çš„ç›´æ¥å®¾è¯­æˆ–é—´æ¥å®¾è¯­çš„å…³é”®æ˜¯çœ‹åŠ¨è¯æœ¬èº«äº¦ä¸æ•¢æ”¹åæ¥ç›´æ¥å®¾è¯­è¿˜æ˜¯é—´æ¥å®¾è¯­ã€‚åœ¨ä»¥ä¸Šçš„ä¸¤ä¸ªä¾‹å¥ä¸­ï¼ŒåŠ¨è¯regarderçš„æ­é…æ˜¯regarder quelquâ€˜unï¼Œå› æ­¤ï¼Œå‰§ä¸­çš„vousä¸ºç›´æ¥å®¾è¯­ã€‚è€ŒåŠ¨è¯Ã©crire Ã   quelquâ€™un,æ‰€ä»¥ï¼Œå¥å­ä¸­çš„seä¸ºé—´æ¥å®¾è¯­ã€‚</li></ul><ol><li>Les <strong>sens passif</strong> verbes pronominaux indique que lâ€™action est passive, ce qui Ã©quivaut Ã  la voix passive.<br><strong>è¢«åŠ¨æ„ä¹‰</strong>ä»£åŠ¨è¯è¡¨ç¤ºåŠ¨ä½œæ˜¯è¢«åŠ¨çš„ï¼Œç›¸å½“äºè¢«åŠ¨è¯­æ€ã€‚</li></ol><ul><li>Example:<br>La fenÃªtre <strong>se</strong> ferme. çª—å…³ä¸Šäº†ã€‚</li></ul><ol><li>Les <strong>sens absolu</strong> verbes pronominaux personnels rÃ©flexifs dans les pronoms sont inhÃ©rents aux pronoms et nâ€™expriment aucun sens grammatical.<br><strong>ç»å¯¹æ„ä¹‰</strong>ä»£åŠ¨è¯ä¸­çš„è‡ªåäººç§°ä»£è¯æ˜¯ä»£åŠ¨è¯æ‰€å›ºæœ‰çš„ï¼Œä¸è¡¨è¾¾ä»»ä½•è¯­æ³•ä¸Šçš„æ„ä¹‰ã€‚</li></ol><ul><li>Example:<br>Il <strong>s</strong>â€˜en va. ä»–èµ°äº†ã€‚</li></ul><h1 id="Pronoms-personnels-complements-dâ€™objet-indirect-ç®€ä»‹å®¾è¯­äººç§°ä»£è¯"><a href="#Pronoms-personnels-complements-dâ€™objet-indirect-ç®€ä»‹å®¾è¯­äººç§°ä»£è¯" class="headerlink" title="Pronoms personnels complÃ©ments dâ€™objet indirect -, ç®€ä»‹å®¾è¯­äººç§°ä»£è¯"></a>Pronoms personnels complÃ©ments dâ€™objet indirect -, ç®€ä»‹å®¾è¯­äººç§°ä»£è¯</h1><ol><li>é—´æ¥å®¾è¯­äººç§°ä»£è¯çš„å½¢å¼<br>| äººç§° | å•æ•°å½¢å¼ | å¤æ•°å½¢å¼ |<br>|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|<br>| ç¬¬ä¸€äººç§° | me(mâ€˜) | nous |<br>| ç¬¬äºŒäººç§° | te(tâ€™) | vous |<br>| ç¬¬ä¸‰äººç§° | lui | leur |</li><li>ä¸»è¦ç”¨æ³•<br>é—´æ¥å®¾è¯­çƒ­è¯šä»£è¯ä¸€èˆ¬ç”¨æ¥ä»£æ›¿ä»‹è¯Ã åŠå…¶å¼•å¯¼çš„æŒ‡äººçš„é—´æ¥å®¾è¯­ï¼Œä¸€èˆ¬ç½®äºç›¸å…³<strong>åŠ¨è¯ä¹‹å‰</strong>ã€‚</li></ol><ul><li>Example:<br>1) Paul <strong>nous</strong> donne ses livres. (nous = Ã  nous) ä¿ç½—æŠŠä»–çš„ä¹¦ç»™äº†æˆ‘ä»¬ã€‚<br>2) Est-ce que tu peux <strong>mâ€™</strong> apporter du thÃ©, sâ€™il te plaÃ®t? (mâ€™ = Ã  moi) ä½ èƒ½ç»™æˆ‘å¸¦ç‚¹èŒ¶æ¥å—ï¼Ÿ</li></ul><p>æ³¨æ„ï¼šé—´æ¥å®¾è¯­äººç§°ä»£è¯ä¸å¯ä»¥ç”¨æ¥ä»£æ›¿å¸¦æ­¤æ—¶åŠ¨è¯çš„é—´æ¥å®¾è¯­ï¼Œä»¥åŠpenser Ã ç­‰çŸ­è¯­ä¸­çš„é—´æ¥å®¾è¯­ï¼šåœ¨ä»¥ä¸Šæƒ…å†µä¸­ï¼Œé¡»ä½¿ç”¨Ã +é‡è¯»äººç§°ä»£è¯ä½œä¸ºé—´æ¥å®¾è¯­ã€‚<br>1) Li Ming a recentrÃ© des problÃ¨mes, donc il sâ€™adresse Ã  moi.<br>2) - Ã€ qui penses-tu? Ã€ tes parents ? ä½ åœ¨é¦™æ°´ï¼Ÿä½ çš„çˆ¶æ¯å—ï¼Ÿ</p><ul><li>Oui, je pense Ã  eux. æ˜¯çš„ï¼Œæˆ‘åœ¨æƒ³å¿µä»–ä»¬ã€‚</li></ul><ol><li>å‘½ä»¤å¼è‚¯å®šå¥ä¸­çš„é—´æ¥å®¾è¯­äººç§°ä»£è¯<br>åœ¨<strong>å‘½ä»¤å¼è‚¯å®šå¥</strong>ä¸­ï¼Œé—´æ¥å®¾è¯­äººç§°ä»£è¯ç½®äº<strong>åŠ¨è¯ä¹‹å</strong>ï¼Œå¹¶ä½¿ç”¨è¿å­—ç¬¦-å¼•å¯¼ï¼›<strong>å¦‚æœé—´æ¥å®¾è¯­äººç§°ä»£è¯ä¸ºmeæˆ–teï¼Œåˆ™åº”ä½¿ç”¨é‡è¯»å½¢å¼moiæˆ–toi</strong>ã€‚</li></ol><ul><li>Example:<br>1) Envoyez-lui cette le titre ! æŠŠè¿™å°ä¿¡å¯„ç»™ä»–.<br>2) Passe-moi le journal ! æŠŠæŠ¥çº¸é€’ç»™æˆ‘ï¼</li></ul><h1 id="Câ€™estâ€¦qui-Câ€™estâ€¦que-å¼ºè°ƒå¥å‹"><a href="#Câ€™estâ€¦qui-Câ€™estâ€¦que-å¼ºè°ƒå¥å‹" class="headerlink" title="Câ€™estâ€¦qui / Câ€™estâ€¦que - å¼ºè°ƒå¥å‹"></a>Câ€™estâ€¦qui / Câ€™estâ€¦que - å¼ºè°ƒå¥å‹</h1><p>å½“éœ€è¦çªå‡ºå¼ºè°ƒå¥å­ä¸­çš„æŸä¸€æˆåˆ†æ—¶ï¼Œå¯é‡‡ç”¨å¼ºè°ƒå¥å‹câ€™estâ€¦quiæˆ–câ€™estâ€¦queï¼Œä»¥å”¤èµ·å¯¹æ–¹çš„æ³¨æ„ï¼›éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å¥å‹ä¸å¯å¼ºè°ƒè°“è¯­ã€‚</p><ol><li>å¼ºè°ƒä¸»è¯­ç”¨<strong>câ€™estâ€¦qui</strong>ï¼Œå¥ä¸­åŠ¨è¯éœ€è¦ä¸ä¸»è¯­è¿›è¡Œé…åˆï¼›åœ¨å£è¯­è¡¨è¾¾ä¸­ï¼Œcâ€˜estå¯ä»¥ä»£æ›¿ce sont.</li></ol><ul><li>Example:<br>1ï¼‰Olivia a donnÃ© des renseignements Ã  Li Ming. å¥¥ç»´è‰é›…ç»™é»æ˜æä¾›äº†ä¿¡æ¯ã€‚<br>ğŸ‘‰ <strong>Câ€™est</strong> Olivia <strong>qui</strong> a donnÃ© des renseignements Ã  Li Ming.<br>æ˜¯å¥¥ç»´è‰é›…ç»™ææ˜æä¾›äº†ä¿¡æ¯ã€‚<br>2ï¼‰Jâ€™ai besoin dâ€™ouvrir un compte bancaire. æˆ‘éœ€è¦å¼€ä¸€ä¸ªé“¶è¡Œè´¦æˆ·ã€‚<br>ğŸ‘‰ <strong>Câ€™est</strong> moi <strong>qui</strong> ai besoin dâ€™ouvrir un compte bancaire.<br>æ˜¯æˆ‘éœ€è¦å¼€é“¶è¡Œè´¦æˆ·ã€‚<br>3ï¼‰Ces chemises me plaisent beaucoup. æˆ‘å–œæ¬¢è¿™äº›è¡¬è¡£ã€‚<br>ğŸ‘‰ <strong>Ce sont</strong> ces chemises <strong>qui</strong> me plaisent beaucoup.<br>æˆ‘å–œæ¬¢çš„æ­£æ˜¯è¿™äº›è¡¬è¡£ã€‚<br>æ³¨æ„ï¼šä¸»è¯­äººç§°ä»£è¯åœ¨Câ€™estâ€¦quiç»“æ„ä¸­ï¼Œåº”å˜ä¸ºé‡è¯»äººç§°ä»£è¯å½¢å¼ã€‚</li></ul><ol><li>å¼ºè°ƒç›´æ¥å®¾è¯­ã€é—´æ¥å®¾è¯­ã€çŠ¶è¯­ã€è¡¨è¯­ç”¨<strong>câ€™estâ€¦que</strong>ã€‚</li></ol><ul><li>Example:<br>1ï¼‰Nous avons rencontrÃ© un cÃ©lÃ¨bre mÃ©decin hier. æˆ‘ä»¬æ˜¨å¤©é‡è§äº†ä¸€ä¸ªè‘—åçš„åŒ»ç”Ÿã€‚<br>ğŸ‘‰ <strong>Câ€™est</strong> un cÃ©lÃ¨bre mÃ©decin <strong>que</strong> nous avons rencontrÃ© hier.<br>æˆ‘ä»¬æ˜¨å¤©é‡è§çš„æ˜¯ä¸€ä¸ªè‘—åçš„åŒ»ç”Ÿã€‚<br>2ï¼‰Elles sont partis en vacances avec leurs copines. ä»–ä»¬è·Ÿæœ‹å‹å‡ºå‘å»åº¦å‡äº†ã€‚<br>ğŸ‘‰ <strong>Câ€™est</strong> avec leurs copines <strong>qu</strong>â€˜elles sont partis en vacances.<br>ä»–ä»¬æ˜¯è·Ÿæœ‹å‹ä»¬å‡ºå‘å»åº¦å‡çš„ã€‚<br>3ï¼‰Nous ne sommes pas venus, parce quâ€™il a plu.<br>æˆ‘ä»¬æ²¡æ¥ï¼Œå› ä¸ºä¸‹é›¨äº†ã€‚<br>ğŸ‘‰ <strong>Câ€™est</strong> parce quâ€™il a plu <strong>que</strong> nous ne sommes pas venus.<br>æ˜¯å› ä¸ºä¸‹é›¨äº†æˆ‘ä»¬æ‰æ²¡æœ‰æ¥ã€‚<br>4ï¼‰Pour ouvrir un compte bancaire, Li Ming sâ€™adresse Ã  Olivia. ä¸ºäº†å¼€é“¶è¡Œè´¦æˆ·ï¼Œææ˜æ±‚åŠ©äºå¥¥è‰è–‡å¨…ã€‚<br>ğŸ‘‰ Pour ouvrir un compte bancaire, <strong>Câ€™est</strong> Ã  Olivia <strong>que</strong> Li Ming sâ€™adresse.<br>ä¸ºäº†å¼€é“¶è¡Œè´¦æˆ·ï¼Œææ˜æ˜¯å¥¥è‰è–‡å¨…æ±‚åŠ©çš„ã€‚</li></ul><h1 id="Pronoms-personnels-comportement-dâ€™objet-direct-ç›´æ¥å®¾è¯­äººç§°ä»£è¯"><a href="#Pronoms-personnels-comportement-dâ€™objet-direct-ç›´æ¥å®¾è¯­äººç§°ä»£è¯" class="headerlink" title="Pronoms personnels comportement dâ€™objet direct - ç›´æ¥å®¾è¯­äººç§°ä»£è¯"></a>Pronoms personnels comportement dâ€™objet direct - ç›´æ¥å®¾è¯­äººç§°ä»£è¯</h1><ol><li>ç›´æ¥å®¾è¯­äººç§°ä»£è¯çš„å½¢å¼<br>| äººç§° | å•æ•°å½¢å¼ | å¤æ•°å½¢å¼ |<br>|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|<br>| ç¬¬ä¸€äººç§° | me(mâ€˜) | nous |<br>| ç¬¬äºŒäººç§° | te(tâ€™) | vous |<br>| ç¬¬ä¸‰äººç§° | le/la(lâ€™) | les |</li><li>ä¸»è¦ç”¨æ³•<br>ç›´æ¥å®¾è¯­äººç§°ä»£è¯ä¸€èˆ¬ç”¨æ¥ä»£æ›¿æŒ‡äººæˆ–äº‹ç‰©çš„ç›´æ¥å®¾è¯­ã€‚ä¸é—´æ¥å®¾è¯­äººç§°ä»£è¯ç›¸åŒï¼Œç›´æ¥å®¾è¯­äººç§°ä»£è¯ä¸€èˆ¬ç½®äºç›¸å…³<strong>åŠ¨è¯ä¹‹å‰</strong>ã€‚</li></ol><ul><li>Example:<br>1ï¼‰Je <strong>vous</strong> aime. æˆ‘çˆ±ä½ ä»¬ã€‚<br>2ï¼‰Quelles belles fleurs! Je vais <strong>les</strong> donner Ã  maman. å¤šç¾çš„èŠ±ï¼æˆ‘è¦æŠŠä»–ä»¬é€ç»™å¦ˆå¦ˆã€‚<br>3ï¼‰Hier, il <strong>m</strong>â€˜a rencontrÃ© dans la rue. æ˜¨å¤©ï¼Œä»–åœ¨è¡—ä¸Šç¢°è§äº†æˆ‘ã€‚</li></ul><ol><li>å‘½ä»¤å¼åœ¨è‚¯å®šå¥ä¸­çš„ç›´æ¥å®¾è¯­äººç§°ä»£è¯<br>åœ¨<strong>å‘½ä»¤å¼è‚¯å®šå¥</strong>ä¸­ï¼Œç›´æ¥å®¾è¯­äººç§°ä»£è¯ç½®äº<strong>åŠ¨è¯ä¹‹å</strong>ï¼Œå¹¶ä½¿ç”¨è¿å­—ç¬¦â€œ-â€å¼•å¯¼ï¼›<strong>å¦‚æœç›´æ¥å®¾è¯­äººç§°ä»£è¯ä¸ºmeæˆ–teï¼Œåˆ™åº”ä½¿ç”¨å…¶é‡è¯»å½¢å¼moiæˆ–toi</strong>ã€‚</li></ol><ul><li>Example:<br>1ï¼‰Regarde-moi! çœ‹ç€æˆ‘ï¼<br>2ï¼‰Suivez-la! è·Ÿç€å¥¹ï¼</li></ul><h1 id="Accord-du-participe-passe-dans-le-temps-compose-å¤åˆæ—¶æ€ä¸­è¿‡å»åˆ†è¯çš„é…åˆ1-ä»¥-avoir-ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯çš„é…åˆ"><a href="#Accord-du-participe-passe-dans-le-temps-compose-å¤åˆæ—¶æ€ä¸­è¿‡å»åˆ†è¯çš„é…åˆ1-ä»¥-avoir-ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯çš„é…åˆ" class="headerlink" title="Accord du participe passÃ© dans le temps composÃ© å¤åˆæ—¶æ€ä¸­è¿‡å»åˆ†è¯çš„é…åˆ1. ä»¥ avoir ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯çš„é…åˆ"></a>Accord du participe passÃ© dans le temps composÃ© å¤åˆæ—¶æ€ä¸­è¿‡å»åˆ†è¯çš„é…åˆ1. ä»¥ avoir ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯çš„é…åˆ</h1><p>åœ¨ä»¥ avoir ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯é€šå¸¸ä¸å˜ï¼›ä½†æ˜¯å½“ç›´æ¥å®¾è¯­ä½äº avoir ä¹‹å‰æ—¶ï¼Œè¿‡å»åˆ†è¯éœ€è¦ä¸å‰ç½®çš„ç›´æ¥å®¾è¯­è¿›è¡Œæ€§æ•°é…åˆã€‚<br>1ï¼‰ Combien de livres as-tu lus ? ä½ è¯»äº†å‡ æœ¬ä¹¦ï¼Ÿ<br>2ï¼‰ Câ€™est la leÃ§on 5 que nous avons apprise hier. æˆ‘ä»¬æ˜¨å¤©å­¦çš„æ˜¯ç¬¬äº”è¯¾ã€‚<br>3ï¼‰ Ces formulaires, je les ai dÃ©jÃ  remplis. è¿™äº›è¡¨æ ¼ï¼Œæˆ‘å·²ç»å¡«äº†ã€‚</p><ol><li>ä»¥ Ãªtre ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯çš„é…åˆ<br>åœ¨ä»¥ Ãªtre ä¸ºåŠ©åŠ¨è¯çš„å¤åˆæ—¶æ€ä¸­ï¼Œè¿‡å»åˆ†è¯é€šå¸¸é¡»ä¸ä¸»è¯­è¿›è¡Œæ€§æ•°é…åˆï¼›ä½†å½“ä»£è¯å¼åŠ¨è¯ä¸­çš„è‡ªåä»£è¯ se æ˜¯åŠ¨è¯çš„é—´æ¥å®¾è¯­æ—¶ï¼Œè¿‡å»åˆ†è¯ä¿æŒä¸å˜ã€‚<br>1ï¼‰ Elle sâ€™est lavÃ©e en 20 minutes. å¥¹æ´—æ¾¡ç”¨äº† 20 åˆ†é’Ÿã€‚<br>Elle sâ€™est lavÃ© les mains avant le repas. å¥¹é¥­å‰æ´—äº†æ‰‹ã€‚<br>2ï¼‰ Elles se sont rencontrÃ©s dans la rue, mais elles ne se sont pas dit bonjour.<br>å¥¹ä»¬åœ¨è¡—ä¸Šç›¸é‡äº†ï¼Œä½†æ²¡æœ‰æ‰“æ‹›å‘¼ã€‚</li><li>è¡¨ç¤ºä½ç½®ç§»åŠ¨çš„åŠ¨è¯ï¼Œè¿‡å»åˆ†è¯çš„é…åˆæœ‰äº›è¡¨ç¤ºä½ç§»çš„åŠ¨è¯æ—¢å¯ä½¿ç”¨ avoir åšåŠ©åŠ¨è¯ï¼Œåˆå¯ä½¿ç”¨Ãªtre åšåŠ©åŠ¨è¯ã€‚å½“åŠ¨è¯æœ‰ç›´æ¥å®¾è¯­æ—¶ï¼Œéœ€è¦ä½¿ç”¨ avoir åšåŠ©åŠ¨è¯ï¼Œæ­¤æ—¶è¿‡å»åˆ†è¯ä¸ä¸ä¸»è¯­é…åˆï¼›å½“åŠ¨è¯æ²¡æœ‰ç›´æ¥å®¾è¯­æ—¶ï¼Œéœ€è¦ä½¿ç”¨Ãªtre åšåŠ©åŠ¨è¯ï¼Œæ­¤æ—¶è¿‡å»åˆ†è¯ä¸ä¸»è¯­é…åˆã€‚<br>1ï¼‰ Elle est montÃ©e au deuxiÃ¨me Ã©tage. å¥¹ä¸Šäº†ä¸‰æ¥¼ã€‚<br>2ï¼‰ Elle a montÃ© une chaise au deuxiÃ¨me Ã©tage. å¥¹æŠŠä¸€æŠŠæ¤…å­æ¬åˆ°äº†ä¸‰æ¥¼ã€‚<br>3ï¼‰ Elle est sortie de bonne heure. å¥¹ä¸€å¤§æ—©å°±å‡ºå»äº†ã€‚<br>4ï¼‰ Elle a sorti les vÃªtements de bonne heure. å¥¹ä¸€å¤§æ—©å°±æŠŠè¡£æœæ‹¿å‡ºæ¥äº†ã€‚</li></ol><h1 id="la-voix-passive-è¢«åŠ¨æ€"><a href="#la-voix-passive-è¢«åŠ¨æ€" class="headerlink" title="la voix passive è¢«åŠ¨æ€"></a>la voix passive è¢«åŠ¨æ€</h1><ol><li><p>å½¢å¼<br>æ³•è¯­æœ‰ä¸¤å¤§è¯­æ€ï¼šä¸»åŠ¨æ€ï¼ˆla voix activeï¼‰å’Œè¢«åŠ¨æ€ï¼ˆla voix passiveï¼‰ã€‚å½“å¥å­çš„ä¸»è¯­æ˜¯åŠ¨ä½œçš„æ–½åŠ¨è€…æ—¶ï¼Œè¯¥å¥å­ä¸ºä¸»åŠ¨æ€ï¼›ä¸»è¯­æ˜¯åŠ¨ä½œçš„æ‰¿å—è€…æ—¶ï¼Œè¯¥å¥ä¸ºè¢«åŠ¨æ€ã€‚è¢«åŠ¨æ€çš„æ„æˆæ–¹å¼å¦‚ä¸‹ï¼š<br>Ãªtre+ï¼ˆç›´æ¥åŠç‰©ï¼‰åŠ¨è¯çš„è¿‡å»åˆ†è¯ï¼ˆ+par/de+æ–½åŠ¨è€…è¡¥è¯­ï¼‰ï¼Œå¦‚ï¼š<br>1) Le contrat est signÃ© par Jacques.<br>2) Paris est traversÃ© par la Seine.</p></li><li><p>è¿‡å»åˆ†è¯çš„é…åˆ<br>åœ¨è¢«åŠ¨æ€å¥å­ï¼Œè¿‡å»åˆ†è¯å¿…é¡»ä¸ä¸»è¯­åœ¨æ€§ã€æ•°ä¸Šè¿›è¡Œé…åˆï¼Œå¦‚ï¼š<br>1) Cette lettre est Ã©crite par son ami.<br>2) Les Ã©tudiants Ã©trangers sont reÃ§us par ce prof.</p></li><li><p>æ—¶æ€<br>è¢«åŠ¨æ€çš„æ—¶æ€ç”±åŠ©åŠ¨è¯Ãªtreçš„æ—¶æ€å˜åŒ–å±•ç°ï¼Œå¦‚ï¼š<br>1) La maison a <strong>Ã©tÃ©</strong> construire par mon grand-pÃ¨re. ï¼ˆç›´é™ˆå¼å¤åˆè¿‡å»æ—¶ï¼‰<br>2) La tarte aux pommes <strong>est</strong> prÃ©parÃ©e par une pÃ¢tissiÃ¨re trÃ¨s connue. ï¼ˆç›´é™ˆå¼ç°åœ¨æ—¶ï¼‰<br>3) Votre demande ne peut pas <strong>Ãªtre</strong> acceptÃ©e par une notre banque. ï¼ˆä¸å®šå¼ï¼‰</p></li><li><p>æ–½åŠ¨è€…è¡¥è¯­<br>1) å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œè¢«åŠ¨æ€çš„æ–½åŠ¨è€…è¡¥è¯­ç”±ä»‹è¯parå¼•å‡ºã€‚<br>2) å¦‚æœè¢«åŠ¨æ€çš„åŠ¨è¯è¡¨ç¤ºçŠ¶æ€ã€è®¤çŸ¥ã€æƒ…æ„Ÿç­‰ï¼Œåˆ™æ–½åŠ¨è€…è¡¥è¯­ç”±ä»‹è¯deå¼•å‡ºã€‚<br>3) å½“æ–½åŠ¨è€…è¡¥è¯­æœªçŸ¥æˆ–ä¸éœ€è¦å¼ºè°ƒæ—¶ï¼Œå¯å°†å…¶çœç•¥ã€‚</p></li></ol><h1 id="Simples-æ—¶æ€"><a href="#Simples-æ—¶æ€" class="headerlink" title="Simples æ—¶æ€"></a>Simples æ—¶æ€</h1><h2 id="Le-passe-compose-ç›´é™ˆå¼å¤åˆè¿‡å»æ—¶"><a href="#Le-passe-compose-ç›´é™ˆå¼å¤åˆè¿‡å»æ—¶" class="headerlink" title="Le passÃ© composÃ© ç›´é™ˆå¼å¤åˆè¿‡å»æ—¶"></a>Le passÃ© composÃ© ç›´é™ˆå¼å¤åˆè¿‡å»æ—¶</h2><p>Le passÃ© composÃ© indique les actions qui se sont produites et qui ont Ã©tÃ© accomplies au cours dâ€™une pÃ©riode dÃ©finie dans le passÃ©.<br>å¤åˆè¿‡å»æ—¶è¡¨ç¤ºè¿‡å»èµ·æ­¢æ—¶é—´æ˜ç¡®çš„æŸä¸€æ®µæ—¶é—´å†…å‘ç”Ÿå¹¶å®Œæˆçš„åŠ¨ä½œã€‚<br>Composition : la forme expressive du verbe auxiliaire avoir ou celui - ci est maintenant + le participant passÃ© du verbe.<br>æ„æˆï¼šåŠ©åŠ¨è¯avoiræˆ–Ãªtreçš„ç›´é™ˆå¼ç°åœ¨æ—¶+åŠ¨è¯çš„è¿‡å»åˆ†è¯ã€‚</p><ul><li>La formation du participant passÃ©<br>è¿‡å»åˆ†è¯çš„æ„æˆï¼š<br>(1). ç¬¬ä¸€ç»„åŠ¨è¯å»æ‰è¯å°¾çš„-eråŠ ä¸Š-Ã©:&lt;/br&gt; regarder ğŸ‘‰ regardÃ©<br>(2). ç¬¬äºŒç»„åŠ¨è¯å»æ‰è¯å°¾çš„-iråŠ ä¸Š-i:&lt;/br&gt; finir ğŸ‘‰ fini<br>(3). å¸¸ç”¨çš„ä¸è§„åˆ™åŠ¨è¯çš„è¿‡å»åˆ†è¯&lt;/br&gt;</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">avoir ğŸ‘‰ eu</td><td style="text-align:center">vouloir ğŸ‘‰ voulu</td><td style="text-align:center">voir ğŸ‘‰ vu</td></tr><tr><td style="text-align:center">Ãªtre ğŸ‘‰ Ã©tÃ©</td><td style="text-align:center">prendre ğŸ‘‰ pris</td><td style="text-align:center">pouvoir ğŸ‘‰ pu</td></tr><tr><td style="text-align:center">faire ğŸ‘‰ fait</td><td style="text-align:center">boire ğŸ‘‰ bu</td><td style="text-align:center">pleuvoir ğŸ‘‰ plu</td></tr><tr><td style="text-align:center">dire ğŸ‘‰ dit</td><td style="text-align:center">lire ğŸ‘‰ lu</td><td style="text-align:center">recevoir ğŸ‘‰ reÃ§u</td></tr><tr><td style="text-align:center">devoir ğŸ‘‰ dÃ»</td><td style="text-align:center">tenir ğŸ‘‰ tenu</td><td style="text-align:center">offrir ğŸ‘‰ offert</td></tr><tr><td style="text-align:center">savoir ğŸ‘‰ su</td><td style="text-align:center">connaÃ®tre ğŸ‘‰ connu</td><td style="text-align:center">ouvrir ğŸ‘‰ ouvert</td></tr></tbody></table></div><ul><li>Verbes avec avoir comme auxiliaire.<br>ä»¥avoirä¸ºåŠ©åŠ¨è¯çš„åŠ¨è¯ï¼š<br>La plupart des verbes utilisent avoir comme auxiliaire.<br>å¤§éƒ¨åˆ†åŠ¨è¯éƒ½ä½¿ç”¨avoirä½œä¸ºåŠ©åŠ¨è¯ã€‚</li></ul><ul><li><p>Verbes avec Ãªtre comme auxiliaire.<br>ä»¥Ãªtreä¸ºåŠ©åŠ¨è¯çš„åŠ¨è¯ï¼š<br>(1). Verbe transitionnel reprÃ©sentant un dÃ©placement de position ou un changement dâ€™Ã©tat.<br>è¡¨ç¤ºä½ç½®ç§»åŠ¨æˆ–çŠ¶æ€å˜åŒ–çš„åŠç‰©åŠ¨è¯ï¼š<br>aller, venir, entrer, sortir, monter, descendre, arriver, partir, passer, rester, tomber, mourir, naÃ®tre, apparaÃ®tre(åŒ…æ‹¬ä»–ä»¬çš„æ´¾ç”Ÿè¯ï¼šdevenir, revenir, rentrerâ€¦)<br><strong>Note</strong>: certains de ces verbes peuvent Ã©galement Ãªtre utilisÃ©s comme verbes transitifs, suivis dâ€™objets directs, et maintenant utiliser avoir comme verbes auxiliaires.<br><strong>æ³¨æ„</strong>ï¼šè¿™äº›åŠ¨è¯ä¸­æœ‰äº›ä¹Ÿå¯ä»¥ä½œåŠç‰©åŠ¨è¯ï¼Œåè·Ÿç›´æ¥å®¾è¯­ï¼Œæ­¤æ—¶ç”¨avoirä½œåŠ©åŠ¨è¯ï¼š</p></li><li><p>Example:<br>Je suis montrÃ© en haut de la tour Eiffel. æˆ‘ç™»ä¸ŠåŸƒè²å°”é“å¡”çš„é«˜å¤„ã€‚<br>Le garÃ§on de lâ€™hÃ´tel amontre les valises dans la chambre. æ—…é¦†çš„ç”·ä¾å°†è¡Œæé€åˆ°äº†æˆ¿é—´ã€‚<br>BÃ©atrice est passÃ©e chaz moi Ã  8 h. è´äºšç‰¹è‰ä¸å…«ç‚¹æ¥è¿‡æˆ‘å®¶ã€‚<br>On a passÃ© toute la matinÃ©e Ã  lâ€™hÃ´pital. æˆ‘ä»¬åœ¨åŒ»é™¢åº¦è¿‡äº†æ•´æ•´ä¸€ä¸ªä¸Šåˆã€‚</p><p>(2). Tous les pronoms.æ‰€æœ‰çš„ä»£åŠ¨è¯ï¼š<br>se laver, sâ€™assoir, se souvenirâ€¦</p></li><li><p>Example:<br><img src="/article/a3d09103/img_4.png" alt="examples de les verbes pronominaux"></p></li></ul><p><strong>Note</strong><br><strong>æ³¨æ„</strong>ï¼š</p><ul><li>La phrase nÃ©gative est placÃ©e des deux cÃ´tÃ©s du verbe auxiliaire dans la phrase nÃ©gative.<br>å¦å®šå¥ä¸­å¦å®šçŸ­è¯­ç½®äºåŠ©åŠ¨è¯ä¸¤è¾¹ï¼š<br>Elle <strong>nâ€™a pas rÃ©ussi</strong> ses examens. å¥¹æ²¡æœ‰é¡ºåˆ©é€šè¿‡è€ƒè¯•ã€‚<br>Je <strong>ne suis pas allÃ©</strong> Ã  lâ€™universitÃ© hier. æ˜¨å¤©æˆ‘æ²¡æœ‰å»ä¸Šå¤§å­¦ã€‚<br>Je <strong>ne me suis pas rÃ©veillÃ©</strong> Ã  7 heures ce matin. ä»Šå¤©æ—©æ™¨7ç‚¹é’Ÿæˆ‘è¿˜æ²¡æœ‰ç¡é†’ã€‚</li><li>Verbes auxiliaires et inversion du sujet dans les phrases interrogatives.<br>ç–‘é—®å¥ä¸­åŠ©åŠ¨è¯ä¸ä¸»è¯­å€’è£…ï¼š<br>As-tu trouvÃ© test clÃ©s ? ä½ æ‰¾åˆ°é’¥åŒ™äº†å—ï¼Ÿ<br>Ã€ quelle heure Ãªtes-vous arrivÃ© ? æ‚¨å‡ ç‚¹é’Ÿåˆ°çš„ï¼Ÿ<br>Quand sâ€™est-elle couchÃ©e ? å¥¹ä»€ä¹ˆæ—¶å€™ä¸ŠåºŠä¼‘æ¯çš„ï¼Ÿ</li></ul><h2 id="imparfait-æœªå®Œæˆè¿‡å»æ—¶"><a href="#imparfait-æœªå®Œæˆè¿‡å»æ—¶" class="headerlink" title="imparfait æœªå®Œæˆè¿‡å»æ—¶"></a>imparfait æœªå®Œæˆè¿‡å»æ—¶</h2><ol><li>æ„æˆ<br>åŠ¨è¯ç›´é™ˆå¼ç°åœ¨æ—¶ç¬¬ä¸€äººç§°å¤æ•°å½¢å¼å»æ‰æ­¤ä¸º-onsï¼Œå†æŒ‰äººç§°jeï¼Œtuï¼Œil/elleï¼Œnousï¼Œvousï¼Œils/ellesé¡ºåºåŠ ï¼š-ais, -ais, -ait, -ions, -iez, -aient</li></ol><ul><li>Example:<br><img src="/article/a3d09103/img_5.png" alt="exmaples"><br>æ³¨æ„ï¼š1ï¼‰Ãªtreçš„æœªå®Œæˆè¿‡å»æ—¶ä¸ºç‰¹æ®Šå½¢å¼</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">jâ€™Ã©tais</td><td style="text-align:center">nous Ã©tions</td></tr><tr><td style="text-align:center">tu Ã©tais</td><td style="text-align:center">vous Ã©tiez</td></tr><tr><td style="text-align:center">il/elle Ã©tait</td><td style="text-align:center">ils/elles Ã©taient</td></tr></tbody></table></div><p>2ï¼‰ä¸‹åˆ—åŠ¨è¯æœªå®Œæˆè¿‡å»æ—¶çš„å˜åŒ–ã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:center">commencer</th><th style="text-align:center">je commenÃ§ais</th></tr></thead><tbody><tr><td style="text-align:center">manger</td><td style="text-align:center">je mangeais</td></tr><tr><td style="text-align:center">Ã©tudier</td><td style="text-align:center">jâ€™Ã©tudiais</td></tr></tbody></table></div><ol><li>ç”¨æ³•<br>1ï¼‰è¡¨ç¤ºè¿‡å»çš„çŠ¶æ€ï¼Œæå†™è¿‡å»äº‹ä»¶çš„èƒŒæ™¯ã€‚<br>a. Hier, il faisait froid. Le ciel Ã©tait gris. Il y avait peu de monde dans la rue.<br>æ˜¨å¤©ï¼Œå¤©æ°”å¾ˆå†·ï¼Œå¤©ç©ºé˜´æ²‰ï¼Œè¡—ä¸Šå‡ ä¹æ²¡æœ‰äººã€‚<br>b. Avant, il habitait en ville.<br>ä»¥å‰ï¼Œä»–ä½åœ¨åŸé‡Œã€‚<br>2ï¼‰ è¡¨ç¤ºåœ¨è¿‡å»ä¸€æ®µæ—¶é—´é‡Œï¼Œä¹ æƒ¯æˆ–é‡å¤æ€§çš„åŠ¨ä½œã€‚<br>a. Pendant les vacances, il se levait toujours Ã  8 heures du matin.<br>åœ¨å‡æœŸä¸­ï¼Œä»–æ€»æ˜¯æ—©ä¸Š 8 ç‚¹èµ·åºŠã€‚<br>b. Avant, sa soeur travaillait Ã  Paris. Il allait la voir deux fois par mois.<br>è¿‡å»ï¼Œä»–çš„å§å§åœ¨å·´é»å·¥ä½œï¼Œä»–æ¯æœˆå»çœ‹å¥¹ä¸¤æ¬¡ã€‚<br>c. Il sortait souvent avec ses copains quand il Ã©tait au lycÃ©e.<br>ä»–ä¸Šé«˜ä¸­æ—¶ï¼Œç»å¸¸ä¸åŒä¼´å‡ºå»ç©ã€‚<br>3ï¼‰ åœ¨å¤åˆå¥ä¸­ï¼Œä¸å¤åˆè¿‡å»æ—¶é…åˆä½¿ç”¨ã€‚æœªå®Œæˆè¿‡å»æ—¶è¡¨ç¤ºåœ¨è¿‡å»æ—¶é—´ä¸­æŒç»­è¿›è¡Œçš„åŠ¨ä½œï¼Œè€Œå¤åˆ<br>è¿‡å»æ—¶è¡¨ç¤ºè¿‡å»ä¸€æ¬¡æ€§å‘ç”Ÿå¹¶å®Œæˆçš„åŠ¨ä½œã€‚<br>a. Il est arrivÃ© pendant que jâ€™Ã©coutais de la musique.<br>åœ¨æˆ‘å¬éŸ³ä¹çš„æ—¶å€™ï¼Œä»–æ¥äº†ã€‚<br>b. Il pleuvait quand je me suis rÃ©veillÃ©.<br>å½“æˆ‘é†’æ¥çš„æ—¶å€™ï¼Œæ­£åœ¨ä¸‹é›¨ã€‚</li></ol><h2 id="Le-futur-simple-ç®€å•å°†æ¥æ—¶"><a href="#Le-futur-simple-ç®€å•å°†æ¥æ—¶" class="headerlink" title="Le futur simple ç®€å•å°†æ¥æ—¶"></a>Le futur simple ç®€å•å°†æ¥æ—¶</h2><ol><li><p>å½¢å¼</p><p>ç›´é™ˆå¼ç®€å•å°†æ¥æ—¶çš„å˜ä¸ºé€šå¸¸æ˜¯åœ¨åŠ¨è¯ä¸å®šå¼åï¼ŒæŒ‰ç…§äººç§°é¡ºåºåŠ ä¸Šè¯å°¾-ai, -as, -a, -ons, -ez, -ontæ„æˆã€‚å¦‚æœåŠ¨è¯ä¸å®šå¼ä»¥eç»“å°¾ï¼Œåˆ™éœ€å»æ‰eï¼Œç„¶åå†åŠ ä¸Šä¸Šè¿°åç¼€ã€‚å¦‚ï¼š</p><p>|      ç¬¬ä¸€ç»„åŠ¨è¯      |    ç¬¬äºŒç»„åŠ¨è¯     |     ç¬¬ä¸‰ç»„åŠ¨è¯      |<br>| :â€”â€”â€”â€”â€”â€”â€”â€”â€”: | :â€”â€”â€”â€”â€”â€”â€”-: | :â€”â€”â€”â€”â€”â€”â€”â€”-: |<br>|       arriver        |       finir       |       prendre       |<br>|     jâ€™arriverai      |    je finirai     |     je prendrai     |<br>|     tu arriveras     |    tu finiras     |     tu prendras     |<br>|   il/elle arrivera   |  il/elle finira   |   il/elle prendra   |<br>|   nous arriverons    |   nous finirons   |   nous prendrons    |<br>|    vous arriverez    |   vous finirez    |    vous prendrez    |<br>| ils/elles arriveront | is/elles finiront | ils/elles prendront |</p><p>1ï¼‰ç¬¬ä¸€ç»„åŠ¨è¯å˜ä½çš„ç‰¹æ®Šå½¢å¼</p><p>| åŠ¨è¯ä¸å®šå¼ | ç¬¬ä¸€äººç§°å•æ•° |   ç¬¬ä¸€äººç§°å¤æ•°   |    å…¶ä»–å˜ä½æ–¹å¼ç›¸åŒçš„åŠ¨è¯    |<br>| :â€”â€”â€”â€”: | :â€”â€”â€”â€”â€”: | :â€”â€”â€”â€”â€”â€”â€”: | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”: |<br>|   amener   |  jâ€™amÃ¨nerai  |  nous amÃ¨nerons  | mener, lever, acheter, geler |<br>|  appeier   | jâ€™appellerai | nous appellerons | jeter, rappeler, renouveler  |<br>|  essayer   | jâ€™essaierai  | nous essaierons  |  payer, nettoyer, employer   |<br>|  envoyer   |  jâ€™enverrai  |  nous enverrons  |           renvoyer           |</p><p>2ï¼‰ç¬¬ä¸‰ç»„å¸¸è§åŠ¨è¯å˜ä½çš„ç‰¹æ®Šå½¢å¼</p><p>| åŠ¨è¯ä¸å®šå¼ |          ç¬¬ä¸€äººç§°å•æ•°           |                 ç¬¬ä¸€äººç§°å¤æ•°                 |<br>| :â€”â€”â€”â€”: | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-: | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”: |<br>|   aller    |             jâ€˜irai              |                  nous irons                  |<br>|    Ãªtre    |            je serai             |                 nous serons                  |<br>|   faire    |            je ferai             |                 nous ferons                  |<br>|   avoir    |             jâ€™aurai             |                 nous aurons                  |<br>|   savoir   |            je saurai            |                 nous saurons                 |<br>|   tenir    |           je tiendrai           |                nous tiendrons                |<br>|   venir    |           je viendrai           |                nous viendons                 |<br>|   devoir   |            je devrai            |                 nous devrons                 |<br>|  recevoir  |           je recevrai           |                nous recevrons                |<br>|   courir   |           je courrai            |                nous courrons                 |<br>|  pouvoir   |           je pourrai            |                nous pourrons                 |<br>|    voir    |            je verrai            |                 nous verrons                 |<br>|  vouloir   |           je voudrai            |                nous voudrons                 |<br>| sâ€™asseoir  | je mâ€™assiÃ©rai&lt;/br&gt;je mâ€™assoirai | nous nous assiÃ©rons &lt;/br&gt;nous nous assoirons |<br>|   valoir   |           je vaudrai            |                nous vaudrons                 |</p></li><li><p>ç”¨æ³•</p><p>ç®€å•å°†æ¥æ—¶ä¸€èˆ¬è¡¨ç¤ºå°†æ¥è¦å‘ç”Ÿæˆ–å¯èƒ½è¦å‘ç”Ÿçš„åŠ¨ä½œæˆ–çŠ¶æ€ï¼Œå¦‚ï¼š</p><p>1ï¼‰Une rÃ©union de rentrÃ©e aura lieu aprÃ¨s-demain Ã  14 heurtes. </p><p>å¼€å­¦å¤§ä¼šå°†äºåå¤©ä¸‹åˆ2ç‚¹å¬å¼€</p><p>2ï¼‰Vous devrez passer un test de niveau de franÃ§ais dans 3 jours.</p><p>ä½ ä»¬3å¤©åéœ€è¦å‚åŠ æ³•è¯­æ°´å¹³æµ‹è¯•ã€‚</p><p>3ï¼‰Pierre et Olivia feront un voyage ensemble le mois prochain.</p><p>Pierreå’ŒOliviaä¸‹ä¸ªæœˆè¦ä¸€èµ·å»æ—…è¡Œã€‚</p></li></ol><h2 id="Le-conditionnel-present-æ¡ä»¶å¼ç°åœ¨æ—¶"><a href="#Le-conditionnel-present-æ¡ä»¶å¼ç°åœ¨æ—¶" class="headerlink" title="Le conditionnel prÃ©sent  æ¡ä»¶å¼ç°åœ¨æ—¶"></a>Le conditionnel prÃ©sent  æ¡ä»¶å¼ç°åœ¨æ—¶</h2><ol><li><p>å½¢å¼</p><p>æ¡ä»¶å¼ç°åœ¨æ—¶çš„å˜ä½ç”±ç›´é™ˆå¼ç®€å•å°†æ¥æ—¶çš„è¯æ ¹åŠ ä¸Šç›´é™ˆå¼æœªå®Œæˆè¿‡å»æ—¶çš„è¯å°¾æ„æˆã€‚å¦‚ï¼š</p><p>|       ç¬¬ä¸€ç»„åŠ¨è¯       | ç¬¬äºŒç»„åŠ¨è¯ | ç¬¬ä¸‰ç»„åŠ¨è¯ |<br>| :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”: | :â€”â€”â€”â€”: | :â€”â€”â€”â€”: |<br>|        arriver         |   finir    |   aller    |<br>|      jâ€™arriverais      |            |            |<br>|     tu arriverais      |            |            |<br>|   il/elle arriverait   |            |            |<br>|    nous arriveriez     |            |            |<br>|    vous arriveriez     |            |            |<br>| ils/elles arriveraient |            |            |</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ³•è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯­æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ç½‘ç»œæ”»é˜²]ç®€å•çš„DLLæ³¨å…¥å®è·µ-å¹²çˆ†æ‰«é›·</title>
      <link href="/article/b0ee38f7/"/>
      <url>/article/b0ee38f7/</url>
      
        <content type="html"><![CDATA[<h1 id="ç›¸å…³å¨å¨ï¼šDLLæ³¨å…¥æŠ€æœ¯ä¸ç½‘ç»œå®‰å…¨"><a href="#ç›¸å…³å¨å¨ï¼šDLLæ³¨å…¥æŠ€æœ¯ä¸ç½‘ç»œå®‰å…¨" class="headerlink" title="ç›¸å…³å¨å¨ï¼šDLLæ³¨å…¥æŠ€æœ¯ä¸ç½‘ç»œå®‰å…¨"></a>ç›¸å…³å¨å¨ï¼šDLLæ³¨å…¥æŠ€æœ¯ä¸ç½‘ç»œå®‰å…¨</h1><p>å¯¹äºç½‘ç»œå®‰å…¨çš„è¯¾é¢˜ï¼Œæ”»ä¸é˜²æ˜¯åŒç­‰åœ°ä½çš„é‡è¦ï¼Œå¯æ”»å¯å—ï¼ˆï¼Ÿï¼‰æ˜¯æ¯ä¸€ä¸ªå­¦ä¹ ç½‘ç»œå®‰å…¨çš„~å†¤ç§~æŠ€æœ¯äººæ‰€åº”åŒæ—¶å…·å¤‡çš„èƒ½åŠ›ã€‚<br>è€ŒDLLæ³¨å…¥æŠ€æœ¯ï¼Œä¸€èˆ¬æ¥è®²æ˜¯å‘ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ’å…¥/æ³¨å…¥ä»£ç çš„è¿‡ç¨‹ï¼Œå¯ä»¥è¢«æ­£å¸¸è½¯ä»¶ç”¨æ¥æ·»åŠ /æ‰©å±•å…¶ä»–ç¨‹åºï¼Œè°ƒè¯•æˆ–é€†å‘å·¥ç¨‹çš„åŠŸèƒ½æ€§ï¼›è¯¥æŠ€æœ¯ä¹Ÿå¸¸è¢«æ¶æ„è½¯ä»¶ä»¥å¤šç§æ–¹å¼åˆ©ç”¨ã€‚è¿™æ„å‘³ç€ä»å®‰å…¨è§’åº¦æ¥è¯´ï¼Œäº†è§£DLLæ³¨å…¥çš„å·¥ä½œåŸç†æ˜¯ååˆ†å¿…è¦çš„ã€‚<br><img src="https://pic1.zhimg.com/80/v2-e7797fe6b55556041e4fc1154691b584_720w.jpg" alt="DLLæ³¨å…¥åŸç†ä¸æµç¨‹ï¼ˆå›¾æºç½‘ï¼‰"></p><h2 id="å®éªŒç›®æ ‡ä¸å†…å®¹"><a href="#å®éªŒç›®æ ‡ä¸å†…å®¹" class="headerlink" title="å®éªŒç›®æ ‡ä¸å†…å®¹"></a>å®éªŒç›®æ ‡ä¸å†…å®¹</h2><p>åˆ©ç”¨DLLæ³¨å…¥ï¼Œå®ç°æ‰«é›·ä¸€ä»¶é€šå…³è¾…åŠ©ï¼š</p><ol><li>æ‰¾åˆ°åœ°é›·æ•°ç»„æ‰€åœ¨å†…å­˜ä½ç½®ï¼›</li><li>æ•°ç»„ä¸­çš„å„ä¸ªå€¼ä»£è¡¨çš„å«ä¹‰ï¼›</li><li>å®ç°è¾…åŠ©</li></ol><p>å®éªŒæ‹Ÿé¢˜æ¥è‡ªäº <strong>ä¸­å›½æµ·æ´‹å¤§å­¦ ç½‘ç»œæ”»é˜²å…ˆå¯¼å®è·µ lab03ï¼šç®€å•çš„DLLæ³¨å…¥å®è·µ</strong> <em>-by æ›²æµ·é¹ ç­‰</em></p><h1 id="å®éªŒä¾èµ–å·¥å…·"><a href="#å®éªŒä¾èµ–å·¥å…·" class="headerlink" title="å®éªŒä¾èµ–å·¥å…·"></a>å®éªŒä¾èµ–å·¥å…·</h1><h2 id="Windows-æ¶ˆæ¯ä¼ é€’æœºåˆ¶"><a href="#Windows-æ¶ˆæ¯ä¼ é€’æœºåˆ¶" class="headerlink" title="Windows æ¶ˆæ¯ä¼ é€’æœºåˆ¶"></a>Windows æ¶ˆæ¯ä¼ é€’æœºåˆ¶</h2><p>æ‰€è°“çš„Windowsæ¶ˆæ¯ä¼ é€’æœºåˆ¶å°±ç±»ä¼¼äºç”Ÿæ´»ä¸­çš„ç‰©æµå…¬å¸ã€‚å½“å¯„ä»¶äººï¼ˆä¾‹å¦‚é¼ æ ‡ã€é”®ç›˜ï¼‰å°†åŒ…è£¹ï¼ˆæ¶ˆæ¯ï¼‰äº¤ç»™ç‰©æµå…¬å¸ï¼ˆWindowsç³»ç»Ÿï¼‰æ—¶ï¼Œç‰©æµå…¬å¸ï¼ˆWindowsç³»ç»Ÿï¼‰ä¼šè¿›è¡Œæ•´ç†å¹¶ä¸”æ´¾å‘ï¼ˆæ•´ç†åŠæ´¾å‘ä¸»è¦ç”±æ¶ˆæ¯å¾ªç¯å®Œæˆï¼‰ï¼Œäº¤ç»™ç›¸åº”çš„å¿«é€’å‘˜ï¼ˆçª—å£è¿‡ç¨‹ï¼‰æ¥å¤„ç†ã€‚å¿«é€’å‘˜ï¼ˆçª—å£è¿‡ç¨‹ï¼‰æ‹¿åˆ°åŒ…è£¹ï¼ˆæ¶ˆæ¯ï¼‰ååˆ™æœ‰å¤šç§æ–¹å¼æ¥å¤„ç†ï¼Œå¦‚ç«‹é©¬äº¤ç»™æ”¶ä»¶äººï¼Œç­‰ä¸€å¤©äº¤ç»™æ”¶ä»¶äººï¼Œæˆ–è½¬äº¤ç»™å…¶ä»–å¿«é€’æ´¾å‘ï¼Œè¿™å°±éœ€è¦åœ¨çª—å£è¿‡ç¨‹ä¸­ç”¨switch/caseæ¥åŒºåˆ†ã€‚<br><img src="/article/b0ee38f7/img.png" alt="Windowsæ¶ˆæ¯ä¼ é€’æœºåˆ¶ç¤ºæ„"><br><img src="/article/b0ee38f7/img_1.png" alt="WIndowsæ¶ˆæ¯ä¼ é€’çš„å›è°ƒä¸å“åº”å‡½æ•°"><br>å¯¹äºé€šè¿‡DLLè¿›è¡Œçš„æ¶ˆæ¯åŠ«æŒä¸æ³¨å…¥ï¼Œåˆ™éœ€è¦åˆ©ç”¨Windowsæ¶ˆæ¯ä¼ é€’æœºåˆ¶æ¥å®Œæˆï¼Œä¸‹è¿°ä¸ºWindowsæ¶ˆæ¯äº‹ä»¶çš„ä»‹ç»åŠè·å–/æ¨¡æ‹Ÿï¼š</p><h3 id="Windowsæ¶ˆæ¯æ¥æºç›¸å…³çŸ¥è¯†éƒ¨åˆ†åº”ç”¨"><a href="#Windowsæ¶ˆæ¯æ¥æºç›¸å…³çŸ¥è¯†éƒ¨åˆ†åº”ç”¨" class="headerlink" title="Windowsæ¶ˆæ¯æ¥æºç›¸å…³çŸ¥è¯†éƒ¨åˆ†åº”ç”¨"></a>Windowsæ¶ˆæ¯æ¥æºç›¸å…³çŸ¥è¯†éƒ¨åˆ†åº”ç”¨</h3><p>æ¶ˆæ¯å¯ä»¥ç”±ç³»ç»Ÿæˆ–è€…åº”ç”¨ç¨‹åºäº§ç”Ÿã€‚ç³»ç»Ÿåœ¨å‘ç”Ÿè¾“å…¥äº‹ä»¶æ—¶äº§ç”Ÿæ¶ˆæ¯ã€‚ä¸¾ä¸ªä¾‹å­, å½“ç”¨æˆ·æ•²é”®, ç§»åŠ¨é¼ æ ‡æˆ–è€…å•å‡»æ§ä»¶ã€‚ç³»ç»Ÿä¹Ÿäº§ç”Ÿæ¶ˆæ¯ä»¥å“åº”ç”±åº”ç”¨ç¨‹åºå¸¦æ¥çš„å˜åŒ–, æ¯”å¦‚åº”ç”¨ç¨‹åºæ”¹å˜ç³»ç»Ÿå­—ä½“ï¼Œæ”¹å˜çª—ä½“å¤§å°ã€‚åº”ç”¨ç¨‹åºå¯ä»¥äº§ç”Ÿæ¶ˆæ¯ä½¿çª—ä½“æ‰§è¡Œä»»åŠ¡ï¼Œæˆ–è€…ä¸å…¶ä»–åº”ç”¨ç¨‹åºä¸­çš„çª—å£é€šè®¯ã€‚</p><ol><li><p>Windowsä¸­ï¼Œæ¶ˆæ¯ä½¿ç”¨ç»Ÿä¸€çš„ç»“æ„ä½“ï¼ˆMSGï¼‰æ¥å­˜æ”¾ä¿¡æ¯ï¼Œå…¶ä¸­messageè¡¨æ˜æ¶ˆæ¯çš„å…·ä½“çš„ç±»å‹ï¼Œ<br>&lt;/br&gt;è€ŒwParamï¼ŒlParamæ˜¯å…¶æœ€çµæ´»çš„ä¸¤ä¸ªå˜é‡ï¼Œä¸ºä¸åŒçš„æ¶ˆæ¯ç±»å‹æ—¶ï¼Œå­˜æ”¾æ•°æ®çš„å«ä¹‰ä¹Ÿä¸ä¸€æ ·ã€‚<br>timeè¡¨ç¤ºäº§ç”Ÿæ¶ˆæ¯çš„æ—¶é—´ï¼Œptè¡¨ç¤ºäº§ç”Ÿæ¶ˆæ¯æ—¶é¼ æ ‡çš„ä½ç½®ã€‚<br>Windowsä¸­æ¶ˆæ¯MSGå£°æ˜å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typedef struct tagMsg</span><br><span class="line">&#123;</span><br><span class="line">HWND hwnd; // æ¥å—è¯¥æ¶ˆæ¯çš„çª—å£å¥æŸ„ï¼Œå‘Šè¯‰æ“ä½œç³»ç»Ÿï¼Œåº”è¯¥æŠŠæ¶ˆæ¯å‘ç”Ÿç»™å“ªä¸ªåº”ç”¨ å“ªä¸ªçª—å£</span><br><span class="line">UINT message; // æ¶ˆæ¯å¸¸é‡æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„æ¶ˆæ¯å·</span><br><span class="line">WPARAM wParam; // 32ä½æ¶ˆæ¯çš„ç‰¹å®šé™„åŠ ä¿¡æ¯ï¼Œç¡®åˆ‡å«ä¹‰ä¾èµ–äºæ¶ˆæ¯å€¼</span><br><span class="line">LPARAM lParam; // 32ä½æ¶ˆæ¯çš„ç‰¹å®šé™„åŠ ä¿¡æ¯ï¼Œç¡®åˆ‡å«ä¹‰ä¾èµ–äºæ¶ˆæ¯å€¼</span><br><span class="line">DWORD time; // æ¶ˆæ¯åˆ›å»ºæ—¶çš„æ—¶é—´</span><br><span class="line">POINT pt; // æ¶ˆæ¯åˆ›å»ºæ—¶çš„é¼ æ ‡/å…‰æ ‡åœ¨å±å¹•åæ ‡ç³»ä¸­çš„ä½ç½®</span><br><span class="line">&#125;MSG;</span><br></pre></td></tr></table></figure></li><li><p>æ¶ˆæ¯ç±»å‹<br><img src="/article/b0ee38f7/img_2.png" alt="æ¶ˆæ¯ç±»å‹"><br>(1) çª—å£æ¶ˆæ¯ï¼šå³ä¸çª—å£çš„å†…éƒ¨è¿ä½œæœ‰å…³çš„æ¶ˆæ¯ï¼Œå¦‚åˆ›å»ºçª—å£ï¼Œç»˜åˆ¶çª—å£ï¼Œé”€æ¯çª—å£ç­‰ã€‚<br>å¯ä»¥æ˜¯ä¸€èˆ¬çš„çª—å£ï¼Œä¹Ÿå¯ä»¥æ˜¯MainFrame,Dialog,æ§ä»¶ç­‰ã€‚<br>å¦‚ï¼šWM_CREATE, WM_PAINT, WM_MOUSEMOVE, WM_CTLCOLOR, WM_HSCROLLç­‰.&lt;/br&gt;<br>(2) å½“ç”¨æˆ·ä»èœå•é€‰ä¸­ä¸€ä¸ªå‘½ä»¤é¡¹ç›®ã€æŒ‰ä¸‹ä¸€ä¸ªå¿«æ·é”®æˆ–è€…ç‚¹å‡»å·¥å…·æ ä¸Šçš„ä¸€ä¸ªæŒ‰é’®ï¼Œéƒ½å°†å‘é€WM_COMMANDå‘½ä»¤æ¶ˆæ¯ã€‚<br>LOWORD(wParam)è¡¨ç¤ºèœå•é¡¹ï¼Œå·¥å…·æ æŒ‰é’®æˆ–æ§ä»¶çš„IDï¼›å¦‚æœæ˜¯æ§ä»¶, HIWORD(wParam)è¡¨ç¤ºæ§ä»¶æ¶ˆæ¯ç±»å‹ã€‚&lt;/br&gt;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define LOWORD(l) ((WORD)(l))</span><br><span class="line">#define HIWORD(l) ((WORD)(((DWORD)(l) &gt;&gt; 16) &amp; 0xFFFF))</span><br></pre></td></tr></table></figure><p>(3) éšç€æ§ä»¶çš„ç§ç±»è¶Šæ¥è¶Šå¤šï¼Œè¶Šæ¥è¶Šå¤æ‚ï¼ˆå¦‚åˆ—è¡¨æ§ä»¶ã€æ ‘æ§ä»¶ç­‰ï¼‰ï¼Œä»…ä»…å°†wParamï¼ŒlParamå°†è§†ä¸ºä¸€ä¸ª32ä½æ— ç¬¦å·æ•´æ•°ï¼Œå·²ç»è£…ä¸ä¸‹å¤ªå¤šä¿¡æ¯äº†ã€‚<br>ä¸ºäº†ç»™çˆ¶çª—å£å‘é€æ›´å¤šçš„ä¿¡æ¯ï¼Œå¾®è½¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„WM_NOTIFYæ¶ˆæ¯æ¥æ‰©å±•WM_COMMANDæ¶ˆæ¯ã€‚<br>WM_NOTIFYæ¶ˆæ¯ä»ç„¶ä½¿ç”¨MSGæ¶ˆæ¯ç»“æ„ï¼Œåªæ˜¯æ­¤æ—¶wParamä¸ºæ§ä»¶IDï¼ŒlParamä¸ºä¸€ä¸ªNMHDRæŒ‡é’ˆï¼Œ<br>ä¸åŒçš„æ§ä»¶å¯ä»¥æŒ‰ç…§è§„åˆ™å¯¹NMHDRè¿›è¡Œæ‰©å……ï¼Œå› æ­¤WM_NOTIFYæ¶ˆæ¯ä¼ é€çš„ä¿¡æ¯é‡å¯ä»¥ç›¸å½“çš„å¤§ã€‚<br>æ³¨ï¼šWindow 9x ç‰ˆåŠä»¥åçš„æ–°æ§ä»¶é€šå‘Šæ¶ˆæ¯ä¸å†é€šè¿‡WM_COMMAND ä¼ é€ï¼Œè€Œæ˜¯é€šè¿‡WM_NOTIFY ä¼ é€ï¼Œ<br>ä½†æ˜¯è€æ§ä»¶çš„é€šå‘Šæ¶ˆæ¯ï¼Œ æ¯”å¦‚CBN_SELCHANGE è¿˜æ˜¯é€šè¿‡WM_COMMAND æ¶ˆæ¯å‘é€ã€‚&lt;/br&gt;<br>(4) windwosä¹Ÿå…è®¸ç¨‹åºå‘˜å®šä¹‰è‡ªå·±çš„æ¶ˆæ¯ï¼Œä½¿ç”¨SendMessageæˆ–PostMessageæ¥å‘é€æ¶ˆæ¯ã€‚&lt;/br&gt;</p></li><li><p>æ¶ˆæ¯é˜Ÿåˆ—(Message Queues)<br>Windowsä¸­æœ‰ä¸¤ç§ç±»å‹çš„æ¶ˆæ¯é˜Ÿåˆ—<br>(1) ç³»ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—(System Message Queue)<br>è¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿå”¯ä¸€çš„Queueï¼Œè®¾å¤‡é©±åŠ¨(mouse, keyboard)ä¼šæŠŠæ“ä½œè¾“å…¥è½¬åŒ–æˆæ¶ˆæ¯å­˜åœ¨ç³»ç»Ÿé˜Ÿåˆ—ä¸­ï¼Œç„¶åç³»ç»Ÿä¼šæŠŠæ­¤æ¶ˆæ¯æ”¾åˆ°ç›®æ ‡çª—å£æ‰€åœ¨çš„çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—(thread-specific message queue)ä¸­ç­‰å¾…å¤„ç†.&lt;/br&gt;<br>(2) çº¿ç¨‹æ¶ˆæ¯é˜Ÿåˆ—(Thread-specific Message Queue)<br>æ¯ä¸€ä¸ªGUIçº¿ç¨‹éƒ½ä¼šç»´æŠ¤è¿™æ ·ä¸€ä¸ªçº¿ç¨‹æ¶ˆæ¯é˜Ÿåˆ—ã€‚(è¿™ä¸ªé˜Ÿåˆ—åªæœ‰åœ¨çº¿ç¨‹è°ƒç”¨GDIå‡½æ•°æ—¶æ‰ä¼šåˆ›å»ºï¼Œé»˜è®¤ä¸åˆ›å»º)ã€‚ç„¶åçº¿ç¨‹æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä¼šè¢«é€åˆ°ç›¸åº”çš„çª—å£è¿‡ç¨‹(WndProc)å¤„ç†.<br>æ³¨æ„ï¼š çº¿ç¨‹æ¶ˆæ¯é˜Ÿåˆ—ä¸­WM_PAINTï¼ŒWM_TIMERåªæœ‰åœ¨Queueä¸­æ²¡æœ‰å…¶ä»–æ¶ˆæ¯çš„æ—¶å€™æ‰ä¼šè¢«å¤„ç†ï¼ŒWM_PAINTæ¶ˆæ¯è¿˜ä¼šè¢«åˆå¹¶ä»¥æé«˜æ•ˆç‡ã€‚å…¶ä»–æ‰€æœ‰æ¶ˆæ¯ä»¥å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ–¹å¼è¢«å¤„ç†ã€‚&lt;/br&gt;</p></li><li><p>é˜Ÿåˆ—æ¶ˆæ¯(Queued Messages)å’Œéé˜Ÿåˆ—æ¶ˆæ¯(Non-Queued Messages)<br>(1) é˜Ÿåˆ—æ¶ˆæ¯(Queued Messages)<br>æ¶ˆæ¯ä¼šå…ˆä¿å­˜åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆæ¯å¾ªç¯ä¼šä»æ­¤é˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯å¹¶åˆ†å‘åˆ°å„çª—å£å¤„ç†<br>å¦‚ï¼šWM_PAINTï¼ŒWM_TIMERï¼ŒWM_CREATEï¼ŒWM_QUITï¼Œä»¥åŠé¼ æ ‡ï¼Œé”®ç›˜æ¶ˆæ¯ç­‰ã€‚<br>å…¶ä¸­ï¼ŒWM_PAINTï¼ŒWM_TIMERåªæœ‰åœ¨é˜Ÿåˆ—ä¸­æ²¡æœ‰å…¶ä»–æ¶ˆæ¯çš„æ—¶å€™æ‰ä¼šè¢«å¤„ç†ï¼Œ WM_PAINTæ¶ˆæ¯è¿˜ä¼šè¢«åˆå¹¶ä»¥æé«˜æ•ˆç‡ã€‚å…¶ä»–æ‰€æœ‰æ¶ˆæ¯ä»¥å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ–¹å¼è¢«å¤„ç†ã€‚&lt;/br&gt;<br>(2) éé˜Ÿåˆ—æ¶ˆæ¯(NonQueued Messages)<br>æ¶ˆæ¯ä¼šç»•è¿‡ç³»ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—å’Œçº¿ç¨‹æ¶ˆæ¯é˜Ÿåˆ—ç›´æ¥å‘é€åˆ°çª—å£è¿‡ç¨‹è¢«å¤„ç† å¦‚ï¼š WM_ACTIVATE, WM_SETFOCUS, WM_SETCURSORï¼Œ WM_WINDOWPOSCHANGED<br>æ³¨æ„: postMessageå‘é€çš„æ¶ˆæ¯æ˜¯é˜Ÿåˆ—æ¶ˆæ¯ï¼Œå®ƒä¼šæŠŠæ¶ˆæ¯Poståˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼› SendMessageå‘é€çš„æ¶ˆæ¯æ˜¯éé˜Ÿåˆ—æ¶ˆæ¯ï¼Œ è¢«ç›´æ¥é€åˆ°çª—å£è¿‡ç¨‹å¤„ç†.&lt;/br&gt;</p></li><li><p>çª—ä½“å‡½æ•°ï¼ˆWindowProcï¼‰<br><img src="/article/b0ee38f7/img_3.png" alt="åº”ç”¨ç¨‹åºæ¶ˆæ¯å¾ªç¯ï¼ˆmessager loopï¼‰"><br>Windows åº”ç”¨ç¨‹åºåˆ›å»ºçš„æ¯ä¸ªçª—å£éƒ½åœ¨ç³»ç»Ÿæ ¸å¿ƒæ³¨å†Œä¸€ä¸ªç›¸åº”çš„çª—å£å‡½æ•°ï¼Œçª—å£å‡½æ•°ç¨‹åºä»£ç å½¢å¼ä¸Šæ˜¯ä¸€ä¸ªå·¨å¤§çš„switch è¯­å¥ï¼Œç”¨ä»¥å¤„ç†ç”±æ¶ˆæ¯å¾ªç¯å‘é€åˆ°è¯¥çª—å£çš„æ¶ˆæ¯ï¼Œçª—å£å‡½æ•°ç”±Windows é‡‡ç”¨æ¶ˆæ¯é©±åŠ¨çš„å½¢å¼ç›´æ¥è°ƒç”¨ï¼Œè€Œä¸æ˜¯ç”±åº”ç”¨ç¨‹åºæ˜¾ç¤ºè°ƒç”¨çš„ï¼Œçª—å£å‡½æ•°å¤„ç†å®Œæ¶ˆæ¯ååˆå°†æ§åˆ¶æƒè¿”å›ç»™Windowsã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//è€Œçª—ä½“è´Ÿè´£å“åº”æ¶ˆæ¯çš„å‡½æ•°ç§°ä¸ºâ€œçª—ä½“è¿‡ç¨‹ï¼ˆWindow Procedureï¼‰â€ï¼Œçª—ä½“è¿‡ç¨‹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªçª—ä½“ä¸€ä¸ªï¼Œå®ƒå¤§è‡´æ‹¥æœ‰ä»¥ä¸‹çš„â€œæ¨¡æ ·â€ï¼ˆC++ä»£ç ï¼‰ï¼š</span><br><span class="line">LRESULT CALLBACK WindowProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)</span><br><span class="line"> &#123;</span><br><span class="line">     //â€¦â€¦</span><br><span class="line">     switch (uMsg) //ä¾æ®æ¶ˆæ¯æ ‡è¯†ç¬¦è¿›è¡Œåˆ†ç±»å¤„ç†</span><br><span class="line">     &#123;</span><br><span class="line">     case WM_CREATE:</span><br><span class="line">         // åˆå§‹åŒ–çª—ä½“.</span><br><span class="line">         return 0;</span><br><span class="line">     case WM_PAINT:</span><br><span class="line">         // ç»˜åˆ¶çª—ä½“</span><br><span class="line">         return 0;</span><br><span class="line">         //</span><br><span class="line">         //å¤„ç†å…¶ä»–æ¶ˆæ¯</span><br><span class="line">         //</span><br><span class="line">     default:</span><br><span class="line">         //å¦‚æœçª—ä½“æ²¡æœ‰å®šä¹‰å¤„ç†æ­¤ç§æ¶ˆæ¯çš„ä»£ç ï¼Œåˆ™è½¬å»è°ƒç”¨ç³»ç»Ÿé»˜è®¤çš„æ¶ˆæ¯å¤„ç†å‡½æ•°</span><br><span class="line">         return DefWindowProc(hwnd, uMsg, wParam, lParam);</span><br><span class="line">     &#125; </span><br><span class="line"> &#125;</span><br><span class="line"> //å¯ä»¥çœ‹åˆ°ï¼Œâ€œçª—ä½“è¿‡ç¨‹â€ä¸è¿‡å°±æ˜¯ä¸€ä¸ªå¤šåˆ†æ”¯è¯­å¥ç½¢äº†ï¼Œåœ¨è¿™ä¸ªè¯­å¥ä¸­ï¼Œçª—ä½“å¯¹ä¸åŒç±»å‹çš„æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</span><br></pre></td></tr></table></figure></li></ol><p>ä»¥ä¸Šå†…å®¹æ¥è‡ª<a href="https://blog.51cto.com/u_15080034/4353635"><strong>(æ•´ç†)window æ¶ˆæ¯ä¼ é€’æœºåˆ¶</strong></a><br>~äº‹å®ä¸Šï¼Œä¸Šè¿°å†…å®¹æˆ‘ä¹Ÿçœ‹çš„æ‡µæ‡‚ï¼Œå¤§æ¦‚å½“ä¸ªäº†è§£~</p><h2 id="Spy"><a href="#Spy" class="headerlink" title="Spy++"></a>Spy++</h2><p>Spy++ (SPYXX.EXE) æ˜¯ä¸€ä¸ªåŸºäº Win32 çš„å®ç”¨å·¥å…·ï¼Œå®ƒæä¾›ç³»ç»Ÿçš„è¿›ç¨‹ã€çº¿ç¨‹ã€çª—å£å’Œçª—å£æ¶ˆæ¯çš„å›¾å½¢è§†å›¾ã€‚ä½¿ç”¨ Spy++ å¯ä»¥æ‰§è¡Œä¸‹åˆ—æ“ä½œï¼š æ˜¾ç¤ºç³»ç»Ÿå¯¹è±¡ï¼ˆåŒ…æ‹¬è¿›ç¨‹ã€çº¿ç¨‹å’Œçª—å£ï¼‰ä¹‹é—´å…³ç³»çš„å›¾å½¢æ ‘ã€‚ æœç´¢æŒ‡å®šçš„çª—å£ã€çº¿ç¨‹ã€è¿›ç¨‹æˆ–æ¶ˆæ¯ã€‚ æŸ¥çœ‹é€‰å®šçš„çª—å£ã€çº¿ç¨‹ã€è¿›ç¨‹æˆ–æ¶ˆæ¯çš„å±æ€§ã€‚<br><img src="/article/b0ee38f7/img_4.png" alt="ä»‹ä¸ªå°±æ˜¯spyxx.exe"><br><img src="https://ss0.baidu.com/7Po3dSag_xI4khGko9WTAnF6hhy/exp/w=500/sign=7ba3254179cb0a4685228b395b62f63e/64380cd7912397ddd6145fbf5b82b2b7d0a28718.jpg" alt="spyxxç•Œé¢"></p><p>åç»­åœ¨æœ¬å®éªŒçš„åº”ç”¨ä¸Šï¼Œæˆ‘æ‹¿è¿™ä¸ªç”¨æ¥åœ¨åˆ›å»ºæ¨¡æ‹Ÿç‚¹å‡»äº‹ä»¶æ—¶çš„å®šä½çª—å£åæ ‡ã€‚</p><h2 id="Cheat-Engine"><a href="#Cheat-Engine" class="headerlink" title="Cheat Engine"></a>Cheat Engine</h2><p>Cheat Engineæ˜¯ä¸€æ¬¾ä¸“æ³¨äºæ¸¸æˆçš„ä¿®æ”¹å™¨ã€‚å®ƒå¯ä»¥ç”¨æ¥æ‰«ææ¸¸æˆä¸­çš„å†…å­˜ï¼Œå¹¶å…è®¸ä¿®æ”¹å®ƒä»¬ã€‚å®ƒè¿˜é™„å¸¦äº†è°ƒè¯•å™¨ã€åæ±‡ç¼–å™¨ã€æ±‡ç¼–å™¨ã€å˜é€Ÿå™¨ã€ä½œå¼Šå™¨ç”Ÿæˆã€Direct3Dæ“ä½œå·¥å…·ã€ç³»ç»Ÿæ£€æŸ¥å·¥å…·ç­‰ã€‚<br><img src="/article/b0ee38f7/img_5.png" alt="è¿™ä¸ªæ˜¯Cheat Engine"><br><img src="/article/b0ee38f7/img_6.png" alt="CEç•Œé¢"></p><p>é’ˆå¯¹æ¸¸æˆçš„ä¿®æ”¹å™¨/è¾…åŠ©å™¨/æˆ–ä½ å«å®ƒä»€ä¹ˆéƒ½å¥½ï¼Œæ€»ä¹‹è¦æƒ³è¾¾åˆ°ä½œå¼Šçš„æ•ˆæœï¼Œæœ€é‡è¦çš„å½“ç„¶æ˜¯è¦åˆ†æç ´è¯‘æ¸¸æˆå†…å­˜æ•°æ®æ‰€ä»£è¡¨çš„å«ä¹‰ï¼Œå¹¶èƒ½ç²¾å‡†å®šä½æ‰€è¦å®ç°ä¿®æ”¹çš„å†…å­˜å­˜æ”¾åœ°å€ï¼Œå› æ­¤åœ¨åç»­çš„æ“ä½œä¸­ï¼ŒCheat Engineæ‰®æ¼”äº†ååˆ†é‡è¦çš„è§’è‰²ã€‚</p><h2 id="Xenos"><a href="#Xenos" class="headerlink" title="Xenos"></a>Xenos</h2><p>ã€ŠXenosã€‹æ˜¯2007å¹´æ± æ³½è¾°ä¹Ÿæ‰§å¯¼çš„æ‚¬ç–‘ç‰‡ï¼Œç”±æµ·ä¸œé”®ã€ä¸€æˆ¸å¥ˆç¾ã€å €ç”°ã‚†ã„å¤ç­‰ä¸»æ¼”ã€‚<br><img src="/article/b0ee38f7/img_7.png" alt="Xenos"></p><font size="3">...å½“ç„¶ï¼Œä¸å¯èƒ½æ˜¯è¿™ä¸ª"Xenos"</font><p>æˆ‘ä»¬æ‰€è¦ä»‹ç»çš„Xenosï¼Œæ˜¯ç”¨æ¥è¿›è¡ŒDLLæ³¨å…¥çš„è½¯ä»¶ï¼Œé•¿è¿™æ ·ï¼š<br><img src="/article/b0ee38f7/img_8.png" alt="è¿™ä¸ªæ‰æ˜¯æ³¨å…¥å™¨Xenos"><br><img src="/article/b0ee38f7/img_9.png" alt="Xenosç•Œé¢"></p><p>è¿™ä¸ªå·¥å…·ï¼Œåˆ™æ˜¯å¸®åŠ©æˆ‘ä»¬å°†å†™å¥½çš„DLLç±»å‹æ–‡ä»¶å¯¹ç¨‹åºè¿›è¡Œæ³¨å…¥ã€‚</p><p>ä»¥ä¸Šï¼Œåˆ™æ˜¯æœ¬æ¬¡å®éªŒ/æœ¬ç±»å‹ä»»åŠ¡çš„åŸºæœ¬æ­å»ºç¯å¢ƒå’Œæ“ä½œå·¥å…·ï¼Œæ¥ä¸‹æ¥æ­£å¼è¿›å…¥å¯¹æœ¬å®éªŒçš„åˆ†æä¸å®è·µã€‚</p><h1 id="å®éªŒåˆ†æï¼šè®©ä¿ºçœ‹çœ‹æ‰«é›·èƒŒåéƒ½æœ‰å•¥"><a href="#å®éªŒåˆ†æï¼šè®©ä¿ºçœ‹çœ‹æ‰«é›·èƒŒåéƒ½æœ‰å•¥" class="headerlink" title="å®éªŒåˆ†æï¼šè®©ä¿ºçœ‹çœ‹æ‰«é›·èƒŒåéƒ½æœ‰å•¥"></a>å®éªŒåˆ†æï¼šè®©ä¿ºçœ‹çœ‹æ‰«é›·èƒŒåéƒ½æœ‰å•¥</h1><p>æ‘†çƒ‚äº†å°†è¿‘ä¸€ä¸ªæœˆç»ˆäºå¼€å§‹ç»§ç»­</p><h2 id="WinMine-XP-exe-æ¸¸æˆè§„åˆ™åˆ†æ"><a href="#WinMine-XP-exe-æ¸¸æˆè§„åˆ™åˆ†æ" class="headerlink" title="WinMine_XP.exe æ¸¸æˆè§„åˆ™åˆ†æ"></a>WinMine_XP.exe æ¸¸æˆè§„åˆ™åˆ†æ</h2><p><img src="/article/b0ee38f7/img_10.png" alt="æ‰«é›·æ¸¸æˆç•Œé¢"></p><ol><li>åä¸Šå«é›·æ•°ï¼ˆå‰©ä½™æ——ğŸš©æ•°ï¼‰æ˜¾ç¤ºï¼›</li><li>å³ä¸Šè§’è®¡æ—¶å™¨æ˜¾ç¤ºï¼šåˆå§‹ç‚¹å‡»é›·åŒºæŒ‰é’®è§¦å‘è®¡æ—¶ï¼Œç‚¹å‡»å……å€¼æŒ‰é’®è§¦å‘è®¡æ—¶å™¨é‡ç½®ï¼›</li><li>é›·åŒºæŒ‰é’®ï¼š<ul><li>å·¦å‡»ï¼šâ‘  æ˜¾ç¤ºè¯¥æŒ‰é’®ä¸‹å†…å®¹ï¼šæ•°å­—ï¼ˆ1ã€2â€¦ï¼‰ï¼šä»¥è¯¥æŒ‰é’®åæ ‡å‘¨å›´3*3ä¸ªå•ä½åæ ‡æŒ‰é’®ä¸‹å­˜åœ¨é›·çš„ä¸ªæ•°ï¼›â‘¡ é›·ï¼ˆè¢«å¼•çˆ†ï¼Œæ¸¸æˆç»“æŸï¼‰ï¼›</li><li>å³å‡»ï¼šâ‘  å•æœºï¼šæ’æ——ğŸš©ï¼ˆå½“ä¸”ä»…å½“åœ¨æ‰€æœ‰é›·éƒ½è¿›è¡Œæ’æ——æ’é›·åé€šå…³ï¼‰ï¼Œå ç”¨æ——æ•°ï¼›â‘¡ åŒå‡»ï¼šé—®å¥½ï¼Œä¸å ç”¨æ——æ•°ï¼Œç”¨äºä¸ªäººæ€€ç–‘è®°å½•ï¼›</li></ul></li><li>gameè®¾ç½®é€‰é¡¹ï¼š<br><img src="/article/b0ee38f7/img_11.png" alt="Gameè®¾ç½®ç•Œé¢"><br>å¯è®¾ç½®æ£‹ç›˜è§„æ ¼å¤§å°ï¼›å…¶ä¸­Customé€‰é¡¹å¯è¿›è¡Œè‡ªå®šä¹‰ï¼Œä¸”Height&lt;=24ï¼ŒWidth&lt;=30.<br><strong>æ³¨ï¼šåœ¨å¼€å§‹æ‰«é›·æ—¶å·¦å‡»çš„ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼Œå³ä½¿æ˜¯é›·ä¹Ÿä¼šç”±ç¨‹åºè‡ªåŠ¨å°†è¯¥åœ°å€çš„é›·è½¬ç§»åˆ°å…¶ä»–åœ°å€ï¼Œä¿è¯ç©å®¶ä¸ä¼šä¸Šæ¥å°±æŒ‚.</strong></li></ol><h2 id="å®ç°æ€è·¯åˆ†æ"><a href="#å®ç°æ€è·¯åˆ†æ" class="headerlink" title="å®ç°æ€è·¯åˆ†æ"></a>å®ç°æ€è·¯åˆ†æ</h2><p>è·å–æ£‹ç›˜é›·åŒºæ•°æ®å­˜å‚¨åœ°å€ï¼Œé€šè¿‡æ¨¡æ‹Ÿç‚¹å‡»äº‹ä»¶å¯¹é›·åŒºæ‰€æœ‰æŒ‰é’®è¿›è¡Œéå†ç‚¹å‡»ï¼Œå…¶ä¸­å¯¹å†…å­˜å­˜å‚¨æ•°å€¼å«ä¹‰ä¸ºé›·çš„è¿›è¡Œæ¨¡æ‹Ÿå³å‡»æ’æ——ï¼Œå…¶ä»–è¿›è¡Œå·¦å‡»æ’æŸ¥ï¼›é€šè¿‡è®¡æ—¶å™¨å­˜å‚¨æ•°å€¼åˆ¤æ–­æ£‹ç›˜æ•°æ®æ˜¯å¦é‡ç½®ã€‚</p><p>é€šè¿‡Spy++è·å–WinMine_XP.exeçª—å£å¥æŸ„ï¼š<br><img src="/article/b0ee38f7/img_12.png" alt="å¥æŸ„"><br>å…¶ä¸­<br>IpClassName: Minesweeper<br>IpWindowsName: Minesweeper</p><h2 id="é€šè¿‡Cheat-Engineè·å–çª—å£WinMine-XP-exeçª—å£å†…å­˜æ•°æ®ï¼Œå¹¶æŸ¥æ‰¾åˆ°æ£‹ç›˜å†…å­˜ç‚¹è¿›è¡Œæ•°æ®åˆ†æï¼š"><a href="#é€šè¿‡Cheat-Engineè·å–çª—å£WinMine-XP-exeçª—å£å†…å­˜æ•°æ®ï¼Œå¹¶æŸ¥æ‰¾åˆ°æ£‹ç›˜å†…å­˜ç‚¹è¿›è¡Œæ•°æ®åˆ†æï¼š" class="headerlink" title="é€šè¿‡Cheat Engineè·å–çª—å£WinMine_XP.exeçª—å£å†…å­˜æ•°æ®ï¼Œå¹¶æŸ¥æ‰¾åˆ°æ£‹ç›˜å†…å­˜ç‚¹è¿›è¡Œæ•°æ®åˆ†æï¼š"></a>é€šè¿‡Cheat Engineè·å–çª—å£WinMine_XP.exeçª—å£å†…å­˜æ•°æ®ï¼Œå¹¶æŸ¥æ‰¾åˆ°æ£‹ç›˜å†…å­˜ç‚¹è¿›è¡Œæ•°æ®åˆ†æï¼š</h2><p><img src="/article/b0ee38f7/img_13.png" alt><br>åˆ†ææ£‹ç›˜æ•°æ®ï¼ˆä»¥9*9æ£‹ç›˜ä¸ºä¾‹ï¼‰</p><ul><li>æ£‹ç›˜è§„æ ¼æ•°æ®ï¼š<br>Â· å®½åº¦æ•°æ®å­˜å‚¨åœ°å€ï¼šWidth=0x0100553;<br>Â· é•¿åº¦æ•°æ®å­˜å‚¨åœ°å€ï¼šHeight=0x0100553;<br><img src="/article/b0ee38f7/img_15.png" alt></li><li>é›·åŒºèµ·å§‹ç‚¹åœ°å€ï¼š0x01005361;</li><li>è®¡æ—¶å™¨æ•°æ®å­˜å‚¨åœ°å€ï¼š0x0100579C;</li><li>åœ°é›·å¸ƒå±€çš„å†…å­˜ä½ç½®ï¼š0x0100534;<br><img src="/article/b0ee38f7/img_14.png" alt></li><li>é›·åŒºæŒ‰é’®æ•°æ®ï¼š<br>Â· 10ï¼šæ£‹ç›˜è¾¹ç•Œï¼›<br>Â· 0Fï¼šæ— é›·ä¸”æœªç‚¹å‡»ï¼›<br>Â· 8Fï¼šæœ‰é›·ä¸”æœªç‚¹å‡»ï¼›<br>Â· 0Eï¼šæ— é›·æ’æ——ï¼›<br>Â· 8Eï¼šæœ‰é›·æ’æ——ï¼›<br>Â· CCï¼šç‚¹å‡»å¼•çˆ†ï¼›</li></ul><h2 id="é€šè¿‡spy-è·å–é›·åŒºæŒ‰é’®åæ ‡ç›¸å…³ä¿¡æ¯"><a href="#é€šè¿‡spy-è·å–é›·åŒºæŒ‰é’®åæ ‡ç›¸å…³ä¿¡æ¯" class="headerlink" title="é€šè¿‡spy++è·å–é›·åŒºæŒ‰é’®åæ ‡ç›¸å…³ä¿¡æ¯"></a>é€šè¿‡spy++è·å–é›·åŒºæŒ‰é’®åæ ‡ç›¸å…³ä¿¡æ¯</h2><p><img src="/article/b0ee38f7/img_16.png" alt><br>æŒ‰é’®åæ ‡ï¼ˆ1ï¼Œ1ï¼‰ä¸­å¿ƒå¯¹åº”ä¸²é’©åæ ‡çº¦ä¸ºï¼ˆ20ï¼Œ63ï¼‰ï¼Œä¸”ç›¸é‚»ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´çš„çª—å£åæ ‡å·®å€¼çº¦ä¸º16ä¸ªå•ä½é•¿åº¦ã€‚</p><h1 id="ç¼–ç¨‹å®ç°"><a href="#ç¼–ç¨‹å®ç°" class="headerlink" title="ç¼–ç¨‹å®ç°"></a>ç¼–ç¨‹å®ç°</h1><h2 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h2><p>LRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LRESULT CALLBACK <span class="title">WindowProc</span><span class="params">(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    PBYTE t = (PBYTE)<span class="number">0x0100579C</span>;</span><br><span class="line">    <span class="comment">//char szChar[20];</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å¯¹ä¸åŒçª—å£ä¿¡æ¯ä¼ é€è¿›è¡Œå¯¹åº”æ“ä½œæŒ‡ä»¤</span></span><br><span class="line">    <span class="keyword">switch</span> (uMsg)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment">//è¾“å…¥ä»»æ„å­—ç¬¦å®ç°ä¸€é”®é€šå…³</span></span><br><span class="line">    <span class="keyword">case</span> WM_CHAR:</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (*t == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å†…å­˜åœ°å€</span></span><br><span class="line">            PBYTE m = (PBYTE)<span class="number">0x01005361</span>;</span><br><span class="line">            PBYTE w = (PBYTE)<span class="number">0x01005334</span>;</span><br><span class="line">            PBYTE h = (PBYTE)<span class="number">0x01005338</span>;</span><br><span class="line">            <span class="type">int</span> x = <span class="number">20</span>, y = <span class="number">63</span>, n = <span class="number">1</span>, q = <span class="number">1</span>;  <span class="comment">//åæ ‡</span></span><br><span class="line">            <span class="comment">//é›·åŒºæŒ‰é’®éå†</span></span><br><span class="line">            <span class="keyword">while</span> (x &lt;= <span class="number">20</span> + *w * <span class="number">16</span> &amp;&amp; y &lt;= <span class="number">63</span> + (*h - <span class="number">1</span>) * <span class="number">16</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (q &gt; *h)</span><br><span class="line">                    y = <span class="number">63</span>;</span><br><span class="line">                <span class="keyword">if</span> (n &gt; *w)</span><br><span class="line">                &#123;</span><br><span class="line">                    x = <span class="number">20</span>;</span><br><span class="line">                    y += <span class="number">16</span>;</span><br><span class="line">                    n = <span class="number">1</span>;</span><br><span class="line">                    m += <span class="number">32</span> - *w;</span><br><span class="line">                    q++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (*m != <span class="number">143</span>)  <span class="comment">//éé›·åˆ™å·¦å‡»</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">SendMessage</span>(hwnd, WM_LBUTTONDOWN, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">                    <span class="built_in">SendMessage</span>(hwnd, WM_LBUTTONUP, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">else</span>  <span class="comment">//é›·åˆ™å³å‡»</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">SendMessage</span>(hwnd, WM_RBUTTONDOWN, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">                    <span class="built_in">SendMessage</span>(hwnd, WM_RBUTTONUP, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å®Œæˆè¯¥æŒ‰é’®æ“ä½œåç§»åŠ¨è‡³ä¸‹ä¸€æŒ‰é’®åæ ‡å¤„</span></span><br><span class="line">                x += <span class="number">16</span>;</span><br><span class="line">                n++;</span><br><span class="line">                m++;</span><br><span class="line">            &#125;</span><br><span class="line">            x = <span class="number">20</span>;</span><br><span class="line">            y = <span class="number">63</span>;</span><br><span class="line">            <span class="built_in">SendMessage</span>(hwnd, WM_LBUTTONDOWN, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">            <span class="built_in">SendMessage</span>(hwnd, WM_LBUTTONUP, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">CallWindowProc</span>((WNDPROC)OPROC, hwnd, uMsg, wParam, lParam);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol><li>æ•°æ®åœ°å€å®šä¹‰ï¼š<br>Â· PBYTE t: è®¡æ—¶å™¨æ•°æ®å­˜å‚¨åœ°å€ï¼›<br>Â· PBYTE m: é›·åŒºæŒ‰é’®èµ·å§‹ç‚¹åœ°å€ï¼›<br>Â· PBYTE w: é›·åŒºå®½åº¦æ•°æ®å­˜å‚¨åœ°å€ï¼›<br>Â· PBYTE h: é›·åŒºé•¿åº¦æ•°æ®å­˜å‚¨åœ°å€ï¼›</li><li>åæ ‡å®šä¹‰ï¼š<br>Â· x,y: çª—å£åæ ‡ï¼›<br>Â· n,q: æŒ‰é’®åæ ‡ï¼›</li><li>Switch(uMsg): å¯¹ä¸åŒçª—å£ä¿¡æ¯ä¼ é€è¿›è¡Œå¯¹åº”æ“ä½œæŒ‡ä»¤ï¼ˆåœ¨æ­¤é€‰æ‹©é€šè¿‡ä»é”®ç›˜è¾“å…¥ä»»æ„å­—ç¬¦å®ç°ä¸€é”®é€šå…³æŒ‡ä»¤ï¼‰</li><li>while(x &lt;= 20 + w <em> 16 &amp;&amp; y &lt;= 63 + (</em>h - 1) * 16): å¯¹é›·åŒºæŒ‰é’®è¿›è¡Œéå†ï¼›<br>Â· if æ­¤æŒ‰é’®åæ ‡ï¼ˆn,qï¼‰ä¸‹æ•°æ®m!=143ï¼ˆ8Fï¼‰æ—¶ï¼Œå¯¹è¯¥æŒ‰é’®åæ ‡ï¼ˆxï¼Œyï¼‰æ¨¡æ‹Ÿé¼ æ ‡å·¦å‡»äº‹ä»¶ï¼›<br>Â· else å¯¹è¯¥æŒ‰é’®çª—å£åæ ‡ï¼ˆx,yï¼‰æ¨¡æ‹Ÿé¼ æ ‡å³å‡»äº‹ä»¶<br>Â· å®Œæˆè¯¥æŒ‰é’®æ“ä½œåè¿›è¡Œåæ ‡ç§»åŠ¨</li><li>*t==0æ—¶ï¼ˆæ£‹ç›˜é‡ç½®ï¼‰é‡å¤ä¸Šè¿°æ“ä½œï¼›</li></ol><p><strong>ç¬”è®°ï¼š</strong></p><ul><li><strong>åŒåˆ—ç›¸é‚»è¡Œé—´åœ°å€å·®æ¨ç®—ï¼šaddress+32-widthï¼›</strong> </li><li><strong>æ£‹ç›˜é‡ç½®å¯é€šè¿‡ * pçš„å€¼ä½œä¸ºæ¡ä»¶ï¼Œæ£‹ç›˜é‡ç½®åéœ€è¦å°†åœ°å€æŒ‡é’ˆåŠåæ ‡æ‚‰æ•°é‡ç½®ï¼›</strong></li><li><strong>è‹¥æœ¬æ¬¡å¸ƒé›·ï¼Œåœ¨ï¼ˆ1ï¼Œ1ï¼‰å³ä¸ºé›·æ—¶ï¼Œç”±äºç¨‹åºå¯¹å†…å­˜æ•°æ®çš„è®¿é—®é™åˆ¶ä¼šä½¿ç¬¬ä¸€æ¬¡çš„æ¨¡æ‹Ÿç‚¹å‡»è·³è¿‡ï¼Œéœ€åœ¨éå†åè¡¥å……ä¸€æ¬¡å¯¹ï¼ˆ1ï¼Œ1ï¼‰æŒ‰é’®çš„å·¦å‡»ã€‚</strong></li></ul><h2 id="æ³¨å…¥å‡½æ•°"><a href="#æ³¨å…¥å‡½æ•°" class="headerlink" title="æ³¨å…¥å‡½æ•°"></a>æ³¨å…¥å‡½æ•°</h2><p>void injected()<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">injected</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">MessageBoxA</span>(<span class="literal">nullptr</span>, <span class="string">&quot;injected&quot;</span>, <span class="string">&quot;title&quot;</span>, MB_OK);</span><br><span class="line">    HWND OW = <span class="built_in">FindWindowA</span>(<span class="string">&quot;Minesweeper&quot;</span>, <span class="string">&quot;Minesweeper&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!OW)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">MessageBoxA</span>(<span class="literal">nullptr</span>, <span class="string">&quot;find window failed&quot;</span>, <span class="string">&quot;Failed&quot;</span>, MB_OK);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    OPROC = <span class="built_in">SetWindowLong</span>(OW, GWL_WNDPROC, (LONG)WindowProc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å…¥å£ç‚¹å‡½æ•°"><a href="#å…¥å£ç‚¹å‡½æ•°" class="headerlink" title="å…¥å£ç‚¹å‡½æ•°"></a>å…¥å£ç‚¹å‡½æ•°</h2><p>BOOL APIENTRY DllMain(HMODULE hModule, DWORD  ul_reason_for_call, LPVOID lpReserved)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL APIENTRY <span class="title">DllMain</span><span class="params">(HMODULE hModule,</span></span></span><br><span class="line"><span class="params"><span class="function">    DWORD  ul_reason_for_call,</span></span></span><br><span class="line"><span class="params"><span class="function">    LPVOID lpReserved</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (ul_reason_for_call)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> DLL_PROCESS_ATTACH:</span><br><span class="line">        <span class="built_in">injected</span>();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> DLL_THREAD_ATTACH:</span><br><span class="line">    <span class="keyword">case</span> DLL_THREAD_DETACH:</span><br><span class="line">    <span class="keyword">case</span> DLL_PROCESS_DETACH:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h1><h2 id="æ³¨å…¥æµ‹è¯•"><a href="#æ³¨å…¥æµ‹è¯•" class="headerlink" title="æ³¨å…¥æµ‹è¯•"></a>æ³¨å…¥æµ‹è¯•</h2><p>é€šè¿‡Xenosæ³¨å…¥ï¼š<br><img src="/article/b0ee38f7/img_17.png" alt><br>æ¥æ”¶åˆ°æ³¨å…¥å‡½æ•°ä¸­è®¾å®šçš„æ³¨å…¥æˆåŠŸçš„MessageBox;</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=686304538&bvid=BV1SU4y1e733&cid=783764201&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><h2 id="é—®é¢˜åŠè§£å†³"><a href="#é—®é¢˜åŠè§£å†³" class="headerlink" title="é—®é¢˜åŠè§£å†³"></a>é—®é¢˜åŠè§£å†³</h2><ol><li>æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼š<br>SendMessage()å‡½æ•°ï¼›<br>å‚è€ƒï¼š<a href="https://wenku.baidu.com/view/b71d76a1ef3a87c24028915f804d2b160b4e8665.html"><strong>å¦‚ä½•ä½¿ç”¨Sendmessageæ¨¡æ‹ŸæŸä¸€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶</strong> - <em>ç™¾åº¦æ–‡åº“</em></a></li><li>ç”±äºæ‰«é›·ç¨‹åºå¯¹ç¬¬ä¸€æ¬¡å·¦å‡»ä¸è§¦é›·çš„è®¾å®šï¼Œè‡´ä½¿åœ¨æµ‹è¯•ä¸­å‡ºç°ç¬¬ä¸€ä¸ªæŒ‰é’®æœªè¢«æ‰§è¡Œç‚¹å‡»çš„æƒ…å†µï¼šåœ¨éå†åè¡¥å……å¯¹ç¬¬ä¸€ä¸ªæŒ‰é’®çš„æ— å·®åˆ«ç‚¹å‡»ã€‚</li></ol><h1 id="ç¯‡æœ«BB"><a href="#ç¯‡æœ«BB" class="headerlink" title="ç¯‡æœ«BB"></a>ç¯‡æœ«BB</h1><p>äº‹å®ä¸Šè¿™ä¸ªå¤–æŒ‚è¾…åŠ©çš„å®ç°æœ‰è®¸å¤šä¸åŒä¸­çš„æ€è·¯ï¼Œæˆ‘ä¸èƒ½ç¡®ä¿è‡ªå·±é€‰æ‹©çš„æ˜¯æœ€å·§å¦™çš„ä½†æ˜¯æˆ‘æ‰€å”¯ä¸€èƒ½æ“ä½œå®ç°çš„ã€‚<br>åœ¨å¤§é‡è¾…åŠ©å·¥å…·çš„å¸®åŠ©ä¸‹å¯¹ç›®æ ‡ç¨‹åºçš„å†…å­˜åˆ†æååˆ†ç®€å•ä¸”ä¾¿æ·ã€‚<br>ä¸ªäººè®¤ä¸ºæœ¬æ¬¡å®éªŒçš„å›°éš¾åŒ…æ‹¬ä½†ä¸é™äºå¯¹å†…å­˜æ•°æ®çš„åˆ†æä¸åˆ©ç”¨ï¼Œè™½ç„¶èƒ½<del>ç…§æœ¬å®£ç§‘åœ°</del>ä½¿ç”¨Spy++/CE/Xenosç­‰ï¼Œä½†æˆ‘å¹¶æœªèƒ½åˆ©ç”¨å¥½PeiDå·¥å…·ï¼Œæˆ–è®¸å› ä¸ºäººé”™è¿‡äº†æ›´ä¸ºä¾¿æ·çš„ä¿¡æ¯è·å–ä¸åˆ†æé€”å¾„ã€‚<br>æ€»è€Œè¨€ä¹‹ï¼Œè™½ç„¶â€œç‹¬ç«‹â€å®Œæˆäº†æ‰«é›·å¤–æŒ‚çš„ç¼–ç¨‹å®ç°æ˜¯æå…·æ»¡è¶³æ„Ÿçš„ï¼Œä½†æˆ–ä»¥æ›´å¤šçš„æ˜¯åœ¨å¯¹è¾…åŠ©å·¥å…·çš„è®¤è¯†ä¸ä½¿ç”¨ä¸Šï¼Œäºæ˜¯æ›´æœŸå¾…ä¹‹åèƒ½å¤Ÿæ›´ç†Ÿç»ƒè¿ç”¨è¿™äº›å·¥å…·ï¼Œåšå‡ºæ›´å¯æ‹·/å¯åˆ‘çš„å·¥ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œæ”»é˜² </category>
          
          <category> å®éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> binary </tag>
            
            <tag> DLL </tag>
            
            <tag> å¤–æŒ‚ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[äººå·¥æ™ºèƒ½]n-Queensçš„å¤šç§ç®—æ³•é¢˜è§£</title>
      <link href="/article/6703afdf/"/>
      <url>/article/6703afdf/</url>
      
        <content type="html"><![CDATA[<h1 id="ç›¸å…³å¨å¨8çš‡åé—®é¢˜ä¸nçš‡åé—®é¢˜">ç›¸å…³å¨å¨ï¼š8çš‡åé—®é¢˜ä¸nçš‡åé—®é¢˜</h1><p>å…«çš‡åé—®é¢˜ï¼ˆè‹±æ–‡ï¼šEightqueensï¼‰ï¼Œæ˜¯ç”±å›½é™…è±¡æ£‹æ£‹æ‰‹é©¬å…‹æ–¯Â·è´ç‘Ÿå°”äº1848å¹´æå‡ºçš„é—®é¢˜ï¼Œæ˜¯å›æº¯ç®—æ³•çš„å…¸å‹æ¡ˆä¾‹ã€‚é—®é¢˜è¡¨è¿°ä¸ºï¼šåœ¨8Ã—8æ ¼çš„å›½é™…è±¡æ£‹ä¸Šæ‘†æ”¾8ä¸ªçš‡åï¼Œä½¿å…¶ä¸èƒ½äº’ç›¸æ”»å‡»ï¼Œå³ä»»æ„ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šï¼Œé—®æœ‰å¤šå°‘ç§æ‘†æ³•ã€‚ä¸‹å›¾æ˜¯å…«çš‡åé—®é¢˜çš„ä¸€ä¸ªè§£ï¼Œå¯ä»¥ç”¨å‘é‡è¡¨ç¤ºä¸ºï¼š[f, d, g, a, h, b, e,c]ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯è¡Œçš„çš‡åä½ç½®ï¼ˆåˆ—å·ï¼‰ã€‚ <img src="https://i.postimg.cc/PJnPNvxZ/image.png" alt="å…«çš‡åé—®é¢˜çš„ä¸€ä¸ªè§£"></p><p>å®éªŒæ‹Ÿé¢˜æ¥è‡ªäº <strong>ä¸­å›½æµ·æ´‹å¤§å­¦ äººå·¥æ™ºèƒ½å…ˆå¯¼å®è·µlab03ï¼šæ¯”ç‰¹åŒ å¿ƒ&amp;æ¨¡æ‹Ÿé€€ç«</strong> <em>-by å¾å»ºè‰¯</em></p><h1 id="n-queenså¤šç§è§£é¢˜æ–¹æ³•æ€è·¯">n-queenså¤šç§è§£é¢˜æ–¹æ³•æ€è·¯</h1><h2 id="å›æº¯ä¸8çš‡å">å›æº¯ä¸8çš‡å</h2><p>â€œå›æº¯æ³•ï¼ˆbacktrackingï¼‰ï¼ˆæ¢ç´¢ä¸å›æº¯æ³•ï¼‰æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼Œåˆç§°ä¸ºè¯•æ¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚ä½†å½“æ¢ç´¢åˆ°æŸä¸€æ­¥æ—¶ï¼Œå‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ï¼Œè¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ä¸ºå›æº¯æ³•ï¼Œè€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸ºâ€œå›æº¯ç‚¹â€ã€‚â€œå°±æ˜¯è¯´ï¼Œå›æº¯æ³•å¯ä»¥ç†è§£ä¸ºé€šè¿‡é€‰æ‹©ä¸åŒçš„å²”è·¯å£å¯»æ‰¾ç›®çš„åœ°ï¼Œä¸€ä¸ªå²”è·¯å£ä¸€ä¸ªå²”è·¯å£çš„å»å°è¯•æ‰¾åˆ°ç›®çš„åœ°ã€‚å¦‚æœèµ°é”™äº†è·¯ï¼Œç»§ç»­è¿”å›æ¥æ‰¾åˆ°å²”è·¯å£çš„å¦ä¸€æ¡è·¯ï¼Œç›´åˆ°æ‰¾åˆ°ç›®çš„åœ°ã€‚è€Œå¯¹äºè§£å†³å…«çš‡åé—®é¢˜ï¼Œä»¥æ·±åº¦ä¼˜å…ˆçš„å›æº¯æ³•ä½œä¸ºæœ€åŸºç¡€çš„æ€è·¯ï¼Œæœ‰å¦‚ä¸‹åº”ç”¨ï¼šstep1. å°è¯•å…ˆæ”¾ç½®ç¬¬ä¸€æšçš‡åï¼Œè¢«æ¶‚é»‘çš„åœ°æ–¹æ˜¯ä¸èƒ½æ”¾çš‡å<img src="https://pic3.zhimg.com/80/v2-bde25f03b5a86cc6ca47ee03fd171c9e_720w.jpg">step2. ç¬¬äºŒè¡Œçš„çš‡ååªèƒ½æ”¾åœ¨ç¬¬ä¸‰æ ¼æˆ–ç¬¬å››æ ¼ï¼Œæ¯”æ–¹æˆ‘ä»¬æ”¾ç¬¬ä¸‰æ ¼ï¼Œåˆ™ï¼š<img src="https://pic2.zhimg.com/80/v2-40654679a56af2cd9282b9ae60d4c641_720w.jpg">step3.å¯ä»¥çœ‹åˆ°å†éš¾ä»¥æ”¾ä¸‹ç¬¬ä¸‰ä¸ªçš‡åï¼Œæ­¤æ—¶æˆ‘ä»¬å°±è¦ç”¨åˆ°å›æº¯ç®—æ³•äº†ã€‚æˆ‘ä»¬æŠŠç¬¬äºŒä¸ªçš‡åæ›´æ”¹ä½ç½®ï¼Œæ­¤æ—¶æˆ‘ä»¬èƒ½æ”¾ä¸‹ç¬¬ä¸‰æšçš‡åäº†ã€‚<img src="https://pic1.zhimg.com/80/v2-b810b81e8843c11e30e62277ddde1b4c_720w.jpg">step4.è™½ç„¶æ˜¯èƒ½æ”¾ç½®ç¬¬ä¸‰ä¸ªçš‡åï¼Œä½†æ˜¯ç¬¬å››ä¸ªçš‡ååˆæ— è·¯å¯èµ°äº†ã€‚è¿”å›ä¸Šå±‚è°ƒç”¨ï¼ˆ3å·çš‡åï¼‰ï¼Œè€Œ3å·ä¹Ÿåˆ«æ— å¯å»ï¼Œç»§ç»­å›æº¯ä¸Šå±‚è°ƒç”¨ï¼ˆ2å·ï¼‰ï¼Œ2å·å·²ç„¶æ— è·¯å¯å»ï¼Œç»§ç»­å›æº¯ä¸Šå±‚ï¼ˆ1å·ï¼‰ï¼Œäºæ˜¯1å·çš‡åæ”¹å˜ä½ç½®å¦‚ä¸‹ï¼Œç»§ç»­å›æº¯ã€‚<img src="https://pic2.zhimg.com/80/v2-a22c5c4152b4b8b488555be294837f39_720w.jpg">ä»¥ä¸Šå†…å®¹å¼•è‡ª <a href="https://zhuanlan.zhihu.com/p/54275352"><strong>å°ç™½å¸¦ä½ å­¦---å›æº¯ç®—æ³•ï¼ˆBackTracking)</strong> <em>-çŸ¥ä¹ <span class="citation" data-cites="å°ç™½ç®—æ³•">@å°ç™½ç®—æ³•</span></em></a></p><p>ä¸‹é¢æˆ‘ä»¬å°±å»ºç«‹åœ¨è¿™ä¸€æœ€åŸºç¡€çš„ç®—æ³•æ€è·¯ä¸Šï¼Œè¿ç”¨ä¸åŒçš„è¿›é˜¶ç®—æ³•è§£å†³Né˜¶çš‡åé—®é¢˜ï¼Œä¸”ä¸æ–­ä¼˜åŒ–ã€‚</p><h2 id="åˆ©ç”¨å“ˆå¸Œè¡¨é™ç»´è¿›è¡Œåˆæ¢">åˆ©ç”¨å“ˆå¸Œè¡¨é™ç»´è¿›è¡Œåˆæ¢</h2><h3 id="ç®—æ³•è¯´æ˜">ç®—æ³•è¯´æ˜</h3><p>è¿™ä¸ªé¢˜è§£ä»…ä»…æ˜¯å»ºç«‹åœ¨å¯¹è¯¥é—®é¢˜çš„æ¢ç´¢ä¸æ€è€ƒä¸Šï¼Œå¹¶æ— â€œåˆ›æ–°â€æŠ‘æˆ–â€œä¼˜åŒ–â€å¯è¨€ï¼ŒåŸºäºæœ€æš´åŠ›ä¸”æœ´ç´ çš„é™ç»´æ€è·¯ï¼Œä¸æ–­å°è¯•ä»ä¸­æ‰¾å‡ºè§„å¾‹ã€å†è€ƒè™‘ä¼˜åŒ–ã€‚### äºŒç»´å“ˆå¸Œè¡¨ Â· å®ç°è¿‡ç¨‹ï¼š 1.å»ºç«‹äºŒç»´æ•°ç»„ï¼Œå°†æ£‹ç›˜å¸ƒå±€é€šè¿‡æ•°ç»„æ¨¡æ‹Ÿå ä½ä¿¡æ¯ã€‚å…¶ä¸­å¦å¤–é€šè¿‡å¼€è¾Ÿæ•°ç»„åˆ†åˆ«å­˜å‚¨åˆ—å†²çªã€å·¦æ–œå†²çªã€å’Œå³æ–œå†²çªçš„ä¿¡æ¯ã€‚2. è®¾ç½®å›æº¯å‡½æ•°ï¼Œç»Ÿè®¡è¯¥è¡Œä¸‹ç©ºä½™ä¸”ä¸å†²çªå¯æ”¾ç½®çš‡åçš„ä½ç½®ï¼›-&gt;æ›´æ–°å¹¶è®¡ç®—ä½ç½®å ç”¨æƒ…å†µï¼›-&gt;è‹¥æœ‰ç©ºä½™ä½ç½®ï¼Œåˆ™ä»å³èµ·å¯¹æ¯ä¸€ä½ç½®ä¾æ¬¡è¿›è¡Œå›æº¯è¯•æ¢ï¼›-&gt;è¿›å…¥ä¸‹ä¸€è¡Œçš„è¯•æ¢ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢æ­£ç¡®è§£ï¼Œåªè¦é‡åˆ°æ— ç©ºä½å¯æ”¾ç½®ï¼Œåˆ™é€å±‚å‘ä¸Šå›æº¯ï¼Œè‡³å­˜åœ¨ç©ºä½çš„è¡Œï¼›-&gt;ä¾æ¬¡å¯¹è¯¥è¡Œå­˜åœ¨çš„å¯æ”¾ç½®ç©ºä½è¿›è¡Œéå†è¯•æ¢ï¼Œå¹¶å¯¹è¯•æ¢å¤±è´¥çš„ç©ºä½è¿›è¡Œæ’é™¤ï¼›-&gt;è®°å½•å¯è¡Œè§£çš„ä¸ªæ•°ã€‚ 3. å›æº¯å‡½æ•°éƒ¨åˆ†ä»£ç å¦‚ä¸‹ <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span>** hash, <span class="type">int</span> rowp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æ³¨é‡Šç•¥</span></span><br><span class="line"><span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (rowp == n)</span><br><span class="line">&#123;</span><br><span class="line">num++;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (hash[rowp][i] == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (i == n - <span class="number">1</span> &amp;&amp; hash[rowp][i] == <span class="number">0</span>)</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span>** temp = <span class="keyword">new</span> <span class="type">int</span>* [n - rowp - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - rowp - <span class="number">1</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">temp[i] = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">temp[i][j] = hash[rowp + i + <span class="number">1</span>][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"><span class="keyword">if</span> (hash[rowp][i])</span><br><span class="line">&#123;</span><br><span class="line">hash[rowp][i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> down = rowp + <span class="number">1</span>, l = i - <span class="number">1</span>, r = i + <span class="number">1</span>;down &lt; n;down++, l--, r++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (l &gt;= <span class="number">0</span>)</span><br><span class="line">hash[down][l] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (r &lt; n)</span><br><span class="line">hash[down][r] = <span class="number">0</span>;</span><br><span class="line">hash[down][i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">dfs2</span>(hash, rowp + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> m = <span class="number">0</span>;m &lt; n - rowp - <span class="number">1</span>;m++)</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> h = <span class="number">0</span>;h &lt; n;h++)</span><br><span class="line">hash[rowp + m + <span class="number">1</span>][h] = temp[m][h];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> Â· å°ç»“å¯¹äºn-queensé—®é¢˜æ¢ç´¢å¯è¡Œè§£è¿‡ç¨‹ï¼Œè‹¥nå–å€¼è¾ƒå°æ—¶è¾ƒä¸ºè¿…é€Ÿï¼Œä¸”å†…å­˜æƒ…å†µè¿˜ç®—å‹‰å¼ºï¼Œä½†å¯¹äº8çš‡åã€16çš‡åã€ç”šè‡³100çš‡åé—®é¢˜çš„æ±‚è§£ï¼Œä¼šå ç”¨å¤§é‡å†…å­˜ï¼Œä¸ä»…æ‰§è¡Œè¿‡ç¨‹æå…¶ç¼“æ…¢ï¼Œä¸”å®¹æ˜“å¯¼è‡´è§¦å‘ç¨‹åºæ–­ç‚¹ã€æˆ–æ˜¯æº¢å‡ºé—®é¢˜ã€‚å› è€Œå¼•å‡ºå¦‚ä¸‹é€æ¸é™ç»´çš„å®ç°è¿‡ç¨‹ã€‚</p><h3 id="ä¸€ç»´å“ˆå¸Œè¡¨">ä¸€ç»´å“ˆå¸Œè¡¨</h3><p>Â· å®ç°ï¼š 1.ä¸ºäº†å‡å°‘å†…å­˜å‹åŠ›ï¼Œé€šè¿‡å°†äºŒè¿›åˆ¶æ•°çš„ä½è¿ç®—ä¸æ•°ç»„è¿›è¡Œç»“åˆï¼Œç”¨nä¸ªäºŒè¿›åˆ¶æ•°è®°å½•è¡Œä¸­å¯æ”¾ç½®ä½ç½®ï¼Œå¹¶å°†ä¹‹å­˜æ”¾åœ¨ä¸€ç»´æ•°ç»„ä¸­ï¼›2. æ€è·¯ä¸ä¸Šå¤§è‡´ç›¸åŒï¼Œä¸å†èµ˜è¿°ã€‚ 3. ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span>* hash, <span class="type">int</span> rowp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æ³¨é‡Šç•¥</span></span><br><span class="line"><span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (rowp == n)</span><br><span class="line">&#123;</span><br><span class="line">num++;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (hash[rowp])</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> p = hash[rowp] &amp; -hash[rowp];</span><br><span class="line"><span class="type">int</span> position = <span class="built_in">log</span>(p) / <span class="built_in">log</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">/*int position = p == 1 ? 0 : pow(p, 0.5);*/</span></span><br><span class="line">hash[rowp] -= p;</span><br><span class="line"><span class="type">int</span>* temp = <span class="keyword">new</span> <span class="type">int</span>[n - rowp - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - rowp - <span class="number">1</span>;i++)</span><br><span class="line">temp[i] = hash[rowp + i + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> down = rowp + <span class="number">1</span>, l = <span class="number">1</span>, r = <span class="number">1</span>;down &lt; n;down++, l++, r++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (l &lt; n - position)</span><br><span class="line">left = left + p &lt;&lt; l;</span><br><span class="line"><span class="keyword">if</span> (r &lt;= position)</span><br><span class="line">right = right + p &gt;&gt; r;</span><br><span class="line">hash[down] = hash[down] &amp; ~(left | right | p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; rowp &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; bitset&lt;6&gt;(hash[i]) &lt;&lt; endl;*/</span></span><br><span class="line"><span class="built_in">dfs1</span>(hash, rowp + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> m = <span class="number">0</span>;m &lt; n - rowp - <span class="number">1</span>;m++)</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> h = <span class="number">0</span>;h &lt; n;h++)</span><br><span class="line">hash[rowp + m + <span class="number">1</span>] = temp[m];</span><br><span class="line"><span class="keyword">delete</span>[]temp;</span><br><span class="line">&#125; <span class="keyword">while</span> (hash[rowp]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> Â· å°ç»“ï¼šç›¸è¾ƒèµ·äºŒç»´æ•°ç»„ï¼Œæ•ˆç‡ä»…ä»…æé«˜äº†ä¸€ç‚¹ç‚¹ï¼Œå†…å­˜å ç”¨æƒ…å†µä»ä¸å¤Ÿç¾è§‚ï¼Œé‚è€ƒè™‘å‹ç¼©è‡³0ç»´å“ˆå¸Œï¼Œå³ä»…ä½¿ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ¥å­˜å‚¨å…¨éƒ¨å ä½ä¿¡æ¯å¹¶è¿›è¡Œå›æº¯ã€‚</p><h2 id="ä½è¿ç®—è§£æ³•0ç»´å“ˆå¸Œè¡¨">ä½è¿ç®—è§£æ³•ï¼ˆ0ç»´å“ˆå¸Œè¡¨ï¼‰</h2><h3 id="ä½è¿ç®—">ä½è¿ç®—</h3><p>ä½è¿ç®—ä¸ä½è¿ç®—ç¬¦ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> a = <span class="number">60</span>;   <span class="comment">//60 = 0011 1100</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> b = <span class="number">13</span>;   <span class="comment">//13 = 0000 1101</span></span><br><span class="line"><span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line">c = a &amp; b;             <span class="comment">//12 = 0000 1100 æŒ‰ä½ä¸</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Line 1 - Value of c is: &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">c = a | b;             <span class="comment">//61 = 0011 1101 æŒ‰ä½æˆ–</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Line 2 - Value of c is: &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">c = a ^ b;             <span class="comment">//49 = 0011 0001 å¼‚æˆ–</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Line 3 - Value of c is: &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">c = ~a;                <span class="comment">//-61 = 1100 0011 æŒ‰ä½å–å</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Line 4 - Value of c is: &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">c = a &lt;&lt; <span class="number">2</span>;            <span class="comment">//240 = 1111 0000 ä½å·¦ç§»</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Line 5 - Value of c is: &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">c = a &gt;&gt; <span class="number">2</span>;            <span class="comment">//15 = 0000 1111 ä½å³ç§»</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Line 6 - Value of c is: &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br></pre></td></tr></table></figure> ### n-queensä¸ä½è¿ç®— 1.æ€è·¯è¯´æ˜ï¼ˆä»¥8çš‡åä¸ºä¾‹ï¼‰é¦–å…ˆï¼Œæˆ‘ä»¬çš„åŸºæœ¬æ€è·¯ä¸ä¼ ç»Ÿä¸€æ ·ï¼Œæ¯ä¸€è¡Œåªèƒ½æ”¾å¹¶ä¸”å¿…é¡»æ”¾ä¸€ä¸ªçš‡åã€‚æ¯æ¬¡æ”¾ç½®ä¸€ä¸ªçš‡åä¹‹åï¼Œå®ƒå°±ä¼šå¯¹åé¢æ‰€æœ‰è¡Œä¸­ï¼Œå¯èƒ½æ”¾ç½®çš‡åçš„ä½ç½®äº§ç”Ÿå½±å“ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å·²ç»æ”¾ç½®äº†ä¸‰ä¸ªçš‡åQ1ï¼ŒQ2ï¼ŒQ3ã€‚ æ¥ç€åœ¨ä¸‹é¢ä¸€è¡Œæ”¾ç½® Q4æ—¶ï¼Œç”¨å½©è‰²æ ‡æ³¨å‡ºçš„åŒºåŸŸéƒ½æ˜¯ä¸å¯è¡Œçš„æ–¹æ¡ˆï¼Œä¼šä¸å·²ç»æ”¾ç½®çš„ä¸‰ä¸ªçš‡åäº§ç”Ÿå†²çªã€‚<img src="https://i.postimg.cc/2jKVq5cV/image.png" alt="è¡¨è¾¾æœ‰æ— å†²çªçš„äºŒè¿›åˆ¶æ•°å›¾è§£ï¼ˆæœ¬å›¾æ¥æºäºç½‘ç»œï¼‰">è¿™ä¸ªå†²çªå…¶å®æœ‰ä¸‰ç§ä¸åŒçš„æƒ…å†µï¼Œæˆ‘ä»¬ç”¨ä¸‰ä¸ªå˜é‡Aï¼ŒBï¼ŒCåˆ†åˆ«è¡¨ç¤ºè¿™ä¸‰ç§ä¸åŒçš„å†²çªã€‚è¿™ä¸‰ä¸ªå˜é‡éƒ½æ˜¯ä¸€ä¸ªå…«ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œè¿™å…«ä½ä¸­ï¼Œä¸º1 çš„è¡¨ç¤ºæœ‰å†²çªï¼Œä¸º 0 åˆ™è¡¨ç¤ºæ²¡æœ‰å†²çªã€‚ (1)ä¸å·²æ”¾ç½®çš„çš‡åå¤„äºåŒä¸€åˆ—ä¸­ï¼šæˆ‘ä»¬ç”¨ Aè¡¨ç¤ºè¿™ç§å†²çªã€‚ä¾‹å¦‚åœ¨å›¾ä¸­ï¼Œç¬¬å››è¡Œä¼šæœ‰ä¸‰ä¸ªä½ç½®å› ä¸ºåˆ—æ”»å‡»è€Œä¸èƒ½å†æ”¾ç½®çš‡åï¼ˆå›¾ä¸­å¤§çº¢è‰²æ–¹å—ï¼‰ï¼Œå› æ­¤A = 1000 1001ã€‚ (2)ä¸å·²æ”¾ç½®çš„çš‡åå¤„äºåŒä¸€å·¦æ–œ(æŒ‡å‘å³ä¸‹æ–¹)å¯¹è§’çº¿ä¸­ï¼šæˆ‘ä»¬ç”¨ Bè¡¨ç¤ºè¿™ç§å†²çªã€‚ä¾‹å¦‚åœ¨å›¾ä¸­ï¼Œè“è‰²æ–¹å—æ‰€è¡¨ç¤ºçš„ä½ç½®ï¼Œåˆ†åˆ«æ˜¯ç”±äºQ1å’ŒQ2çš„å·¦æ–œå¯¹è§’çº¿ä¸Šçš„æ”»å‡»è€Œä¸èƒ½å¤Ÿæ”¾ç½®æ–°çš„çš‡åï¼Œå› æ­¤B = 0001 0010ã€‚ (3)ä¸å·²æ”¾ç½®çš„çš‡åå¤„äºåŒä¸€å³æ–œ(æŒ‡å‘å³ä¸Šæ–¹)å¯¹è§’çº¿ä¸­ï¼šæˆ‘ä»¬ç”¨ C è¡¨ç¤ºè¿™ç§å†²çªã€‚ä¾‹å¦‚å›¾ä¸­ç²‰è‰²æ–¹å—ï¼Œæ˜¯ç”± Q2çš„å³æ–œå¯¹è§’çº¿çš„æ”»å‡»é€ æˆçš„ã€‚å› æ­¤ C = 0010 0000ã€‚ æœ‰äº† Aï¼ŒBï¼ŒCä¸‰ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æ±‚å‡ºå½“å‰è¡Œ(ç¬¬ 4è¡Œ)ä¸­ï¼Œæœ‰å“ªäº›ä½ç½®æ˜¯å¯ä»¥æ”¾ç½®çš‡åçš„ã€‚è¿™ä¸ªå˜é‡æˆ‘ä»¬ç”¨ D æ¥è¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºD = ~(A|B|C)ã€‚Dä¸­ä¸º 1 çš„é‚£äº›ä½ç½®åˆ™æ˜¯æˆ‘ä»¬å¯ä»¥æ”¾ç½®çš‡åçš„ä½ç½®ã€‚ä¸Šå›¾ä¸­ï¼ŒD =0100 0100ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªå¯èƒ½çš„æ”¾ç½®çš‡åçš„ä½ç½®ï¼Œé‚£ä¹ˆå¦‚ä½•å–å‡ºæ¯ä¸ªå¯èƒ½çš„ä½ç½®å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªæŠ€å·§ã€‚æˆ‘ä»¬ç”¨ bit è¡¨ç¤ºå¯èƒ½çš„ä¸€ä¸ªä½ç½®ï¼Œä½¿ç”¨ bit = D &amp; (-D)å³å¯å–å‡º D ä¸­æœ€å³è¾¹çš„ 1ï¼ˆLSBï¼ŒLeast Significant Bitï¼‰ã€‚ä¾‹å¦‚ D = 01000100ï¼Œåˆ™-D = 10111100ï¼ˆæ³¨æ„è®¡ç®—æœºä¸­çš„æ•°éƒ½æ˜¯è¡¥ç ï¼Œ-D = ~D + 1ï¼‰ã€‚è€Œbit =D &amp; (-D) = 0000 0100 å–å‡ºäº†æœ€å³è¾¹çš„é‚£ä¸ª 1ï¼Œä»£è¡¨åœ¨ç¬¬ 4 è¡Œç¬¬ 6åˆ—æ”¾ç½®ä¸€ä¸ªçš‡åã€‚é‚£ä¹ˆåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¦‚ä½•ç¡®å®šç¬¬ 5 è¡Œçš„ Aã€Bã€Cçš„å€¼å‘¢ï¼Ÿå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå¯¹äºè¡¨ç¤ºåˆ—å†²çªçš„å˜é‡ A æ¥è¯´ï¼Œåªè¦ä½¿ç”¨ A|bitå³å¯è¡¨ç¤ºä¸‹ä¸€è¡Œçš„åˆ—å†²çªæƒ…å†µï¼Œå¯¹äº Bï¼Œé‡‡ç”¨(B|bit)&lt;&lt;1ï¼Œå¯¹äºCï¼Œé‡‡ç”¨(C|bit)&gt;&gt;1 å³å¯è¡¨ç¤ºä¸‹ä¸€è¡Œä¸­ï¼Œå¯¹è§’çº¿å†²çªçš„æƒ…å†µã€‚ä¸Šè¿°ç®—æ³•çš„æ€è·¯æ¥è‡ªäº <a href="https://www.cl.cam.ac.uk/~mr10/backtrk.pdf"><strong>BacktrackingAlgorithms in MCPL using Bit Patterns and Recursion</strong> <em>-byMartin Richards</em></a>(è¿™ä¸ªé“¾æ¥å¥½åƒå¹¶ä¸å¾ˆç¨³å®šçš„æ ·å­ï¼Œå¯ä»¥æŒ‚ä¸ªæ¢¯å­å»çœ‹) 2. ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs0</span><span class="params">(<span class="type">int</span> hash,<span class="type">int</span> B,<span class="type">int</span> C)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//Bå·¦æ–œå†²çª</span></span><br><span class="line">    <span class="comment">//Cå³æ–œå†²çª</span></span><br><span class="line"><span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="comment">//ç”±äºåŒåˆ—å†²çªçš„æ¡ä»¶é™å®šï¼Œä¸”æ£‹ç›˜è¡Œæ•°ä¸åˆ—æ•°ç›¸ç­‰</span></span><br><span class="line">    <span class="comment">//è‹¥æƒ³åœ¨æ¯ä¸€åˆ—éƒ½æ”¾ç½®çš‡åï¼Œåˆ™çš‡åä¸å¯èƒ½åœ¨åŒåˆ—ï¼ŒåŒæ—¶æ»¡è¶³æ¯ä¸€åˆ—éƒ½æœ‰çš‡å</span></span><br><span class="line">    <span class="comment">//å› è€Œå¯é€šè¿‡åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¯ä¸€åˆ—éƒ½æœ‰çš‡åçš„æ¡ä»¶æ¥åˆ¤æ–­æ˜¯å¦è¾¾æˆæœ€ç»ˆæ•ˆæœ</span></span><br><span class="line"><span class="comment">//hashè®°å½•åˆ—å†²çª</span></span><br><span class="line"><span class="comment">//å½“hash==nï¼Œå³æ‰€æœ‰æ¯ä¸€åˆ—éƒ½æ”¾ç½®äº†çš‡åæ—¶ï¼Œç»“æŸæœ¬è½®è¯•æ¢å¹¶è®¡æ•°</span></span><br><span class="line"><span class="keyword">if</span> (hash==n)</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//è®¾ç½®å›æº¯è®°å¿†ç‚¹rememtemp</span></span><br><span class="line"><span class="comment">//è‹¥rememtemp==0æ—¶ï¼Œå³è¯¥è¡Œæ— ä½ç½®å¯ä¾›æ”¾ç½®ï¼Œç»“æŸè¯•æ¢å¹¶å¼€å§‹å›æº¯</span></span><br><span class="line"><span class="type">int</span> rememtemp = n &amp; ~(B | C | hash);  <span class="comment">//åˆå§‹ç»§æ‰¿ä¸Šä¸€è¡Œä¸­çš„æ”¾ç½®æƒ…å†µ</span></span><br><span class="line"><span class="keyword">while</span> (rememtemp)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å®šä¹‰Aè¡¨ç¤ºåŒåˆ—å†²çªï¼Œä¸”å…¶åˆ—ä½ç½®ä¼šç›´æ¥è¢«ç»§æ‰¿åˆ°è¯¥è¡Œåçš„å„è¡Œä¸­</span></span><br><span class="line"><span class="type">int</span> A = rememtemp &amp; -rememtemp;     <span class="comment">//å–å½“å‰è¡Œä¸­æœ€å³ä¸€ä¸ªå¯æ”¾ç½®çš‡åçš„ä½ç½®</span></span><br><span class="line">rememtemp -= A;       <span class="comment">//åœ¨è®°å¿†ç‚¹ä¸­å°†Aä½ç½®è®¾ç½®ä¸º0</span></span><br><span class="line"><span class="comment">//å·¦æ–œå†²çªä¸å³æ–œå†²çªåœ¨ç»§æ‰¿ä¸Šä¸€è¡Œçš„å†²çªæƒ…å†µåŒæ—¶ï¼Œåˆ†åˆ«é€šè¿‡å¯¹è¯¥Aä½ç½®çš„å·¦ç§»ä¸å³ç§»è¿›è¡Œå¯¹ä¸‹ä¸€è¡Œå†²çªçš„æ›´æ–°</span></span><br><span class="line"><span class="comment">//å¯¹hashæ›´æ–°åˆ—å†²çªæƒ…å†µ</span></span><br><span class="line"><span class="built_in">dfs0</span>(hash | A, (B | A) &lt;&lt; <span class="number">1</span>, (C | A) &gt;&gt; <span class="number">1</span>);      <span class="comment">//è¿›å…¥ä¸‹ä¸€è¡Œ</span></span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> num++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 3. ç»“æœè¾“å‡ºï¼š<img src="https://i.postimg.cc/ZRmDxZwN/image.png" alt="6-queens"> <img src="https://i.postimg.cc/y89PQtgy/image.png" alt="10-queens"> <img src="https://i.postimg.cc/W1262n5M/image.png" alt="14-queens"> <img src="https://i.postimg.cc/d0f8jKwB/image.png" alt="16-queens"> ###å°ç»“åˆ©ç”¨ä½è¿ç®—å¯¹n-queensé—®é¢˜å¯è¡Œè§£çš„æ•°é‡è¿›è¡Œç»Ÿè®¡ï¼Œå…¶å»¶ç»­äº†ä¸Šè¿°é€šè¿‡å“ˆå¸Œè¡¨çš„æ€è·¯ï¼Œä½†ä»£ç æ›´ä¸ºç®€æ´ã€è¿è¡Œé€Ÿåº¦æ›´å¿«ã€å ç”¨ç©ºé—´æ›´å°ã€‚å”¯ä¸€æ¯”è¾ƒå›°éš¾çš„æ˜¯å¯¹äºå•ä¸€çš„äºŒè¿›åˆ¶å˜é‡æ¥å‚¨å­˜æ•´ä¸ªæ£‹ç›˜çš„ç©ºä½æ›´æ–°ä¿¡æ¯ï¼Œåœ¨å‘ä¸‹è¯•æ¢è¿‡ç¨‹ä¸­å®¹æ˜“å¿½ç•¥å¯¹å½“å‰è¡Œçš„â€œå­˜æ¡£â€ï¼Œè€Œåœ¨å›æº¯è¿‡ç¨‹ä¸­åˆå®¹æ˜“å¿˜è®°â€œè¯»æ¡£â€ï¼Œè€Œå¯¼è‡´ä¿¡æ¯æ··ä¹±ã€‚è¿™ä¸ªé—®é¢˜çš„è§£å†³åˆ™æ˜¯åœ¨æ¯æ¬¡é€’å½’ä¹‹å‰è®¾ç½®ä¸€ä¸ªå­˜æ¡£å˜é‡ï¼Œå°†å½“å‰çš„æ•°æ®å­˜å‚¨ä¹‹åå†è¿›è¡Œå‘ä¸‹çš„è¯•æ¢ï¼Œå› è€Œä¿è¯äº†åœ¨æ¯ä¸€å±‚çš„å›æº¯è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è¯»å–ä¸Šæ¬¡æ‰€è®°å½•çš„æ•°æ®ã€‚ä¸‹å›¾æ˜¯1-27é˜¶é—®é¢˜çš„æ‰€æœ‰å¯è¡Œè§£ï¼š <img src="/article/6703afdf/image.png" alt="1~27é˜¶å¯è¡Œè§£">å¯¹äºè¯¥å›¾ä¸­çš„åˆ†å¸ƒçŠ¶æ€çš„æ€»ç»“ä¸æ€è€ƒï¼Œåˆå¼•å‡ºäº†ä¸‹æ–‡æ–°çš„ç®—æ³•â€”â€”å¤šé¡¹å¼æ—¶é—´ç®—æ³•ã€‚</p><h2 id="nçš‡åçš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•">Nçš‡åçš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•</h2><h3 id="ç®—æ³•è¯´æ˜-1">ç®—æ³•è¯´æ˜</h3><p>æœ¬ç®—æ³•æ¥è‡ªäº<a href="https://dl.acm.org/doi/pdf/10.1145/101340.101343"><strong>APolynomial Time Algorithm for the N-Queens Problem</strong> <em>-by RokSosic &amp; Jun Gu</em></a>(è¿™ä¸ªé“¾æ¥å¥½åƒå¹¶ä¸å¾ˆç¨³å®šçš„æ ·å­ï¼Œå¯ä»¥æŒ‚ä¸ªæ¢¯å­å»çœ‹) åœ¨ 1990å¹´é¦–å…ˆæå‡ºã€‚å…¶çµæ„Ÿæ¥æºäºå¯¹né˜¶å¯è¡Œè§£æ•°é‡çš„è€ƒå¯Ÿï¼Œå¯ä»¥å¾—å‡ºï¼šå¯è¡Œè§£æ•°é‡ä¼—å¤šä¸”å‡åŒ€åˆ†å¸ƒäºæ•´ä¸ªçŠ¶æ€ç©ºé—´(æ£‹ç›˜ä¸Šçš‡åçš„æ‰€æœ‰å¯èƒ½çš„ n!ä¸ªæ’åˆ—)ä¸­ã€‚ æ€è·¯ç®€è¿°ï¼šé€šè¿‡ä¸€ç»´æ•°ç»„å°†è¡Œæ•°ä¸è¯¥è¡Œå¯¹åº”çš‡åçš„åˆ—ä½ç½®å»ºç«‹æ˜ å°„ï¼›-&gt;éšæœºæ‰“ä¹±å¹¶ä¿è¯æ¯è¡Œçš‡åä¸åœ¨åŒä¸€åˆ—ï¼›-&gt;éå†åˆ¤æ–­çš‡åiæˆ–çš‡åjæ˜¯å¦å­˜åœ¨å¯¹è§’çº¿å†²çªï¼›-&gt;è‹¥å†²çªï¼Œåˆ™è¯•æ¢äº¤æ¢ä¸¤è¡Œçš‡åçš„ä½ç½®ï¼›-&gt;åˆ¤æ–­äº¤æ¢åï¼Œå…¨å±€å†²çª(è¯„ä¼°å€¼)æ˜¯å¦å‡å°‘ï¼Œè‹¥å‡å°‘åˆ™ç¡®å®šäº¤æ¢å¹¶ä½¿æ“ä½œæ•°è‡ªå¢è®°å½•ï¼Œå¦åˆ™ä¸äº¤æ¢ä¸”ä¸è®°å½•ï¼›-&gt;è‹¥éƒ½ä¸å†²çªåˆ™ä¸æ“ä½œï¼› -&gt;éå†ï¼ŒçŸ¥é“æ“ä½œæ•°ä¸º0ï¼›-&gt;åˆ¤æ–­è°ƒæ•´åå…¨å±€æ˜¯å¦å­˜åœ¨å†²çªï¼Œè‹¥å­˜åœ¨åˆ™æ‰“ä¹±é‡æ¥ï¼ˆé‡å¯ï¼‰ï¼›-&gt;è¾“å‡ºè¯¥è§£ã€‚</p><p>å¦‚ä¸‹å›¾æ˜¯åŸè®ºæ–‡ä¸­å…³äºç®—æ³•æ€è·¯çš„è¯´æ˜(éƒ¨åˆ†): <img src="/article/6703afdf/image%20(2).png" alt="A Fast Algorithm for the N-Queens Problem"></p><p>æ­¤ç®—æ³•åªæ˜¯ç”¨äºå¯»æ‰¾å¹¶è¾“å‡ºä»»ä¸€å¯è¡Œè§£ï¼Œè€Œä¸ä½œä¸ºè®¡ç®—å¯è¡Œè§£æ€»æ•°çš„ç®—æ³•ã€‚</p><h3 id="ä»£ç å®ç°">ä»£ç å®ç°</h3><p>ä»£ç å®ç°å¦‚ä¸‹ï¼ˆè™½ç„¶æ„Ÿè§‰æˆ‘å†™çš„æ€ªæ€ªçš„ï¼‰: 1. è¯„ä¼°å‡½æ•°ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯„ä¼°å‡½æ•°ï¼Œè®¡ç®—å½“å‰æ£‹ç›˜ä¸‹çš„å†²çªæ•°ï¼Œä½œä¸ºè¯„ä¼°å€¼</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Conflicts</span><span class="params">(<span class="type">int</span>* Board)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; &quot;c&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Board[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="type">int</span> Conf = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å¯¹è§’çº¿å†²çªæ•°</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">abs</span>(j - i) == <span class="built_in">abs</span>(Board[i] - Board[j]))</span><br><span class="line">Conf++;</span><br><span class="line"><span class="comment">// åˆ—å†²çªæ•°</span></span><br><span class="line"><span class="keyword">if</span> (Board[i] == Board[j])</span><br><span class="line">Conf++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; Conf&lt;&lt;endl;*/</span></span><br><span class="line"><span class="keyword">return</span> Conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol start="2" type="1"><li><p>å•ä¸ªçš‡åå±€éƒ¨å¯¹è§’çº¿å†²çªè®¡ç®—ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å•ä¸ªçš‡åå±€éƒ¨å¯¹è§’çº¿å†²çª</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Attacked</span><span class="params">(<span class="type">int</span> *Board,<span class="type">int</span> row)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/*for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Board[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="type">int</span> Att = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=row+<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">abs</span>(row - i) == <span class="built_in">abs</span>(Board[i] - Board[row]))</span><br><span class="line">Att++;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; Att&lt;&lt;endl;*/</span></span><br><span class="line"><span class="keyword">return</span> Att;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></p></li><li><p>å–è§£ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Heuristic</span><span class="params">(<span class="type">int</span>* Board)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> swaps_performed = <span class="number">0</span>;  <span class="comment">//è®¾å®šè®¡æ­¥å™¨</span></span><br><span class="line"><span class="type">int</span>* Current = <span class="keyword">new</span> <span class="type">int</span>[n];      <span class="comment">//è®¾å®šå½“å‰æ£‹ç›˜</span></span><br><span class="line"><span class="type">int</span>* Next = <span class="keyword">new</span> <span class="type">int</span>[n];         <span class="comment">//è®¾å®šè¯•æ¢æ£‹ç›˜</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line">Current[i] = Board[i];</span><br><span class="line">Next[i] = Board[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">swaps_performed = <span class="number">0</span>;     <span class="comment">//é‡è®¡</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Attacked</span>(Current, i) || <span class="built_in">Attacked</span>(Current, j))   <span class="comment">//if queeni is attacked or queenj is attacked</span></span><br><span class="line">&#123;</span><br><span class="line">Next[i] = Current[j];</span><br><span class="line">Next[j] = Current[i];</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Conflicts</span>(Next) &lt; <span class="built_in">Conflicts</span>(Current))     <span class="comment">//if swap(queeni,queenj) reduces collisions </span></span><br><span class="line">&#123;</span><br><span class="line">Current[i] = Next[i];</span><br><span class="line">Current[j] = Next[j];</span><br><span class="line">swaps_performed++;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; &quot;?&quot; &lt;&lt; endl;*/</span></span><br><span class="line"><span class="comment">/*for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Board[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">Next[i] = Current[i];</span><br><span class="line">Next[j] = Current[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Conflicts</span>(Current))      <span class="comment">//æ£€æŸ¥æ˜¯å¦è·å¾—è§£ï¼Œè‹¥æœªè·å¾—è§£åˆ™æ‰“ä¹±é‡æ¥</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j = <span class="built_in">rand</span>() % n;</span><br><span class="line"><span class="type">int</span> temp = Current[i];</span><br><span class="line">Current[i] = Current[j];</span><br><span class="line">Current[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line">swaps_performed = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (swaps_performed);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">Board[i] = Current[i];</span><br><span class="line"><span class="keyword">delete</span>[]Next;</span><br><span class="line"><span class="keyword">delete</span>[]Current;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li><li><p>å¤šé¡¹å¼æ—¶é—´æµ‹è¯•ä¸»å‡½æ•°ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Polyn</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//Board[n]çš„å€¼ä¸ºæ£‹ç›˜ç¬¬nè¡Œæ”¾ç½®çš‡åçš„åˆ—ä½ç½®</span></span><br><span class="line"><span class="type">int</span>* Board = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">Board[i] = i;         </span><br><span class="line"><span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)     <span class="comment">//ä¿è¯ä¸æ”¾åœ¨åŒåˆ—</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j = <span class="built_in">rand</span>() % n;</span><br><span class="line"><span class="type">int</span> temp = Board[i];</span><br><span class="line">Board[i] = Board[j];</span><br><span class="line">Board[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Board[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="built_in">Heuristic</span>(Board);</span><br><span class="line"><span class="comment">//è¾“å‡ºè§£</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+---&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (j == n - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;|&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (Board[i] == j)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; Q &quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot; # &quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (j == n - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (i == n - <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+---&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (j == n - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> ç»“æœå±•ç¤º(14çš‡åä¸ºä¾‹)ï¼š <img src="/article/6703afdf/img.png" alt="14queens"></p></li></ol><h3 id="å°ç»“">å°ç»“ï¼š</h3><p>åœ¨ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œæ„Ÿè§‰æœ‰äº›ç†Ÿæ‚‰ï¼Œæœ‰ç‚¹éšæœºé‡å¯çˆ¬å±±çš„å‘³é“ï¼Œæ€€ç–‘æ˜¯ä¸æ˜¯è‡ªå·±å¹¶æ²¡æœ‰å¾ˆå¥½åœ°åˆ©ç”¨å¥½åŸä½œè€…çš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•æ€è·¯ï¼‰å› ä¸ºåœ¨å®ç°è¿‡ç¨‹ä¸­ä¼šå‡ºç°è‡ªåŠ¨è·³å‡ºå±€åŸŸæœ€ä¼˜è§£ï¼ˆè€Œå¯èƒ½å¹¶æœªè¾¾åˆ°å…¨å±€æœ€ä¼˜ï¼‰ï¼Œå› è€Œå‡ºç°é”™è¯¯çš„ç»“æœï¼Œé‚åœ¨å®Œå…¨ç…§æ¬è®ºæ–‡ä¸­ä¼ªä»£ç çš„å†…å®¹åŒæ—¶ï¼Œå¢æ·»äº†éšæœºé‡å¯çš„éƒ¨åˆ†ï¼Œæ¥ç¡®ä¿æœ€ç»ˆç»“æœä¸ºå…¨å±€æœ€ä¼˜è€Œéä»…ä»…çš„å±€éƒ¨æœ€ä¼˜ã€‚æˆ‘åœ¨è¿™é‡Œçš„å¤„ç†ä¼¼ä¹å¹¶ä¸æ˜¯ä¸€ä¸ªæœ€åˆé€‚çš„å¼¥è¡¥ç­–ç•¥ï¼Œå¯ä»¥è¯´å¹¶æœªå¾ˆå¥½åœ°éµç…§å¤šé¡¹å¼æ—¶é—´ç®—æ³•çš„å·§å¦™è®¾è®¡ã€‚åç»­ï¼ˆæˆ–è®¸å¾ˆæœ‰å¯èƒ½ä¸ä¼šï¼‰å†è¿”å›æ¥å¥½å¥½å‚æ‚Ÿä¸€ä¸‹ç®—æ³•æ¥æºçš„è®ºæ–‡ã€‚è€Œé¢å¯¹ä¸Šè¿°æåˆ°çš„å±€éƒ¨æœ€ä¼˜è§£çš„è·³å‡ºï¼Œä¸‹æ–‡å°†ä¼šç”±æ­¤å±•ç¤ºä¸€ä¸ªå·§å¦™è§£å†³å±€éƒ¨å›°æ­»é—®é¢˜/æé«˜æ•ˆç‡çš„ç®—æ³•ã€‚</p><h2 id="æ¨¡æ‹Ÿé€€ç«ç®—æ³•åœ¨nçš‡åé—®é¢˜çš„è¿ç”¨">æ¨¡æ‹Ÿé€€ç«ç®—æ³•åœ¨Nçš‡åé—®é¢˜çš„è¿ç”¨</h2><p>æ¨¡æ‹Ÿé€€ç«å¾ˆå¥½åœ°è§£å†³äº†å±€éƒ¨å›°æ­»åœ°é—®é¢˜ï¼Œå› ä¸ºå®ƒåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¯¹å¾®å°å˜åŠ¨è¿›è¡Œä¸€å®šç¨‹åº¦ä¸Šçš„æ¥å—ï¼Œå³ä½¿è¿™ä¸ªå¾®å°å˜åŠ¨æ‰€å¾—åˆ°çš„æœ€ç»ˆè§£å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„è§£ï¼Œæ­£æ˜¯è¿™ç§è®¾å®šæé«˜äº†æ‰§è¡Œæ•ˆç‡ã€‚æ­¤ç®—æ³•åªæ˜¯ç”¨äºå¯»æ‰¾å¹¶è¾“å‡ºä»»ä¸€å¯è¡Œè§£ï¼Œè€Œä¸ä½œä¸ºè®¡ç®—å¯è¡Œè§£æ€»æ•°çš„ç®—æ³•ã€‚</p><h3 id="ç®—æ³•è¯´æ˜-2">ç®—æ³•è¯´æ˜</h3><p>æ¨¡æ‹Ÿé€€ç«ç®—æ³•ä»æŸä¸€è¾ƒé«˜åˆæ¸©å‡ºå‘ï¼Œä¼´éšæ¸©åº¦å‚æ•°çš„ä¸æ–­ä¸‹é™,ç»“åˆä¸€å®šçš„æ¦‚ç‡çªè·³ç‰¹æ€§åœ¨è§£ç©ºé—´ä¸­éšæœºå¯»æ‰¾ç›®æ ‡å‡½æ•°çš„å…¨å±€æœ€ä¼˜è§£ï¼Œå³åœ¨å±€éƒ¨æœ€ä¼˜è§£èƒ½æ¦‚ç‡æ€§åœ°è·³å‡ºå¹¶æœ€ç»ˆè¶‹äºå…¨å±€æœ€ä¼˜ã€‚è¿™é‡Œçš„â€œä¸€å®šçš„æ¦‚ç‡â€çš„è®¡ç®—å‚è€ƒäº†é‡‘å±å†¶ç‚¼çš„é€€ç«è¿‡ç¨‹ï¼Œè¿™ä¹Ÿæ˜¯æ¨¡æ‹Ÿé€€ç«ç®—æ³•åç§°çš„ç”±æ¥ã€‚å°†æ¸©åº¦Tå½“ä½œæ§åˆ¶å‚æ•°ï¼Œç›®æ ‡å‡½æ•°å€¼fè§†ä¸ºå†…èƒ½Eï¼Œè€Œå›ºä½“åœ¨æŸæ¸©åº¦Tæ—¶çš„ä¸€ä¸ªçŠ¶æ€å¯¹åº”ä¸€ä¸ªè§£[å…¬å¼]ï¼Œç„¶åç®—æ³•è¯•å›¾éšç€æ§åˆ¶å‚æ•°Tçš„é™ä½ï¼Œä½¿ç›®æ ‡å‡½æ•°f(å†…èƒ½E)ä¹Ÿé€æ¸é™ä½ï¼Œç›´è‡³è¶‹äºå…¨å±€æœ€å°å€¼ï¼ˆé€€ç«ä¸­ä½æ¸©æ—¶çš„æœ€ä½èƒ½é‡çŠ¶æ€ï¼‰ï¼Œå°±åƒé‡‘å±é€€ç«è¿‡ç¨‹ä¸€æ ·ã€‚<img src="https://pic4.zhimg.com/80/v2-e1529b1b1577eecd16fb8a5418d51533_720w.jpg" alt="æ¨¡æ‹Ÿé€€ç«æµç¨‹å›¾"> å…¶ä¸­æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼š Â·åˆå§‹ç‚¹çš„é€‰å–å¯¹ç®—æ³•ç»“æœæœ‰ä¸€å®šçš„å½±å“ï¼Œæœ€å¥½æ˜¯å¤šæ¬¡è¿è¡Œå¯¹ç»“æœè¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚ Â·åœ¨ç®—æ³•è¿è¡ŒåˆæœŸï¼Œæ¸©åº¦ä¸‹é™å¿«ï¼Œé¿å…æ¥å—è¿‡å¤šçš„å·®ç»“æœã€‚å½“è¿è¡Œæ—¶é—´å¢åŠ ï¼Œæ¸©åº¦ä¸‹é™å‡ç¼“ï¼Œä»¥ä¾¿äºæ›´å¿«ç¨³å®šç»“æœã€‚Â·å½“è¿­ä»£æ¬¡æ•°å¢åŠ åˆ°ä¸€å®šæ¬¡æ•°æ—¶ï¼Œç»“æœå¯èƒ½å·²ç»è¾¾åˆ°ç¨³å®šï¼Œä½†æ˜¯è·ç¦»ç®—æ³•ç»“æŸè¿˜æœ‰ä¸€æ®µæ—¶é—´ã€‚åœ¨è®¾è®¡ç¨‹åºæ—¶åº”è¯¥åŠ å…¥é€‚å½“çš„è¾“å‡ºæ¡ä»¶ï¼Œæ»¡è¶³è¾“å‡ºæ¡ä»¶å³å¯ç»“æŸç¨‹åºã€‚</p><p>ä»¥ä¸Šå†…å®¹æ¥è‡ª <a href="https://zhuanlan.zhihu.com/p/266874840"><strong>æ¨¡æ‹Ÿé€€ç«ç®—æ³•è¯¦è§£</strong><em>-çŸ¥ä¹ <span class="citation" data-cites="æ™ºèƒ½ç®—æ³•">@æ™ºèƒ½ç®—æ³•</span></em></a></p><p>æ€è·¯ç®€è¿°ï¼š é€šè¿‡ä¸€ç»´æ•°ç»„å°†è¡Œæ•°ä¸è¯¥è¡Œå¯¹åº”çš‡åçš„åˆ—ä½ç½®å»ºç«‹æ˜ å°„ï¼›-&gt;è®¾å®šåˆå§‹æ¸©åº¦ä¸”è¶³å¤Ÿå¤§ï¼Œè®¾å®šæœ€å°æ¸©åº¦ä¸”ä¸€å®šå°ï¼Œè®¾å®šé€€ç«é€Ÿç‡ï¼›-&gt;ä»¥è¡Œä¸ºå•ä½éå†è°ƒæ•´çš‡åä½ç½®ï¼Œå¹¶è®¡ç®—è°ƒæ•´å‰åçš„å†²çªå€¼çš„å·®ï¼›-&gt;è‹¥èƒ½é‡å·®å°äº0ï¼Œåˆ™è¯æ˜ä¿®æ”¹åçš„è¯„ä¼°å€¼è€•åœ°ï¼Œåœ¨ä¸€å®šæ¦‚ç‡ä¸‹æ¥æ”¶è¯„ä¼°å€¼é™ä½çš„ä¿®æ”¹ï¼Œä¸”ä½¿è¿™ä¸ªæ¦‚ç‡ä¸çŸ¥é€æ¸å‡å°ï¼›å¦åˆ™ç›´æ¥æ¥å—è°ƒæ•´ï¼›-&gt;é€æ¸é™æ¸©ç¡®ä¿åœ¨æœªè·å¾—æœ€ä¼˜è§£æ—¶è·³å‡ºå±€éƒ¨æœ€ä½æ¸©ï¼›-&gt;ç›´è‡³è°ƒæ•´åˆ°è·å¾—å…¨å±€æœ€ä½æ¸©ç»“æŸï¼› -&gt;è¾“å‡ºè¯¥è§£ã€‚</p><h3 id="ä»£ç å®ç°-1">ä»£ç å®ç°</h3><p>ä»£ç å®ç°å¦‚ä¸‹ï¼š 1. è¯„ä¼°å‡½æ•°ï¼ˆä¸å¤šé¡¹å¼æ—¶é—´ç®—æ³•çš„å…¨å±€å†²çªæ•°å‡½æ•°ä¸€æ ·ï¼‰<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Conflicts</span><span class="params">(<span class="type">int</span>* Board)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; &quot;c&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Board[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="type">int</span> Conf = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å¯¹è§’çº¿å†²çªæ•°</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">abs</span>(j - i) == <span class="built_in">abs</span>(Board[i] - Board[j]))</span><br><span class="line">Conf++;</span><br><span class="line"><span class="comment">// åˆ—å†²çªæ•°</span></span><br><span class="line"><span class="keyword">if</span> (Board[i] == Board[j])</span><br><span class="line">Conf++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*cout &lt;&lt; Conf&lt;&lt;endl;*/</span></span><br><span class="line"><span class="keyword">return</span> Conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol start="2" type="1"><li><p>é€€ç«è°ƒæ•´ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span>* <span class="title">proper</span><span class="params">(<span class="type">int</span>* Board, <span class="type">int</span> row)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> T = <span class="number">100.0</span>;    <span class="comment">//è®¾å®šåˆå§‹æ¸©åº¦ä¸”è¶³å¤Ÿå¤§</span></span><br><span class="line"><span class="type">double</span> Tmin = <span class="number">1.0</span>;        <span class="comment">//è®¾å®šæœ€å°æ¸©åº¦ä¸”ä¸€å®šå°</span></span><br><span class="line"><span class="type">double</span> Rate = <span class="number">0.8</span>;           <span class="comment">//é€€ç«é€Ÿç‡</span></span><br><span class="line"><span class="type">int</span>* Current = <span class="keyword">new</span> <span class="type">int</span> [n];         <span class="comment">//è®°å½•å½“å‰æ£‹ç›˜æ”¾ç½®æƒ…å†µ</span></span><br><span class="line"><span class="type">int</span>* Next = <span class="keyword">new</span> <span class="type">int</span> [n];           <span class="comment">//è®°å½•ä¿®æ”¹åæ£‹ç›˜æ”¾ç½®æƒ…å†µ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line">Current[i] = Board[i];</span><br><span class="line">Next[i] = Board[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (T &gt; Tmin)        <span class="comment">//å¼€å§‹é€€ç«</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>;p &lt; n;p++)        <span class="comment">//éå†ä¿®æ”¹</span></span><br><span class="line">&#123;</span><br><span class="line">Next[row] = p;</span><br><span class="line"><span class="type">double</span> dE = <span class="built_in">Conflicts</span>(Next) - <span class="built_in">Conflicts</span>(Current);       <span class="comment">//è®¡ç®—èƒ½é‡å·®</span></span><br><span class="line"><span class="comment">//è‹¥èƒ½é‡å·®å°äº0ï¼Œåˆ™è¯æ˜ä¿®æ”¹åçš„è¯„ä¼°å€¼æ›´ä½</span></span><br><span class="line"><span class="comment">//åœ¨ä¸€å®šæ¦‚ç‡ä¸‹æ¥å—è¯„ä¼°å€¼é™ä½çš„ä¿®æ”¹ï¼Œä¸”ä½¿è¿™ä¸ªæ¦‚ç‡å€¼é€æ¸å‡å°</span></span><br><span class="line"><span class="keyword">if</span> (dE &lt;= <span class="number">0</span> || (<span class="built_in">exp</span>((<span class="number">-1</span>) * dE / T) &gt; <span class="built_in">rand</span>() % <span class="number">100</span> * <span class="number">1.0</span> / <span class="number">10</span>))</span><br><span class="line">Current[row] = Next[row];</span><br><span class="line"><span class="comment">/*for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Current[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line">&#125;</span><br><span class="line">T *= Rate;         <span class="comment">//é™æ¸©</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]Next;</span><br><span class="line">Board[row] = Current[row];</span><br><span class="line"><span class="keyword">delete</span>[]Current;</span><br><span class="line"><span class="keyword">return</span> Board;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li><li><p>æ¨¡æ‹Ÿé€€ç«æµ‹è¯•ä¸»å‡½æ•° <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Simul</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//Board[n]çš„å€¼ä¸ºæ£‹ç›˜ç¬¬nè¡Œæ”¾ç½®çš‡åçš„åˆ—ä½ç½®</span></span><br><span class="line"><span class="type">int</span>* Board = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">Board[i] = i;</span><br><span class="line"><span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)     <span class="comment">//ä¿è¯ä¸æ”¾åœ¨åŒåˆ—</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> j = <span class="built_in">rand</span>() % n;</span><br><span class="line"><span class="type">int</span> temp = Board[i];</span><br><span class="line">Board[i] = Board[j];</span><br><span class="line">Board[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*for (int i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; Board[i];</span></span><br><span class="line"><span class="comment">if (i == n - 1)</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="type">int</span> row = <span class="number">0</span>,step=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">Conflicts</span>(Board))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (row == n)         <span class="comment">//é‡ç½®</span></span><br><span class="line">row = <span class="number">0</span>;</span><br><span class="line">Board = <span class="built_in">proper</span>(Board, row++);         <span class="comment">//ä¿®æ”¹ç¬¬rowè¡Œçš‡åæ”¾ç½®ä½ç½®</span></span><br><span class="line"><span class="comment">/*cout &lt;&lt; row;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾“å‡ºè§£</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+---&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (j == n - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;|&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (Board[i] == j)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; Q &quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot; # &quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (j == n - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (i == n<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+---&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (j == n - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li><li><p>è¿è¡Œç»“æœï¼š ä¸ä¸Šæ— å·®ï¼Œä¸åšèµ˜è¿°ã€‚</p></li></ol><h3 id="å°ç»“-1">å°ç»“</h3><p>ç»è¿‡å¯¹Nçš‡åé—®é¢˜çš„ä¸æ–­æ·±å…¥æ¢ç´¢ï¼ˆä¸»è¦ä¾èµ–äºç‰›æ‰¹å‰è¾ˆä»¬çš„ä¸åŒç®—æ³•çš„æå‡ºï¼‰ï¼Œæ¨¡æ‹Ÿé€€ç«ç”¨äºå¯»æ‰¾å¹¶è¾“å‡ºné˜¶ä»»ä¸€å¯è¡Œè§£ï¼Œè¾ƒå¥½åœ°è§£å†³äº†æš´åŠ›éå†ç®—æ³•æ‰€å¯¼è‡´çš„å†…å­˜å ç”¨è¿‡å¤§çš„é—®é¢˜/è€—æ—¶è¿‡é•¿æ•ˆç‡ä½çš„é—®é¢˜ï¼ŒåŒæ—¶è§£å†³äº†å¤šé¡¹å¼ç®—æ³•å±€éƒ¨å›°æ­»çš„é—®é¢˜ï¼Œå¯¹è¯¥é—®é¢˜çš„ä¸åŒç®—æ³•æ¢ç´¢åˆ°æ­¤ä¸ºæ­¢ï¼ˆäº‹å®ä¸Šæ˜¯å› ä¸ºå®éªŒå¸ƒç½®çš„å†…å®¹è¦æ±‚åˆ°æ­¤ä¸ºæ­¢ï¼‰ã€‚</p><h1 id="ç¯‡æœ«bb">ç¯‡æœ«BB</h1><p>N-Queens/Nçš‡å/æ— è®ºæ€ä¹ˆç§°å‘¼çš„è¿™ä¸€äººå·¥æ™ºèƒ½é—®é¢˜ï¼Œå±å®ç»å…¸ï¼Œä¸”è§£æ³•ä¼—å¤šï¼ŒåŒ…æ‹¬ä½†è¿œä¸é™äºå¦‚ä¸Šæ‰€å±•ç¤ºçš„ä½è¿ç®—/å¤šé¡¹å¼æ—¶é—´ç®—æ³•/æ¨¡æ‹Ÿé€€ç«ç®—æ³•çš„ç»å…¸ç®—æ³•ï¼Œç”šè‡³å¦‚ç”¨çˆ¬å±±ç®—æ³•ä¹Ÿå°†æ˜¯å¾ˆå¥½çš„è§£é¢˜æ€è·¯ã€‚å¯¹äºäººå·¥æ™ºèƒ½ï¼Œç®—æ³•ä¼˜åŒ–æ˜¯å…¶æœ€å…³é”®çš„éƒ¨åˆ†ï¼Œé¢å¯¹åºå¤§è®¡ç®—é‡ï¼Œèƒ½å¦ä½¿ç¨‹åºè¯­å¥æ›´åŠ ç²¾ç‚¼/å ç”¨å†…å­˜å°½å¯èƒ½å°‘/è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå†³å®šäº†ä½ çš„äººå·¥æ˜¯å¦è¶³å¤Ÿæ™ºèƒ½ã€‚</p><p><sub>ï¼ˆåæ­£å¯¹äºè¿™ä¸€çµæ´»åº¦æé«˜çš„é—®é¢˜ä¸Šï¼Œæˆ‘æœç´¢ä¸”æµè§ˆäº†å¾ˆå¤šèµ„æ–™å’Œæ–‡çŒ®æ‰é€æ­¥æ¢ç´¢å‡ºæœ€ä¼˜çš„ç®—æ³•ï¼Œä¸€åœˆå­ä¸‹æ¥åªæ˜¯è§‰å¾—è‡ªå·±æ˜¯ä¸€äººå·¥æ™ºéšœï¼‰</sub></p><hr>]]></content>
      
      
      <categories>
          
          <category> äººå·¥æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦ä¼˜å…ˆ </tag>
            
            <tag> å›æº¯æ³• </tag>
            
            <tag> ä½è¿ç®— </tag>
            
            <tag> æ¨¡æ‹Ÿé€€ç« </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello/Bonjour/ä½ å¥½</title>
      <link href="/article/d2ad3194/"/>
      <url>/article/d2ad3194/</url>
      
        <content type="html"><![CDATA[<h2 id="hello">Hello!</h2><p><font size="4">This blog belongs to a student of Ocean University ofChina. It is used to record and share his undergraduate leaningexperience and some interesting technology in computer sciencemajor.</font></p><h2 id="bonjour">Bonjour!</h2><p><font size="4">Ce blog appartient Ã  un Ã©tudiant de l'universitÃ©OcÃ©anique de Chine. Il est utilisÃ© pour documenter et partager sonexpÃ©rience de premier cycle en informatique et centaines techniqueinteressantes.</font></p><h2 id="ä½ å¥½å“‡">ä½ å¥½å“‡ï¼</h2><p><font size="4">è¿™ä¸ªåšå®¢æ˜¯ä¸€ä¸ªä¸­å›½æµ·æ´‹å¤§å­¦çš„å­¦ç”Ÿåˆ›è®¾çš„ï¼Œç”¨æ¥è®°å½•å’Œåˆ†äº«ä¸€äº›ä»–æœ¬ç§‘æœŸé—´åœ¨è®¡ç®—æœºä¸“ä¸šçš„ä¸€äº›å­¦ä¹ ç»éªŒå’Œæœ‰è¶£çš„æŠ€æœ¯ã€‚å¯¹äº†ï¼Œä»–çš„ç½‘åå¸¸ç”¨â€œMo01iHtâ€ï¼Œä»–ä¹Ÿå–œæ¬¢è¢«å«åšâ€œæ–‡å­å“¥â€ã€‚</font></p><hr>]]></content>
      
      
      <categories>
          
          <category> é¢˜å¤–è¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ME </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
